"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/phase4/short-term-goals/page",{

/***/ "(app-pages-browser)/./components/solbot-chat.tsx":
/*!************************************!*\
  !*** ./components/solbot-chat.tsx ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SolBotChat)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Bot,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/bot.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Bot,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Bot,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Bot,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _components_ui_textarea__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/textarea */ \"(app-pages-browser)/./components/ui/textarea.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _components_markdown_renderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/markdown-renderer */ \"(app-pages-browser)/./components/markdown-renderer.tsx\");\n/* harmony import */ var _components_chat_message_parser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/chat-message-parser */ \"(app-pages-browser)/./components/chat-message-parser.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nfunction SolBotChat(param) {\n    let { initialMessages = [], onSendMessage, onContinue, onPhaseComplete, onStageChange, allowInput = true, showContinueButton = false, alwaysShowContinue = true, height = \"500px\", children, videoComponent, quizComponent, feedbackComponent, summaryComponent, useScaffolding = false, scaffoldingSteps = 1, maxMessageLength = 500, userId = \"\", phase = \"intro\", component = \"general\", useAgent = false } = param;\n    _s();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialMessages);\n    const [userInput, setUserInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentScaffoldStep, setCurrentScaffoldStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [charactersRemaining, setCharactersRemaining] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(maxMessageLength);\n    const [conversationId, setConversationId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])());\n    const [loadingText, setLoadingText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"SoLBot is thinking\");\n    const [thinkingIntervalId, setThinkingIntervalId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Predefined responses for phase1 (static content)\n    const predefinedResponses = {\n        phase1: {\n            welcome: \"Welcome to Phase 1! Here I'll guide you through the basics of Self-Regulated Learning. Let's start by understanding the key principles.\",\n            general: \"Self-Regulated Learning involves planning your learning, monitoring your progress, controlling your strategies, and reflecting on your outcomes. This cyclical process helps you become a more effective learner.\",\n            default: \"In Phase 1, we're focusing on building your understanding of the Self-Regulated Learning framework. This knowledge will form the foundation for the rest of our journey.\"\n        }\n    };\n    // Update characters remaining when user types\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SolBotChat.useEffect\": ()=>{\n            setCharactersRemaining(maxMessageLength - userInput.length);\n        }\n    }[\"SolBotChat.useEffect\"], [\n        userInput,\n        maxMessageLength\n    ]);\n    // Auto-scroll to bottom of chat\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SolBotChat.useEffect\": ()=>{\n            const chatContainer = document.getElementById(\"chat-container\");\n            if (chatContainer) {\n                chatContainer.scrollTop = chatContainer.scrollHeight;\n            }\n        }\n    }[\"SolBotChat.useEffect\"], [\n        messages\n    ]);\n    // Function to provide contextual responses based on phase and component\n    const getContextualResponse = (phase, component)=>{\n        var _responses_phase, _responses_phase1;\n        const responses = {\n            phase4: {\n                long_term_goals: \"For long-term goals, focus on aligning them with your broader career or educational aspirations. Make sure they're challenging yet achievable.\",\n                short_term_goals: \"Short-term SMART goals should be Specific, Measurable, Achievable, Relevant, and Time-bound. Break down larger goals into manageable chunks.\",\n                contingency_strategies: \"When creating contingency strategies, think about potential obstacles and how you might adapt your approach if things don't go as planned.\"\n            },\n            phase5: {\n                general: \"When monitoring your learning, regular check-ins and adjustments are key to staying on track.\"\n            }\n        };\n        // Return phase+component specific response, or phase general, or default\n        return ((_responses_phase = responses[phase]) === null || _responses_phase === void 0 ? void 0 : _responses_phase[component]) || ((_responses_phase1 = responses[phase]) === null || _responses_phase1 === void 0 ? void 0 : _responses_phase1[\"general\"]) || \"This stage involves thoughtful planning and reflection on your learning process.\";\n    };\n    const handleSendMessage = async ()=>{\n        if (!userInput.trim()) return;\n        if (userInput.length > maxMessageLength) return;\n        // Add user message\n        const newUserMessage = {\n            id: Date.now(),\n            sender: \"user\",\n            content: userInput,\n            timestamp: new Date(),\n            scaffoldStep: useScaffolding ? currentScaffoldStep : undefined\n        };\n        setMessages((prev)=>[\n                ...prev,\n                newUserMessage\n            ]);\n        const messageSent = userInput;\n        setUserInput(\"\");\n        // Update scaffold step if using scaffolding\n        if (useScaffolding && currentScaffoldStep < scaffoldingSteps) {\n            setCurrentScaffoldStep((prev)=>prev + 1);\n        }\n        // For phase1, use predefined responses instead of connecting to an agent\n        if (phase === 'phase1') {\n            try {\n                // Use the same thinking animation as the agent responses\n                const intervalId = startThinkingAnimation();\n                // Simulate a delay to make it feel more natural\n                await new Promise((resolve)=>setTimeout(resolve, 1500));\n                // Clear the thinking animation\n                clearInterval(intervalId);\n                setThinkingIntervalId(null);\n                // Remove typing indicator\n                setMessages((prev)=>prev.filter((msg)=>!msg.isTyping));\n                // Get predefined response based on component\n                const responseText = predefinedResponses.phase1[component] || predefinedResponses.phase1.default;\n                // Determine if this should show a continue button (after 3 interactions or by configuration)\n                const showPhase1Continue = messages.filter((m)=>m.sender === \"user\").length >= 3;\n                // Add bot response\n                const newBotMessage = {\n                    id: Date.now(),\n                    sender: \"bot\",\n                    content: responseText,\n                    timestamp: new Date(),\n                    type: \"text\",\n                    showContinue: showPhase1Continue,\n                    next_phase: showPhase1Continue ? \"phase2\" : undefined\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        newBotMessage\n                    ]);\n                setIsTyping(false);\n                // If using local handler, still call it\n                if (onSendMessage) {\n                    onSendMessage(messageSent);\n                }\n                return;\n            } catch (error) {\n                console.error('Error with predefined response:', error);\n            // Continue to fallback handling below\n            }\n        }\n        if (useAgent && userId && phase !== 'phase1') {\n            // Use backend agent integration\n            try {\n                // Start the thinking animation and get the interval ID\n                const intervalId = startThinkingAnimation();\n                // Map front-end page name to the correct agent phase if needed\n                let agentPhase = phase;\n                if (phase === 'intro') {\n                    agentPhase = 'intro' // Intro page uses intro agent\n                    ;\n                }\n                // Check if backend is online first\n                let isBackendAlive = false;\n                try {\n                    // Quick health check to see if backend is responding\n                    const healthCheckController = new AbortController();\n                    const healthCheckTimeout = setTimeout(()=>healthCheckController.abort(), 2000);\n                    const healthCheck = await fetch('/api/chat/health', {\n                        method: 'GET',\n                        headers: {\n                            'Content-Type': 'application/json'\n                        },\n                        signal: healthCheckController.signal\n                    });\n                    clearTimeout(healthCheckTimeout);\n                    // If we get any response from our frontend API, that's good enough\n                    // Even if it returns a 503 error, it means our NextJS server is working\n                    isBackendAlive = true;\n                    console.log('Frontend API health check successful');\n                    // Only log a warning if response was not OK\n                    if (!healthCheck.ok) {\n                        console.warn(\"Backend health check returned status: \".concat(healthCheck.status, \". Will proceed anyway.\"));\n                    }\n                } catch (healthError) {\n                    console.error('Backend health check failed:', healthError);\n                    isBackendAlive = false;\n                }\n                // Check if backend server is running\n                if (!isBackendAlive) {\n                    // Clear the thinking animation interval\n                    clearInterval(intervalId);\n                    setThinkingIntervalId(null);\n                    // Remove typing indicator\n                    setMessages((prev)=>prev.filter((msg)=>!msg.isTyping));\n                    // Add fallback message\n                    const fallbackMessage = {\n                        id: Date.now(),\n                        sender: \"bot\",\n                        content: \"\\nI encountered some network issues while trying to access my knowledge base. Let me provide some general guidance based on what I already know:\\n\\nFor \".concat(phase === \"phase4\" ? \"long-term goals\" : phase, \", focus on:\\n\\n- Making your goals specific and measurable\\n- Connecting them to your personal values and aspirations\\n- Setting realistic timelines that challenge you appropriately\\n\\nWould you like to continue with the conversation? I'll try my best to assist even with limited connectivity.\\n            \"),\n                        timestamp: new Date(),\n                        type: \"text\"\n                    };\n                    setMessages((prev)=>[\n                            ...prev,\n                            fallbackMessage\n                        ]);\n                    // Continue with user interaction despite backend issues\n                    return;\n                }\n                // Make API call to agent with retry logic\n                console.log(\"Sending message to agent: phase=\".concat(agentPhase, \", component=\").concat(component));\n                // Setup timeout for main API call\n                const apiController = new AbortController();\n                // Create a more resilient timeout that doesn't abort prematurely\n                let apiTimeoutId;\n                try {\n                    // Set a reasonable timeout but don't explicitly abort\n                    // This prevents AbortError: signal is aborted without reason\n                    apiTimeoutId = setTimeout(()=>{\n                        console.log(\"API request is taking a long time, but continuing to wait...\");\n                    }, 20000); // 20 second timeout for warning only\n                    let response;\n                    let retryCount = 0;\n                    const maxRetries = 2;\n                    while(retryCount <= maxRetries){\n                        try {\n                            response = await fetch('/api/chat', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    userId: userId,\n                                    phase: agentPhase,\n                                    component: component,\n                                    message: messageSent,\n                                    conversationId: conversationId\n                                }),\n                                signal: apiController.signal\n                            });\n                            if (response.ok) {\n                                break; // Success, exit retry loop\n                            } else {\n                                // If response is not OK, increment retry count\n                                retryCount++;\n                                if (retryCount <= maxRetries) {\n                                    console.log(\"Retrying request (\".concat(retryCount, \"/\").concat(maxRetries, \")...\"));\n                                    // Wait a bit before retrying (exponential backoff)\n                                    await new Promise((resolve)=>setTimeout(resolve, 1000 * retryCount));\n                                } else {\n                                    throw new Error(\"Failed after \".concat(maxRetries, \" retries\"));\n                                }\n                            }\n                        } catch (error) {\n                            // Only retry on network errors, not on aborts or other errors\n                            if (error instanceof Error && error.name !== 'AbortError') {\n                                retryCount++;\n                                if (retryCount <= maxRetries) {\n                                    console.log(\"Network error, retrying (\".concat(retryCount, \"/\").concat(maxRetries, \")...\"));\n                                    await new Promise((resolve)=>setTimeout(resolve, 1000 * retryCount));\n                                } else {\n                                    throw error; // Re-throw if max retries reached\n                                }\n                            } else if (error instanceof Error && error.name === 'AbortError') {\n                                console.warn('Request aborted due to timeout or user action');\n                                // Handle abort errors gracefully - provide partial response instead of failing\n                                const fallbackResponse = {\n                                    ok: true,\n                                    status: 200,\n                                    json: async ()=>({\n                                            success: true,\n                                            data: {\n                                                message: \"I'm still working on a comprehensive response to your question about \".concat(messageSent.substring(0, 30), \"...\\n\\nLet me give you some initial thoughts while I continue processing:\\n\\n\").concat(getContextualResponse(phase, component), \"\\n\\nLet me know if you have any specific questions about this topic!\"),\n                                                phase: phase,\n                                                component: component,\n                                                agent_type: phase,\n                                                scaffolding_level: 2,\n                                                timestamp: new Date().toISOString(),\n                                                conversation_id: conversationId,\n                                                user_id: userId\n                                            }\n                                        })\n                                };\n                                // Use our fallback response instead of failing\n                                response = fallbackResponse;\n                                break; // Exit retry loop with fallback response\n                            } else {\n                                throw error; // Re-throw immediately for other errors\n                            }\n                        }\n                    }\n                    // Clear any timeout\n                    clearTimeout(apiTimeoutId);\n                    // Clear the thinking animation interval\n                    clearInterval(intervalId);\n                    setThinkingIntervalId(null);\n                    // Remove typing indicator\n                    setMessages((prev)=>prev.filter((msg)=>!msg.isTyping));\n                    // Check if response is undefined after all retries\n                    if (!response) {\n                        throw new Error(\"Failed to get a response from the server after retries\");\n                    }\n                    if (!response.ok) {\n                        throw new Error(\"Failed to get response from agent (HTTP \".concat(response.status, \"): \").concat(await response.text()));\n                    }\n                    let responseData;\n                    try {\n                        // Safely parse JSON response\n                        const data = await response.json();\n                        // Normalize the response format to handle both wrapped and unwrapped responses\n                        console.log('Raw API response:', data);\n                        // Handle successful responses with data wrapper\n                        if (data.success === true && data.data) {\n                            responseData = data.data;\n                        } else {\n                            // Fallback to the response as is\n                            responseData = data;\n                        }\n                        console.log('Normalized agent response:', responseData);\n                        if (!responseData || typeof responseData !== 'object') {\n                            console.error('Invalid response format:', responseData);\n                            throw new Error(\"Invalid response format: \".concat(JSON.stringify(responseData)));\n                        }\n                        if (!responseData.message && responseData.error) {\n                            throw new Error(responseData.error);\n                        }\n                    } catch (parseError) {\n                        console.error('JSON parsing error:', parseError);\n                        throw new Error(\"Error parsing agent response: \".concat(parseError instanceof Error ? parseError.message : String(parseError)));\n                    }\n                    // Add bot response\n                    const newBotMessage = {\n                        id: Date.now(),\n                        sender: \"bot\",\n                        content: responseData.message || \"I'm sorry, I'm having trouble generating a response.\",\n                        timestamp: new Date(),\n                        type: \"text\",\n                        showContinue: alwaysShowContinue || responseData.next_phase && responseData.next_phase !== phase,\n                        next_phase: responseData.next_phase || getNextPhaseInSequence(phase)\n                    };\n                    setMessages((prev)=>[\n                            ...prev,\n                            newBotMessage\n                        ]);\n                    // Add handling for intro stage transitions\n                    if (phase === 'intro' && responseData.next_intro_stage && onStageChange) {\n                        onStageChange(responseData.next_intro_stage);\n                    }\n                    setIsTyping(false);\n                } catch (error) {\n                    console.error('Error communicating with agent:', error);\n                    // Clear any ongoing animation interval\n                    if (thinkingIntervalId) {\n                        clearInterval(thinkingIntervalId);\n                        setThinkingIntervalId(null);\n                    }\n                    // Remove typing indicator\n                    setMessages((prev)=>prev.filter((msg)=>!msg.isTyping));\n                    // Add a friendly error message with visual styling\n                    const errorMessage = {\n                        id: Date.now(),\n                        sender: \"bot\",\n                        content: \"\\n## Connection Issue \\uD83D\\uDD0C\\n\\nI'm currently having trouble connecting to my knowledge base. \\n\\n### What you can do:\\n- Make sure the backend service is running\\n- Try refreshing the page\\n- Check your internet connection\\n\\nFor assistance, you can:\\n1. Run the backend service if it's not already running\\n2. Contact technical support if the issue persists\\n\\n*Your patience is appreciated while I reconnect.*\\n            \",\n                        timestamp: new Date(),\n                        type: \"text\"\n                    };\n                    setMessages((prev)=>[\n                            ...prev,\n                            errorMessage\n                        ]);\n                    setIsTyping(false);\n                    // Fallback to local handler if available\n                    if (onSendMessage) {\n                        onSendMessage(messageSent);\n                    }\n                }\n            } catch (error) {\n                console.error('Error communicating with agent:', error);\n                // Clear any ongoing animation interval\n                if (thinkingIntervalId) {\n                    clearInterval(thinkingIntervalId);\n                    setThinkingIntervalId(null);\n                }\n                // Remove typing indicator\n                setMessages((prev)=>prev.filter((msg)=>!msg.isTyping));\n                // Add a friendly error message with visual styling\n                const errorMessage = {\n                    id: Date.now(),\n                    sender: \"bot\",\n                    content: \"\\n## Connection Issue \\uD83D\\uDD0C\\n\\nI'm currently having trouble connecting to my knowledge base. \\n\\n### What you can do:\\n- Make sure the backend service is running\\n- Try refreshing the page\\n- Check your internet connection\\n\\nFor assistance, you can:\\n1. Run the backend service if it's not already running\\n2. Contact technical support if the issue persists\\n\\n*Your patience is appreciated while I reconnect.*\\n          \",\n                    timestamp: new Date(),\n                    type: \"text\"\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        errorMessage\n                    ]);\n                setIsTyping(false);\n                // Fallback to local handler if available\n                if (onSendMessage) {\n                    onSendMessage(messageSent);\n                }\n            }\n        } else if (onSendMessage) {\n            // Use local handler if not using agent integration\n            onSendMessage(messageSent);\n        }\n    };\n    // Function to clean message content - strip evaluation scores and support levels\n    const cleanMessageContent = (content)=>{\n        if (!content || typeof content !== 'string') return content;\n        // Remove anything in square brackets that contains evaluation information\n        const patterns = [\n            /\\[(?:Note|Evaluation):[^\\]]+\\]/g,\n            /\\[.*?(?:score|Score|evaluation|Evaluation|support level|SUPPORT).*?\\]/g,\n            /\\[\\s*(?:Alignment|Timeframe|Measurability|Overall Score|Average Score).*?\\]/g,\n            /\\[.*?(?:HIGH|MEDIUM|LOW)\\s+support.*?\\]/gi\n        ];\n        let cleanedContent = content;\n        patterns.forEach((pattern)=>{\n            cleanedContent = cleanedContent.replace(pattern, '');\n        });\n        return cleanedContent.trim();\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSendMessage();\n        }\n    };\n    const addBotMessage = function(content) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"text\", showContinue = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false, scaffoldOptions = arguments.length > 3 ? arguments[3] : void 0;\n        const newMessage = {\n            id: Date.now(),\n            sender: \"bot\",\n            content,\n            timestamp: new Date(),\n            type,\n            showContinue: alwaysShowContinue || showContinue,\n            scaffoldStep: scaffoldOptions === null || scaffoldOptions === void 0 ? void 0 : scaffoldOptions.step,\n            scaffoldTotalSteps: scaffoldOptions === null || scaffoldOptions === void 0 ? void 0 : scaffoldOptions.totalSteps,\n            scaffoldHint: scaffoldOptions === null || scaffoldOptions === void 0 ? void 0 : scaffoldOptions.hint,\n            characterLimit: scaffoldOptions === null || scaffoldOptions === void 0 ? void 0 : scaffoldOptions.characterLimit,\n            next_phase: getNextPhaseInSequence(phase)\n        };\n        setMessages((prev)=>[\n                ...prev,\n                newMessage\n            ]);\n    };\n    const simulateBotTyping = (callback)=>{\n        setIsTyping(true);\n        // Add typing indicator\n        setMessages((prev)=>[\n                ...prev,\n                {\n                    id: Date.now(),\n                    sender: \"bot\",\n                    content: \"typing...\",\n                    isTyping: true,\n                    timestamp: new Date()\n                }\n            ]);\n        // Simulate typing delay\n        setTimeout(()=>{\n            // Remove typing indicator\n            setMessages((prev)=>prev.filter((msg)=>!msg.isTyping));\n            // Execute callback\n            callback();\n            setIsTyping(false);\n        }, 1500);\n    };\n    const startThinkingAnimation = ()=>{\n        setIsTyping(true);\n        let count = 0;\n        // Base thinking texts that apply to all phases\n        const baseThinkingTexts = [\n            \"SoLBot is thinking\",\n            \"Processing your message\",\n            \"Analyzing response\"\n        ];\n        // Phase-specific thinking texts\n        const phaseThinkingTexts = {\n            intro: [\n                \"Getting to know you better\",\n                \"Preparing your learning journey\",\n                \"Customizing my approach for you\"\n            ],\n            phase1: [\n                \"Reviewing motivation factors\",\n                \"Considering your learning goals\",\n                \"Preparing goal alignment response\"\n            ],\n            phase2: [\n                \"Analyzing learning objectives\",\n                \"Evaluating resource selection\",\n                \"Applying appropriate scaffolding\"\n            ],\n            phase4: [\n                \"Assessing goal-setting strategy\",\n                \"Considering time management approach\",\n                \"Evaluating planning effectiveness\"\n            ],\n            phase5: [\n                \"Analyzing reflection depth\",\n                \"Considering improvement strategies\",\n                \"Evaluating learning transfer\"\n            ],\n            summary: [\n                \"Synthesizing learning journey\",\n                \"Preparing comprehensive summary\",\n                \"Connecting learning milestones\"\n            ]\n        };\n        // Combine base texts with phase-specific texts\n        const phaseTexts = phaseThinkingTexts[phase] || phaseThinkingTexts.intro;\n        const thinkingTexts = [\n            ...baseThinkingTexts,\n            ...phaseTexts,\n            \"Almost ready\"\n        ];\n        // Response fragments to simulate streaming (show partial responses while waiting)\n        const responseFragments = [\n            \"I'm analyzing your message...\",\n            \"Here's what I'm thinking about your input...\",\n            \"Starting to formulate a response...\",\n            \"Processing what you've shared...\",\n            \"Putting together some thoughts for you...\",\n            \"Working on a personalized response...\",\n            \"Almost done with your answer...\"\n        ];\n        // Add typing indicator with initial message\n        setMessages((prev)=>[\n                ...prev,\n                {\n                    id: Date.now(),\n                    sender: \"bot\",\n                    content: thinkingTexts[0],\n                    isTyping: true,\n                    timestamp: new Date()\n                }\n            ]);\n        // Update the message every 2 seconds with a new thinking text\n        // or a partial response fragment after a few cycles\n        const intervalId = setInterval(()=>{\n            count = (count + 1) % thinkingTexts.length;\n            // After a few cycles, start showing response fragments to simulate streaming\n            const content = count > 2 && count % 2 === 0 ? responseFragments[Math.floor(Math.random() * responseFragments.length)] : thinkingTexts[count];\n            setLoadingText(content);\n            // Update the typing indicator message\n            setMessages((prev)=>prev.map((msg)=>msg.isTyping ? {\n                        ...msg,\n                        content: content\n                    } : msg));\n        }, 2000);\n        // Store interval ID for later cleanup\n        setThinkingIntervalId(intervalId);\n        return intervalId;\n    };\n    // Add this helper function to aid with streaming simulation\n    const updateThinkingMessage = (content)=>{\n        if (!isTyping) return;\n        setMessages((prev)=>prev.map((msg)=>msg.isTyping ? {\n                    ...msg,\n                    content\n                } : msg));\n    };\n    // Helper function to determine the next phase in the sequence\n    // Phase sequence: intro -> phase1 -> phase2 -> phase3 -> phase4 -> phase5 -> phase6 -> summary\n    const getNextPhaseInSequence = (currentPhase)=>{\n        // For Phase 4, handle task navigation within the phase\n        if (currentPhase === \"phase4\") {\n            if (component === \"long_term_goals\") {\n                return \"short_term_goals\"; // Navigate to short term goals task\n            } else if (component === \"short_term_goals\") {\n                return \"contingency_strategies\"; // Navigate to contingency strategies task\n            } else if (component === \"contingency_strategies\") {\n                return \"phase5\"; // Navigate to next phase after completing all tasks\n            }\n        }\n        // Default phase sequence logic\n        const phaseSequence = [\n            \"intro\",\n            \"phase1\",\n            \"phase2\",\n            \"phase3\",\n            \"phase4\",\n            \"phase5\",\n            \"phase6\",\n            \"summary\"\n        ];\n        const currentIndex = phaseSequence.indexOf(currentPhase);\n        if (currentIndex === -1 || currentIndex === phaseSequence.length - 1) {\n            return \"summary\"; // Default to summary if not found or if it's the last phase\n        }\n        return phaseSequence[currentIndex + 1];\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_4__.Card, {\n        className: \"bg-slate-900/60 backdrop-blur-md border border-white/10 shadow-xl mb-6 max-w-full\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_4__.CardContent, {\n            className: \"p-0 max-w-full\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gradient-to-r from-indigo-900/50 to-purple-900/50 p-4 rounded-t-lg border-b border-indigo-500/30 flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative w-12 h-12\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-12 h-12 rounded-full bg-gradient-to-br from-purple-600/80 to-blue-500/50 shadow-[0_0_15px_rgba(122,86,220,0.5)] flex items-center justify-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                className: \"h-6 w-6 text-white\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                lineNumber: 762,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 761,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {\n                                            animate: {\n                                                scale: [\n                                                    1,\n                                                    1.2,\n                                                    1\n                                                ],\n                                                opacity: [\n                                                    0.7,\n                                                    1,\n                                                    0.7\n                                                ]\n                                            },\n                                            transition: {\n                                                duration: 2,\n                                                repeat: Number.POSITIVE_INFINITY,\n                                                ease: \"easeInOut\"\n                                            },\n                                            className: \"absolute inset-0 w-12 h-12 rounded-full bg-purple-500/30 -z-10\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 764,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {\n                                            animate: {\n                                                scale: [\n                                                    1,\n                                                    1.4,\n                                                    1\n                                                ],\n                                                opacity: [\n                                                    0.5,\n                                                    0.8,\n                                                    0.5\n                                                ]\n                                            },\n                                            transition: {\n                                                duration: 3,\n                                                repeat: Number.POSITIVE_INFINITY,\n                                                ease: \"easeInOut\",\n                                                delay: 0.5\n                                            },\n                                            className: \"absolute inset-0 w-12 h-12 rounded-full bg-blue-500/20 -z-20\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 776,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                    lineNumber: 760,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-xl font-bold text-white\",\n                                            children: \"SoLBot\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 791,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-indigo-300 text-sm\",\n                                            children: \"Your AI Learning Coach\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 792,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                    lineNumber: 790,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                            lineNumber: 759,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-indigo-500/20 px-3 py-1 rounded-full border border-indigo-500/30\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                        lineNumber: 797,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs font-medium text-indigo-300\",\n                                        children: \"Online\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                        lineNumber: 798,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                lineNumber: 796,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                            lineNumber: 795,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                    lineNumber: 758,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    id: \"chat-container\",\n                    style: {\n                        height\n                    },\n                    className: \"overflow-y-auto p-4 space-y-4\",\n                    children: messages.map((message, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex \".concat(message.sender === \"bot\" ? \"\" : \"justify-end\"),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex \".concat(message.sender === \"bot\" ? \"\" : \"flex-row-reverse\", \" max-w-[80%]\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-shrink-0 mr-3\",\n                                        children: message.sender === \"bot\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative h-10 w-10\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"h-10 w-10 rounded-full bg-gradient-to-br from-purple-600/80 to-blue-500/50 flex items-center justify-center\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"h-5 w-5 text-white\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                        lineNumber: 812,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 811,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {\n                                                    animate: {\n                                                        scale: [\n                                                            1,\n                                                            1.2,\n                                                            1\n                                                        ],\n                                                        opacity: [\n                                                            0.7,\n                                                            1,\n                                                            0.7\n                                                        ]\n                                                    },\n                                                    transition: {\n                                                        duration: 2,\n                                                        repeat: Number.POSITIVE_INFINITY,\n                                                        ease: \"easeInOut\"\n                                                    },\n                                                    className: \"absolute inset-0 w-10 h-10 rounded-full bg-purple-500/30 -z-10\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 814,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 810,\n                                            columnNumber: 21\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"h-10 w-10 rounded-full bg-indigo-600/30 border border-indigo-500/30 flex items-center justify-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                className: \"h-5 w-5 text-indigo-300\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                lineNumber: 829,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 828,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                        lineNumber: 808,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"\".concat(message.sender === \"bot\" ? \"bg-slate-800/50 border border-indigo-500/30 text-white/90\" : \"bg-indigo-600/30 border border-indigo-500/30 text-white/90\", \" rounded-lg p-4 break-words overflow-hidden\"),\n                                        children: message.isTyping ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-col space-y-3 p-1 w-full min-w-[180px]\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm text-indigo-300 font-medium ml-1\",\n                                                    children: message.content\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 843,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex space-x-2 items-center\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-2 h-2 rounded-full bg-purple-500 animate-pulse\",\n                                                            style: {\n                                                                animationDuration: \"0.8s\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                            lineNumber: 847,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-2 h-2 rounded-full bg-indigo-500 animate-pulse\",\n                                                            style: {\n                                                                animationDuration: \"0.8s\",\n                                                                animationDelay: \"0.2s\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                            lineNumber: 848,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-2 h-2 rounded-full bg-blue-500 animate-pulse\",\n                                                            style: {\n                                                                animationDuration: \"0.8s\",\n                                                                animationDelay: \"0.4s\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                            lineNumber: 849,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-2 h-2 rounded-full bg-cyan-500 animate-pulse\",\n                                                            style: {\n                                                                animationDuration: \"0.8s\",\n                                                                animationDelay: \"0.6s\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                            lineNumber: 850,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 846,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full bg-slate-700/50 rounded-full h-1.5 mt-1 overflow-hidden\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {\n                                                        className: \"h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500\",\n                                                        initial: {\n                                                            width: \"10%\"\n                                                        },\n                                                        animate: {\n                                                            width: [\n                                                                \"10%\",\n                                                                \"30%\",\n                                                                \"60%\",\n                                                                \"90%\",\n                                                                \"95%\"\n                                                            ],\n                                                            transition: {\n                                                                duration: 10,\n                                                                ease: \"easeInOut\",\n                                                                repeat: Infinity,\n                                                                repeatType: \"reverse\"\n                                                            }\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                        lineNumber: 855,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 854,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-indigo-300/70 italic mt-1\",\n                                                    children: \"This might take a moment for complex responses...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 870,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 842,\n                                            columnNumber: 21\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm\",\n                                                    children: typeof message.content === 'string' ? // Only use ChatMessageParser for phases where clickable components are desired\n                                                    // Disable for phases 2, 4, and 5 as requested\n                                                    phase === \"phase2\" || phase === \"phase4\" || phase === \"phase5\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_markdown_renderer__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                        content: cleanMessageContent(message.content)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                        lineNumber: 882,\n                                                        columnNumber: 31\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_message_parser__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                        content: cleanMessageContent(message.content),\n                                                        onOptionSelect: (selected)=>{\n                                                            // Create a temporary state for the input to pass to handleSendMessage\n                                                            setUserInput(selected);\n                                                            // Add the user message to the chat\n                                                            const newUserMessage = {\n                                                                id: Date.now(),\n                                                                sender: \"user\",\n                                                                content: selected,\n                                                                timestamp: new Date()\n                                                            };\n                                                            setMessages((prev)=>[\n                                                                    ...prev,\n                                                                    newUserMessage\n                                                                ]);\n                                                            // Process the selected option as a message\n                                                            setTimeout(()=>{\n                                                                // Call the onSendMessage callback if provided\n                                                                if (onSendMessage) {\n                                                                    onSendMessage(selected);\n                                                                }\n                                                                // Send the message to the agent\n                                                                handleSendMessage();\n                                                                // Clear the input\n                                                                setUserInput(\"\");\n                                                            }, 0);\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                        lineNumber: 883,\n                                                        columnNumber: 31\n                                                    }, this) : message.content\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 876,\n                                                    columnNumber: 23\n                                                }, this),\n                                                message.type === \"scaffold\" && message.scaffoldStep && message.scaffoldTotalSteps && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-2 flex items-center justify-between text-xs text-indigo-300\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center gap-1\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: [\n                                                                    \"Step \",\n                                                                    message.scaffoldStep,\n                                                                    \" of \",\n                                                                    message.scaffoldTotalSteps\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                                lineNumber: 923,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                            lineNumber: 922,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        message.scaffoldHint && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"italic text-indigo-300/80\",\n                                                            children: [\n                                                                \"Hint: \",\n                                                                message.scaffoldHint\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                            lineNumber: 926,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 921,\n                                                    columnNumber: 25\n                                                }, this),\n                                                message.type === \"video\" && videoComponent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-4\",\n                                                    children: videoComponent\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 935,\n                                                    columnNumber: 25\n                                                }, this),\n                                                message.type === \"quiz\" && quizComponent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-4\",\n                                                    children: quizComponent\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 939,\n                                                    columnNumber: 25\n                                                }, this),\n                                                message.type === \"feedback\" && feedbackComponent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-4\",\n                                                    children: feedbackComponent\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 943,\n                                                    columnNumber: 25\n                                                }, this),\n                                                message.type === \"summary\" && summaryComponent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-4\",\n                                                    children: summaryComponent\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 947,\n                                                    columnNumber: 25\n                                                }, this),\n                                                message.showContinue && onContinue && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                        onClick: ()=>{\n                                                            if (!onPhaseComplete) {\n                                                                // Fall back to regular continue if no onPhaseComplete\n                                                                if (onContinue) {\n                                                                    onContinue();\n                                                                }\n                                                                return;\n                                                            }\n                                                            const nextStep = getNextPhaseInSequence(phase);\n                                                            // For Phase 4, if it's a task transition within the phase\n                                                            if (phase === \"phase4\" && (nextStep === \"short_term_goals\" || nextStep === \"contingency_strategies\")) {\n                                                                // Send with score info to maintain progress tracking\n                                                                onPhaseComplete(\"\".concat(nextStep, \":score:2.5\"));\n                                                            } else {\n                                                                // Regular phase transition\n                                                                onPhaseComplete(nextStep);\n                                                            }\n                                                        },\n                                                        className: \"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 flex items-center gap-2 px-6\",\n                                                        children: [\n                                                            \"Continue\",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                                className: \"h-4 w-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                                lineNumber: 977,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                        lineNumber: 952,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 951,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                        lineNumber: 834,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                lineNumber: 807,\n                                columnNumber: 15\n                            }, this)\n                        }, \"\".concat(message.id, \"-\").concat(index), false, {\n                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                            lineNumber: 806,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                    lineNumber: 804,\n                    columnNumber: 9\n                }, this),\n                allowInput && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-t border-indigo-500/30 p-4\",\n                    children: [\n                        useScaffolding && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-2 flex items-center justify-between text-xs text-indigo-300\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"Step \",\n                                            currentScaffoldStep,\n                                            \" of \",\n                                            scaffoldingSteps\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                        lineNumber: 995,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                    lineNumber: 994,\n                                    columnNumber: 17\n                                }, this),\n                                charactersRemaining <= 100 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"\".concat(charactersRemaining < 0 ? 'text-red-400' : 'text-indigo-300'),\n                                    children: [\n                                        charactersRemaining,\n                                        \" characters remaining\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                    lineNumber: 999,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                            lineNumber: 993,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-end gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_2__.Textarea, {\n                                    id: \"chat-message-input\",\n                                    name: \"chat-message\",\n                                    value: userInput,\n                                    onChange: (e)=>setUserInput(e.target.value),\n                                    onKeyDown: handleKeyDown,\n                                    placeholder: \"Type your response...\",\n                                    className: \"min-h-[80px] flex-1 bg-slate-800/50 border border-indigo-500/30 text-white resize-none\",\n                                    disabled: isTyping\n                                }, void 0, false, {\n                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                    lineNumber: 1007,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    onClick: handleSendMessage,\n                                    className: \"bg-indigo-600 hover:bg-indigo-700 h-10 w-10 rounded-full p-0 flex items-center justify-center \".concat(isTyping ? \"opacity-50 cursor-not-allowed\" : \"\"),\n                                    disabled: isTyping || userInput.length === 0 || userInput.length > maxMessageLength,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        className: \"h-5 w-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                        lineNumber: 1024,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                    lineNumber: 1017,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                            lineNumber: 1006,\n                            columnNumber: 13\n                        }, this),\n                        userInput.length > maxMessageLength && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-2 text-xs text-red-400\",\n                            children: \"Your message exceeds the maximum allowed length. Please shorten it.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                            lineNumber: 1030,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                    lineNumber: 991,\n                    columnNumber: 11\n                }, this),\n                alwaysShowContinue && onPhaseComplete && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-t border-indigo-500/30 p-4 flex justify-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: ()=>{\n                            if (!onPhaseComplete) return;\n                            const nextStep = getNextPhaseInSequence(phase);\n                            // For Phase 4, if it's a task transition within the phase\n                            if (phase === \"phase4\" && (nextStep === \"short_term_goals\" || nextStep === \"contingency_strategies\")) {\n                                // Send with score info to maintain progress tracking\n                                onPhaseComplete(\"\".concat(nextStep, \":score:2.5\"));\n                            } else {\n                                // Regular phase transition\n                                onPhaseComplete(nextStep);\n                            }\n                        },\n                        className: \"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 flex items-center gap-2 px-6\",\n                        children: [\n                            phase === \"phase4\" && (component === \"long_term_goals\" || component === \"short_term_goals\") ? \"Continue\" : \"Continue to Next Phase\",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                className: \"h-4 w-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                lineNumber: 1061,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                        lineNumber: 1040,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                    lineNumber: 1039,\n                    columnNumber: 11\n                }, this),\n                children\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n            lineNumber: 756,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n        lineNumber: 755,\n        columnNumber: 5\n    }, this);\n}\n_s(SolBotChat, \"OVLT1rxo70sUpyfs3HK1dig06k4=\");\n_c = SolBotChat;\nvar _c;\n$RefreshReg$(_c, \"SolBotChat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvc29sYm90LWNoYXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXNEO0FBQ2hCO0FBQ2lDO0FBQ3BCO0FBQ0o7QUFDUztBQUNyQjtBQUMwQjtBQUVHO0FBMENqRCxTQUFTZSxXQUFXLEtBc0JqQjtRQXRCaUIsRUFDakNDLGtCQUFrQixFQUFFLEVBQ3BCQyxhQUFhLEVBQ2JDLFVBQVUsRUFDVkMsZUFBZSxFQUNmQyxhQUFhLEVBQ2JDLGFBQWEsSUFBSSxFQUNqQkMscUJBQXFCLEtBQUssRUFDMUJDLHFCQUFxQixJQUFJLEVBQ3pCQyxTQUFTLE9BQU8sRUFDaEJDLFFBQVEsRUFDUkMsY0FBYyxFQUNkQyxhQUFhLEVBQ2JDLGlCQUFpQixFQUNqQkMsZ0JBQWdCLEVBQ2hCQyxpQkFBaUIsS0FBSyxFQUN0QkMsbUJBQW1CLENBQUMsRUFDcEJDLG1CQUFtQixHQUFHLEVBQ3RCQyxTQUFTLEVBQUUsRUFDWEMsUUFBUSxPQUFPLEVBQ2ZDLFlBQVksU0FBUyxFQUNyQkMsV0FBVyxLQUFLLEVBQ0EsR0F0QmlCOztJQXVCakMsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUd0QywrQ0FBUUEsQ0FBWWdCO0lBQ3BELE1BQU0sQ0FBQ3VCLFdBQVdDLGFBQWEsR0FBR3hDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3lDLFVBQVVDLFlBQVksR0FBRzFDLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQzJDLHFCQUFxQkMsdUJBQXVCLEdBQUc1QywrQ0FBUUEsQ0FBQztJQUMvRCxNQUFNLENBQUM2QyxxQkFBcUJDLHVCQUF1QixHQUFHOUMsK0NBQVFBLENBQUNnQztJQUMvRCxNQUFNLENBQUNlLGdCQUFnQkMsa0JBQWtCLEdBQUdoRCwrQ0FBUUEsQ0FBQ1ksZ0RBQU1BO0lBQzNELE1BQU0sQ0FBQ3FDLGFBQWFDLGVBQWUsR0FBR2xELCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ21ELG9CQUFv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dWkvRGVza3RvcC9teWJvdC9jb21wb25lbnRzL3NvbGJvdC1jaGF0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBSZWFjdE5vZGUgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSBcImZyYW1lci1tb3Rpb25cIlxuaW1wb3J0IHsgQm90LCBTZW5kLCBVc2VyLCBBcnJvd1JpZ2h0LCBDaGVja0NpcmNsZSB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIlxuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RleHRhcmVhXCJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jYXJkXCJcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnXG5pbXBvcnQgTWFya2Rvd25SZW5kZXJlciBmcm9tIFwiQC9jb21wb25lbnRzL21hcmtkb3duLXJlbmRlcmVyXCJcbmltcG9ydCB7IGdldE5leHRQaGFzZSB9IGZyb20gXCJAL2xpYi9waGFzZS1kYXRhXCJcbmltcG9ydCBDaGF0TWVzc2FnZVBhcnNlciBmcm9tIFwiQC9jb21wb25lbnRzL2NoYXQtbWVzc2FnZS1wYXJzZXJcIlxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICBpZDogbnVtYmVyXG4gIHNlbmRlcjogXCJib3RcIiB8IFwidXNlclwiXG4gIGNvbnRlbnQ6IHN0cmluZyB8IFJlYWN0Tm9kZVxuICB0aW1lc3RhbXA6IERhdGVcbiAgaXNUeXBpbmc/OiBib29sZWFuXG4gIHNob3dDb250aW51ZT86IGJvb2xlYW5cbiAgdHlwZT86IFwidGV4dFwiIHwgXCJ2aWRlb1wiIHwgXCJxdWl6XCIgfCBcImFjdGl2aXR5XCIgfCBcImZlZWRiYWNrXCIgfCBcInN1bW1hcnlcIiB8IFwic2NhZmZvbGRcIlxuICBzY2FmZm9sZFN0ZXA/OiBudW1iZXJcbiAgc2NhZmZvbGRUb3RhbFN0ZXBzPzogbnVtYmVyXG4gIHNjYWZmb2xkSGludD86IHN0cmluZ1xuICBjaGFyYWN0ZXJMaW1pdD86IG51bWJlclxuICBhZ2VudFR5cGU/OiBzdHJpbmdcbiAgbmV4dF9waGFzZT86IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgU29sQm90Q2hhdFByb3BzIHtcbiAgaW5pdGlhbE1lc3NhZ2VzPzogTWVzc2FnZVtdXG4gIG9uU2VuZE1lc3NhZ2U/OiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkXG4gIG9uQ29udGludWU/OiAoKSA9PiB2b2lkXG4gIG9uUGhhc2VDb21wbGV0ZT86IChuZXh0UGhhc2U6IHN0cmluZykgPT4gdm9pZFxuICBvblN0YWdlQ2hhbmdlPzogKHN0YWdlOiBzdHJpbmcpID0+IHZvaWRcbiAgYWxsb3dJbnB1dD86IGJvb2xlYW5cbiAgc2hvd0NvbnRpbnVlQnV0dG9uPzogYm9vbGVhblxuICBhbHdheXNTaG93Q29udGludWU/OiBib29sZWFuXG4gIGhlaWdodD86IHN0cmluZ1xuICBjaGlsZHJlbj86IFJlYWN0Tm9kZVxuICB2aWRlb0NvbXBvbmVudD86IFJlYWN0Tm9kZVxuICBxdWl6Q29tcG9uZW50PzogUmVhY3ROb2RlXG4gIGZlZWRiYWNrQ29tcG9uZW50PzogUmVhY3ROb2RlXG4gIHN1bW1hcnlDb21wb25lbnQ/OiBSZWFjdE5vZGVcbiAgdXNlU2NhZmZvbGRpbmc/OiBib29sZWFuXG4gIHNjYWZmb2xkaW5nU3RlcHM/OiBudW1iZXJcbiAgbWF4TWVzc2FnZUxlbmd0aD86IG51bWJlclxuICB1c2VySWQ/OiBzdHJpbmdcbiAgcGhhc2U/OiBzdHJpbmcgIC8vIE1hcHMgZGlyZWN0bHkgdG8gYmFja2VuZCBhZ2VudCBwaGFzZTogJ3BoYXNlMScsICdwaGFzZTInLCAncGhhc2U0JywgJ3BoYXNlNScsICdzdW1tYXJ5J1xuICBjb21wb25lbnQ/OiBzdHJpbmdcbiAgdXNlQWdlbnQ/OiBib29sZWFuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNvbEJvdENoYXQoe1xuICBpbml0aWFsTWVzc2FnZXMgPSBbXSxcbiAgb25TZW5kTWVzc2FnZSxcbiAgb25Db250aW51ZSxcbiAgb25QaGFzZUNvbXBsZXRlLFxuICBvblN0YWdlQ2hhbmdlLFxuICBhbGxvd0lucHV0ID0gdHJ1ZSxcbiAgc2hvd0NvbnRpbnVlQnV0dG9uID0gZmFsc2UsXG4gIGFsd2F5c1Nob3dDb250aW51ZSA9IHRydWUsXG4gIGhlaWdodCA9IFwiNTAwcHhcIixcbiAgY2hpbGRyZW4sXG4gIHZpZGVvQ29tcG9uZW50LFxuICBxdWl6Q29tcG9uZW50LFxuICBmZWVkYmFja0NvbXBvbmVudCxcbiAgc3VtbWFyeUNvbXBvbmVudCxcbiAgdXNlU2NhZmZvbGRpbmcgPSBmYWxzZSxcbiAgc2NhZmZvbGRpbmdTdGVwcyA9IDEsXG4gIG1heE1lc3NhZ2VMZW5ndGggPSA1MDAsXG4gIHVzZXJJZCA9IFwiXCIsXG4gIHBoYXNlID0gXCJpbnRyb1wiLFxuICBjb21wb25lbnQgPSBcImdlbmVyYWxcIixcbiAgdXNlQWdlbnQgPSBmYWxzZSxcbn06IFNvbEJvdENoYXRQcm9wcykge1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oaW5pdGlhbE1lc3NhZ2VzKVxuICBjb25zdCBbdXNlcklucHV0LCBzZXRVc2VySW5wdXRdID0gdXNlU3RhdGUoXCJcIilcbiAgY29uc3QgW2lzVHlwaW5nLCBzZXRJc1R5cGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2N1cnJlbnRTY2FmZm9sZFN0ZXAsIHNldEN1cnJlbnRTY2FmZm9sZFN0ZXBdID0gdXNlU3RhdGUoMSlcbiAgY29uc3QgW2NoYXJhY3RlcnNSZW1haW5pbmcsIHNldENoYXJhY3RlcnNSZW1haW5pbmddID0gdXNlU3RhdGUobWF4TWVzc2FnZUxlbmd0aClcbiAgY29uc3QgW2NvbnZlcnNhdGlvbklkLCBzZXRDb252ZXJzYXRpb25JZF0gPSB1c2VTdGF0ZSh1dWlkdjQoKSlcbiAgY29uc3QgW2xvYWRpbmdUZXh0LCBzZXRMb2FkaW5nVGV4dF0gPSB1c2VTdGF0ZShcIlNvTEJvdCBpcyB0aGlua2luZ1wiKVxuICBjb25zdCBbdGhpbmtpbmdJbnRlcnZhbElkLCBzZXRUaGlua2luZ0ludGVydmFsSWRdID0gdXNlU3RhdGU8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKVxuICBcbiAgLy8gUHJlZGVmaW5lZCByZXNwb25zZXMgZm9yIHBoYXNlMSAoc3RhdGljIGNvbnRlbnQpXG4gIGNvbnN0IHByZWRlZmluZWRSZXNwb25zZXM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+ID0ge1xuICAgIHBoYXNlMToge1xuICAgICAgd2VsY29tZTogXCJXZWxjb21lIHRvIFBoYXNlIDEhIEhlcmUgSSdsbCBndWlkZSB5b3UgdGhyb3VnaCB0aGUgYmFzaWNzIG9mIFNlbGYtUmVndWxhdGVkIExlYXJuaW5nLiBMZXQncyBzdGFydCBieSB1bmRlcnN0YW5kaW5nIHRoZSBrZXkgcHJpbmNpcGxlcy5cIixcbiAgICAgIGdlbmVyYWw6IFwiU2VsZi1SZWd1bGF0ZWQgTGVhcm5pbmcgaW52b2x2ZXMgcGxhbm5pbmcgeW91ciBsZWFybmluZywgbW9uaXRvcmluZyB5b3VyIHByb2dyZXNzLCBjb250cm9sbGluZyB5b3VyIHN0cmF0ZWdpZXMsIGFuZCByZWZsZWN0aW5nIG9uIHlvdXIgb3V0Y29tZXMuIFRoaXMgY3ljbGljYWwgcHJvY2VzcyBoZWxwcyB5b3UgYmVjb21lIGEgbW9yZSBlZmZlY3RpdmUgbGVhcm5lci5cIixcbiAgICAgIGRlZmF1bHQ6IFwiSW4gUGhhc2UgMSwgd2UncmUgZm9jdXNpbmcgb24gYnVpbGRpbmcgeW91ciB1bmRlcnN0YW5kaW5nIG9mIHRoZSBTZWxmLVJlZ3VsYXRlZCBMZWFybmluZyBmcmFtZXdvcmsuIFRoaXMga25vd2xlZGdlIHdpbGwgZm9ybSB0aGUgZm91bmRhdGlvbiBmb3IgdGhlIHJlc3Qgb2Ygb3VyIGpvdXJuZXkuXCJcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFVwZGF0ZSBjaGFyYWN0ZXJzIHJlbWFpbmluZyB3aGVuIHVzZXIgdHlwZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRDaGFyYWN0ZXJzUmVtYWluaW5nKG1heE1lc3NhZ2VMZW5ndGggLSB1c2VySW5wdXQubGVuZ3RoKVxuICB9LCBbdXNlcklucHV0LCBtYXhNZXNzYWdlTGVuZ3RoXSlcblxuICAvLyBBdXRvLXNjcm9sbCB0byBib3R0b20gb2YgY2hhdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoYXRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoYXQtY29udGFpbmVyXCIpXG4gICAgaWYgKGNoYXRDb250YWluZXIpIHtcbiAgICAgIGNoYXRDb250YWluZXIuc2Nyb2xsVG9wID0gY2hhdENvbnRhaW5lci5zY3JvbGxIZWlnaHRcbiAgICB9XG4gIH0sIFttZXNzYWdlc10pXG5cbiAgLy8gRnVuY3Rpb24gdG8gcHJvdmlkZSBjb250ZXh0dWFsIHJlc3BvbnNlcyBiYXNlZCBvbiBwaGFzZSBhbmQgY29tcG9uZW50XG4gIGNvbnN0IGdldENvbnRleHR1YWxSZXNwb25zZSA9IChwaGFzZTogc3RyaW5nLCBjb21wb25lbnQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2VzOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PiA9IHtcbiAgICAgIHBoYXNlNDoge1xuICAgICAgICBsb25nX3Rlcm1fZ29hbHM6IFwiRm9yIGxvbmctdGVybSBnb2FscywgZm9jdXMgb24gYWxpZ25pbmcgdGhlbSB3aXRoIHlvdXIgYnJvYWRlciBjYXJlZXIgb3IgZWR1Y2F0aW9uYWwgYXNwaXJhdGlvbnMuIE1ha2Ugc3VyZSB0aGV5J3JlIGNoYWxsZW5naW5nIHlldCBhY2hpZXZhYmxlLlwiLFxuICAgICAgICBzaG9ydF90ZXJtX2dvYWxzOiBcIlNob3J0LXRlcm0gU01BUlQgZ29hbHMgc2hvdWxkIGJlIFNwZWNpZmljLCBNZWFzdXJhYmxlLCBBY2hpZXZhYmxlLCBSZWxldmFudCwgYW5kIFRpbWUtYm91bmQuIEJyZWFrIGRvd24gbGFyZ2VyIGdvYWxzIGludG8gbWFuYWdlYWJsZSBjaHVua3MuXCIsXG4gICAgICAgIGNvbnRpbmdlbmN5X3N0cmF0ZWdpZXM6IFwiV2hlbiBjcmVhdGluZyBjb250aW5nZW5jeSBzdHJhdGVnaWVzLCB0aGluayBhYm91dCBwb3RlbnRpYWwgb2JzdGFjbGVzIGFuZCBob3cgeW91IG1pZ2h0IGFkYXB0IHlvdXIgYXBwcm9hY2ggaWYgdGhpbmdzIGRvbid0IGdvIGFzIHBsYW5uZWQuXCJcbiAgICAgIH0sXG4gICAgICBwaGFzZTU6IHtcbiAgICAgICAgZ2VuZXJhbDogXCJXaGVuIG1vbml0b3JpbmcgeW91ciBsZWFybmluZywgcmVndWxhciBjaGVjay1pbnMgYW5kIGFkanVzdG1lbnRzIGFyZSBrZXkgdG8gc3RheWluZyBvbiB0cmFjay5cIlxuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gUmV0dXJuIHBoYXNlK2NvbXBvbmVudCBzcGVjaWZpYyByZXNwb25zZSwgb3IgcGhhc2UgZ2VuZXJhbCwgb3IgZGVmYXVsdFxuICAgIHJldHVybiByZXNwb25zZXNbcGhhc2VdPy5bY29tcG9uZW50XSB8fCBcbiAgICAgICAgICAgcmVzcG9uc2VzW3BoYXNlXT8uW1wiZ2VuZXJhbFwiXSB8fCBcbiAgICAgICAgICAgXCJUaGlzIHN0YWdlIGludm9sdmVzIHRob3VnaHRmdWwgcGxhbm5pbmcgYW5kIHJlZmxlY3Rpb24gb24geW91ciBsZWFybmluZyBwcm9jZXNzLlwiO1xuICB9O1xuICBcbiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF1c2VySW5wdXQudHJpbSgpKSByZXR1cm5cbiAgICBpZiAodXNlcklucHV0Lmxlbmd0aCA+IG1heE1lc3NhZ2VMZW5ndGgpIHJldHVyblxuXG4gICAgLy8gQWRkIHVzZXIgbWVzc2FnZVxuICAgIGNvbnN0IG5ld1VzZXJNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICBzZW5kZXI6IFwidXNlclwiLFxuICAgICAgY29udGVudDogdXNlcklucHV0LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgc2NhZmZvbGRTdGVwOiB1c2VTY2FmZm9sZGluZyA/IGN1cnJlbnRTY2FmZm9sZFN0ZXAgOiB1bmRlZmluZWQsXG4gICAgfVxuXG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdVc2VyTWVzc2FnZV0pXG4gICAgY29uc3QgbWVzc2FnZVNlbnQgPSB1c2VySW5wdXRcbiAgICBzZXRVc2VySW5wdXQoXCJcIilcbiAgICBcbiAgICAvLyBVcGRhdGUgc2NhZmZvbGQgc3RlcCBpZiB1c2luZyBzY2FmZm9sZGluZ1xuICAgIGlmICh1c2VTY2FmZm9sZGluZyAmJiBjdXJyZW50U2NhZmZvbGRTdGVwIDwgc2NhZmZvbGRpbmdTdGVwcykge1xuICAgICAgc2V0Q3VycmVudFNjYWZmb2xkU3RlcChwcmV2ID0+IHByZXYgKyAxKVxuICAgIH1cbiAgICBcbiAgICAvLyBGb3IgcGhhc2UxLCB1c2UgcHJlZGVmaW5lZCByZXNwb25zZXMgaW5zdGVhZCBvZiBjb25uZWN0aW5nIHRvIGFuIGFnZW50XG4gICAgaWYgKHBoYXNlID09PSAncGhhc2UxJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVXNlIHRoZSBzYW1lIHRoaW5raW5nIGFuaW1hdGlvbiBhcyB0aGUgYWdlbnQgcmVzcG9uc2VzXG4gICAgICAgIGNvbnN0IGludGVydmFsSWQgPSBzdGFydFRoaW5raW5nQW5pbWF0aW9uKClcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXVsYXRlIGEgZGVsYXkgdG8gbWFrZSBpdCBmZWVsIG1vcmUgbmF0dXJhbFxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTUwMCkpXG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhciB0aGUgdGhpbmtpbmcgYW5pbWF0aW9uXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZClcbiAgICAgICAgc2V0VGhpbmtpbmdJbnRlcnZhbElkKG51bGwpXG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgdHlwaW5nIGluZGljYXRvclxuICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gcHJldi5maWx0ZXIoKG1zZykgPT4gIW1zZy5pc1R5cGluZykpXG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgcHJlZGVmaW5lZCByZXNwb25zZSBiYXNlZCBvbiBjb21wb25lbnRcbiAgICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gcHJlZGVmaW5lZFJlc3BvbnNlcy5waGFzZTFbY29tcG9uZW50IGFzIGtleW9mIHR5cGVvZiBwcmVkZWZpbmVkUmVzcG9uc2VzLnBoYXNlMV0gfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZGVmaW5lZFJlc3BvbnNlcy5waGFzZTEuZGVmYXVsdDtcbiAgICAgICAgXG4gICAgICAgIC8vIERldGVybWluZSBpZiB0aGlzIHNob3VsZCBzaG93IGEgY29udGludWUgYnV0dG9uIChhZnRlciAzIGludGVyYWN0aW9ucyBvciBieSBjb25maWd1cmF0aW9uKVxuICAgICAgICBjb25zdCBzaG93UGhhc2UxQ29udGludWUgPSBtZXNzYWdlcy5maWx0ZXIobSA9PiBtLnNlbmRlciA9PT0gXCJ1c2VyXCIpLmxlbmd0aCA+PSAzO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGJvdCByZXNwb25zZVxuICAgICAgICBjb25zdCBuZXdCb3RNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICAgIHNlbmRlcjogXCJib3RcIixcbiAgICAgICAgICBjb250ZW50OiByZXNwb25zZVRleHQsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgIHNob3dDb250aW51ZTogc2hvd1BoYXNlMUNvbnRpbnVlLFxuICAgICAgICAgIG5leHRfcGhhc2U6IHNob3dQaGFzZTFDb250aW51ZSA/IFwicGhhc2UyXCIgOiB1bmRlZmluZWRcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdCb3RNZXNzYWdlXSlcbiAgICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpXG4gICAgICAgIFxuICAgICAgICAvLyBJZiB1c2luZyBsb2NhbCBoYW5kbGVyLCBzdGlsbCBjYWxsIGl0XG4gICAgICAgIGlmIChvblNlbmRNZXNzYWdlKSB7XG4gICAgICAgICAgb25TZW5kTWVzc2FnZShtZXNzYWdlU2VudClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3aXRoIHByZWRlZmluZWQgcmVzcG9uc2U6JywgZXJyb3IpXG4gICAgICAgIC8vIENvbnRpbnVlIHRvIGZhbGxiYWNrIGhhbmRsaW5nIGJlbG93XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmICh1c2VBZ2VudCAmJiB1c2VySWQgJiYgcGhhc2UgIT09ICdwaGFzZTEnKSB7XG4gICAgICAvLyBVc2UgYmFja2VuZCBhZ2VudCBpbnRlZ3JhdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHRoaW5raW5nIGFuaW1hdGlvbiBhbmQgZ2V0IHRoZSBpbnRlcnZhbCBJRFxuICAgICAgICBjb25zdCBpbnRlcnZhbElkID0gc3RhcnRUaGlua2luZ0FuaW1hdGlvbigpXG4gICAgICAgIFxuICAgICAgICAvLyBNYXAgZnJvbnQtZW5kIHBhZ2UgbmFtZSB0byB0aGUgY29ycmVjdCBhZ2VudCBwaGFzZSBpZiBuZWVkZWRcbiAgICAgICAgbGV0IGFnZW50UGhhc2UgPSBwaGFzZVxuICAgICAgICBpZiAocGhhc2UgPT09ICdpbnRybycpIHtcbiAgICAgICAgICBhZ2VudFBoYXNlID0gJ2ludHJvJyAvLyBJbnRybyBwYWdlIHVzZXMgaW50cm8gYWdlbnRcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgYmFja2VuZCBpcyBvbmxpbmUgZmlyc3RcbiAgICAgICAgbGV0IGlzQmFja2VuZEFsaXZlID0gZmFsc2VcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBRdWljayBoZWFsdGggY2hlY2sgdG8gc2VlIGlmIGJhY2tlbmQgaXMgcmVzcG9uZGluZ1xuICAgICAgICAgIGNvbnN0IGhlYWx0aENoZWNrQ29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICBjb25zdCBoZWFsdGhDaGVja1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGhlYWx0aENoZWNrQ29udHJvbGxlci5hYm9ydCgpLCAyMDAwKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBoZWFsdGhDaGVjayA9IGF3YWl0IGZldGNoKCcvYXBpL2NoYXQvaGVhbHRoJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaWduYWw6IGhlYWx0aENoZWNrQ29udHJvbGxlci5zaWduYWxcbiAgICAgICAgICB9KVxuICAgICAgICAgIFxuICAgICAgICAgIGNsZWFyVGltZW91dChoZWFsdGhDaGVja1RpbWVvdXQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIHdlIGdldCBhbnkgcmVzcG9uc2UgZnJvbSBvdXIgZnJvbnRlbmQgQVBJLCB0aGF0J3MgZ29vZCBlbm91Z2hcbiAgICAgICAgICAvLyBFdmVuIGlmIGl0IHJldHVybnMgYSA1MDMgZXJyb3IsIGl0IG1lYW5zIG91ciBOZXh0SlMgc2VydmVyIGlzIHdvcmtpbmdcbiAgICAgICAgICBpc0JhY2tlbmRBbGl2ZSA9IHRydWU7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0Zyb250ZW5kIEFQSSBoZWFsdGggY2hlY2sgc3VjY2Vzc2Z1bCcpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE9ubHkgbG9nIGEgd2FybmluZyBpZiByZXNwb25zZSB3YXMgbm90IE9LXG4gICAgICAgICAgaWYgKCFoZWFsdGhDaGVjay5vaykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBCYWNrZW5kIGhlYWx0aCBjaGVjayByZXR1cm5lZCBzdGF0dXM6ICR7aGVhbHRoQ2hlY2suc3RhdHVzfS4gV2lsbCBwcm9jZWVkIGFueXdheS5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGhlYWx0aEVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQmFja2VuZCBoZWFsdGggY2hlY2sgZmFpbGVkOicsIGhlYWx0aEVycm9yKVxuICAgICAgICAgIGlzQmFja2VuZEFsaXZlID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgYmFja2VuZCBzZXJ2ZXIgaXMgcnVubmluZ1xuICAgICAgICBpZiAoIWlzQmFja2VuZEFsaXZlKSB7XG4gICAgICAgICAgLy8gQ2xlYXIgdGhlIHRoaW5raW5nIGFuaW1hdGlvbiBpbnRlcnZhbFxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgc2V0VGhpbmtpbmdJbnRlcnZhbElkKG51bGwpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlbW92ZSB0eXBpbmcgaW5kaWNhdG9yXG4gICAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHByZXYuZmlsdGVyKChtc2cpID0+ICFtc2cuaXNUeXBpbmcpKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCBmYWxsYmFjayBtZXNzYWdlXG4gICAgICAgICAgY29uc3QgZmFsbGJhY2tNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgICAgICBzZW5kZXI6IFwiYm90XCIsXG4gICAgICAgICAgICBjb250ZW50OiBgXG5JIGVuY291bnRlcmVkIHNvbWUgbmV0d29yayBpc3N1ZXMgd2hpbGUgdHJ5aW5nIHRvIGFjY2VzcyBteSBrbm93bGVkZ2UgYmFzZS4gTGV0IG1lIHByb3ZpZGUgc29tZSBnZW5lcmFsIGd1aWRhbmNlIGJhc2VkIG9uIHdoYXQgSSBhbHJlYWR5IGtub3c6XG5cbkZvciAke3BoYXNlID09PSBcInBoYXNlNFwiID8gXCJsb25nLXRlcm0gZ29hbHNcIiA6IHBoYXNlfSwgZm9jdXMgb246XG5cbi0gTWFraW5nIHlvdXIgZ29hbHMgc3BlY2lmaWMgYW5kIG1lYXN1cmFibGVcbi0gQ29ubmVjdGluZyB0aGVtIHRvIHlvdXIgcGVyc29uYWwgdmFsdWVzIGFuZCBhc3BpcmF0aW9uc1xuLSBTZXR0aW5nIHJlYWxpc3RpYyB0aW1lbGluZXMgdGhhdCBjaGFsbGVuZ2UgeW91IGFwcHJvcHJpYXRlbHlcblxuV291bGQgeW91IGxpa2UgdG8gY29udGludWUgd2l0aCB0aGUgY29udmVyc2F0aW9uPyBJJ2xsIHRyeSBteSBiZXN0IHRvIGFzc2lzdCBldmVuIHdpdGggbGltaXRlZCBjb25uZWN0aXZpdHkuXG4gICAgICAgICAgICBgLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAvLyBEb24ndCBzaG93IGNvbnRpbnVlIGJ1dHRvbiBhcyB3ZSB3YW50IHRoZW0gdG8gaW50ZXJhY3RcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgZmFsbGJhY2tNZXNzYWdlXSlcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIHVzZXIgaW50ZXJhY3Rpb24gZGVzcGl0ZSBiYWNrZW5kIGlzc3Vlc1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTWFrZSBBUEkgY2FsbCB0byBhZ2VudCB3aXRoIHJldHJ5IGxvZ2ljXG4gICAgICAgIGNvbnNvbGUubG9nKGBTZW5kaW5nIG1lc3NhZ2UgdG8gYWdlbnQ6IHBoYXNlPSR7YWdlbnRQaGFzZX0sIGNvbXBvbmVudD0ke2NvbXBvbmVudH1gKVxuICAgICAgICBcbiAgICAgICAgLy8gU2V0dXAgdGltZW91dCBmb3IgbWFpbiBBUEkgY2FsbFxuICAgICAgICBjb25zdCBhcGlDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIGEgbW9yZSByZXNpbGllbnQgdGltZW91dCB0aGF0IGRvZXNuJ3QgYWJvcnQgcHJlbWF0dXJlbHlcbiAgICAgICAgbGV0IGFwaVRpbWVvdXRJZDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gU2V0IGEgcmVhc29uYWJsZSB0aW1lb3V0IGJ1dCBkb24ndCBleHBsaWNpdGx5IGFib3J0XG4gICAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyBBYm9ydEVycm9yOiBzaWduYWwgaXMgYWJvcnRlZCB3aXRob3V0IHJlYXNvblxuICAgICAgICAgIGFwaVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBUEkgcmVxdWVzdCBpcyB0YWtpbmcgYSBsb25nIHRpbWUsIGJ1dCBjb250aW51aW5nIHRvIHdhaXQuLi5cIik7XG4gICAgICAgICAgfSwgMjAwMDApOyAvLyAyMCBzZWNvbmQgdGltZW91dCBmb3Igd2FybmluZyBvbmx5XG4gICAgICAgICAgXG4gICAgICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgICAgIGxldCByZXRyeUNvdW50ID0gMDtcbiAgICAgICAgICBjb25zdCBtYXhSZXRyaWVzID0gMjtcbiAgICAgICAgICBcbiAgICAgICAgICB3aGlsZSAocmV0cnlDb3VudCA8PSBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NoYXQnLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgICAgICAgICAgICAgcGhhc2U6IGFnZW50UGhhc2UsXG4gICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VTZW50LFxuICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IGNvbnZlcnNhdGlvbklkXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgc2lnbmFsOiBhcGlDb250cm9sbGVyLnNpZ25hbFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBTdWNjZXNzLCBleGl0IHJldHJ5IGxvb3BcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiByZXNwb25zZSBpcyBub3QgT0ssIGluY3JlbWVudCByZXRyeSBjb3VudFxuICAgICAgICAgICAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgICAgICAgICAgICBpZiAocmV0cnlDb3VudCA8PSBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUmV0cnlpbmcgcmVxdWVzdCAoJHtyZXRyeUNvdW50fS8ke21heFJldHJpZXN9KS4uLmApO1xuICAgICAgICAgICAgICAgICAgLy8gV2FpdCBhIGJpdCBiZWZvcmUgcmV0cnlpbmcgKGV4cG9uZW50aWFsIGJhY2tvZmYpXG4gICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCAqIHJldHJ5Q291bnQpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgYWZ0ZXIgJHttYXhSZXRyaWVzfSByZXRyaWVzYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAvLyBPbmx5IHJldHJ5IG9uIG5ldHdvcmsgZXJyb3JzLCBub3Qgb24gYWJvcnRzIG9yIG90aGVyIGVycm9yc1xuICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lICE9PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICByZXRyeUNvdW50Kys7XG4gICAgICAgICAgICAgICAgaWYgKHJldHJ5Q291bnQgPD0gbWF4UmV0cmllcykge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYE5ldHdvcmsgZXJyb3IsIHJldHJ5aW5nICgke3JldHJ5Q291bnR9LyR7bWF4UmV0cmllc30pLi4uYCk7XG4gICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCAqIHJldHJ5Q291bnQpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IGlmIG1heCByZXRyaWVzIHJlYWNoZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1JlcXVlc3QgYWJvcnRlZCBkdWUgdG8gdGltZW91dCBvciB1c2VyIGFjdGlvbicpO1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBhYm9ydCBlcnJvcnMgZ3JhY2VmdWxseSAtIHByb3ZpZGUgcGFydGlhbCByZXNwb25zZSBpbnN0ZWFkIG9mIGZhaWxpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja1Jlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgSSdtIHN0aWxsIHdvcmtpbmcgb24gYSBjb21wcmVoZW5zaXZlIHJlc3BvbnNlIHRvIHlvdXIgcXVlc3Rpb24gYWJvdXQgJHttZXNzYWdlU2VudC5zdWJzdHJpbmcoMCwgMzApfS4uLlxuXG5MZXQgbWUgZ2l2ZSB5b3Ugc29tZSBpbml0aWFsIHRob3VnaHRzIHdoaWxlIEkgY29udGludWUgcHJvY2Vzc2luZzpcblxuJHtnZXRDb250ZXh0dWFsUmVzcG9uc2UocGhhc2UsIGNvbXBvbmVudCl9XG5cbkxldCBtZSBrbm93IGlmIHlvdSBoYXZlIGFueSBzcGVjaWZpYyBxdWVzdGlvbnMgYWJvdXQgdGhpcyB0b3BpYyFgLFxuICAgICAgICAgICAgICAgICAgICAgIHBoYXNlOiBwaGFzZSxcbiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgICBhZ2VudF90eXBlOiBwaGFzZSxcbiAgICAgICAgICAgICAgICAgICAgICBzY2FmZm9sZGluZ19sZXZlbDogMixcbiAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25faWQ6IGNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gVXNlIG91ciBmYWxsYmFjayByZXNwb25zZSBpbnN0ZWFkIG9mIGZhaWxpbmdcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IGZhbGxiYWNrUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIEV4aXQgcmV0cnkgbG9vcCB3aXRoIGZhbGxiYWNrIHJlc3BvbnNlXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IGltbWVkaWF0ZWx5IGZvciBvdGhlciBlcnJvcnNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDbGVhciBhbnkgdGltZW91dFxuICAgICAgICAgIGNsZWFyVGltZW91dChhcGlUaW1lb3V0SWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENsZWFyIHRoZSB0aGlua2luZyBhbmltYXRpb24gaW50ZXJ2YWxcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpXG4gICAgICAgICAgc2V0VGhpbmtpbmdJbnRlcnZhbElkKG51bGwpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVtb3ZlIHR5cGluZyBpbmRpY2F0b3JcbiAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gcHJldi5maWx0ZXIoKG1zZykgPT4gIW1zZy5pc1R5cGluZykpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgcmVzcG9uc2UgaXMgdW5kZWZpbmVkIGFmdGVyIGFsbCByZXRyaWVzXG4gICAgICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdldCBhIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciBhZnRlciByZXRyaWVzXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZXQgcmVzcG9uc2UgZnJvbSBhZ2VudCAoSFRUUCAke3Jlc3BvbnNlLnN0YXR1c30pOiAke2F3YWl0IHJlc3BvbnNlLnRleHQoKX1gKVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFNhZmVseSBwYXJzZSBKU09OIHJlc3BvbnNlXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgdGhlIHJlc3BvbnNlIGZvcm1hdCB0byBoYW5kbGUgYm90aCB3cmFwcGVkIGFuZCB1bndyYXBwZWQgcmVzcG9uc2VzXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSYXcgQVBJIHJlc3BvbnNlOicsIGRhdGEpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEhhbmRsZSBzdWNjZXNzZnVsIHJlc3BvbnNlcyB3aXRoIGRhdGEgd3JhcHBlclxuICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSAmJiBkYXRhLmRhdGEpIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhID0gZGF0YS5kYXRhXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byB0aGUgcmVzcG9uc2UgYXMgaXNcbiAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhID0gZGF0YVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTm9ybWFsaXplZCBhZ2VudCByZXNwb25zZTonLCByZXNwb25zZURhdGEpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2VEYXRhIHx8IHR5cGVvZiByZXNwb25zZURhdGEgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgZm9ybWF0OicsIHJlc3BvbnNlRGF0YSlcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlIGZvcm1hdDogJHtKU09OLnN0cmluZ2lmeShyZXNwb25zZURhdGEpfWApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2VEYXRhLm1lc3NhZ2UgJiYgcmVzcG9uc2VEYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZURhdGEuZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnJvcjogdW5rbm93bikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignSlNPTiBwYXJzaW5nIGVycm9yOicsIHBhcnNlRXJyb3IpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIHBhcnNpbmcgYWdlbnQgcmVzcG9uc2U6ICR7cGFyc2VFcnJvciBpbnN0YW5jZW9mIEVycm9yID8gcGFyc2VFcnJvci5tZXNzYWdlIDogU3RyaW5nKHBhcnNlRXJyb3IpfWApXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCBib3QgcmVzcG9uc2VcbiAgICAgICAgICBjb25zdCBuZXdCb3RNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgICAgICBzZW5kZXI6IFwiYm90XCIsXG4gICAgICAgICAgICBjb250ZW50OiByZXNwb25zZURhdGEubWVzc2FnZSB8fCBcIkknbSBzb3JyeSwgSSdtIGhhdmluZyB0cm91YmxlIGdlbmVyYXRpbmcgYSByZXNwb25zZS5cIixcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgc2hvd0NvbnRpbnVlOiBhbHdheXNTaG93Q29udGludWUgfHwgKHJlc3BvbnNlRGF0YS5uZXh0X3BoYXNlICYmIHJlc3BvbnNlRGF0YS5uZXh0X3BoYXNlICE9PSBwaGFzZSksXG4gICAgICAgICAgICBuZXh0X3BoYXNlOiByZXNwb25zZURhdGEubmV4dF9waGFzZSB8fCBnZXROZXh0UGhhc2VJblNlcXVlbmNlKHBoYXNlKVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIG5ld0JvdE1lc3NhZ2VdKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCBoYW5kbGluZyBmb3IgaW50cm8gc3RhZ2UgdHJhbnNpdGlvbnNcbiAgICAgICAgICBpZiAocGhhc2UgPT09ICdpbnRybycgJiYgcmVzcG9uc2VEYXRhLm5leHRfaW50cm9fc3RhZ2UgJiYgb25TdGFnZUNoYW5nZSkge1xuICAgICAgICAgICAgb25TdGFnZUNoYW5nZShyZXNwb25zZURhdGEubmV4dF9pbnRyb19zdGFnZSlcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29tbXVuaWNhdGluZyB3aXRoIGFnZW50OicsIGVycm9yKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENsZWFyIGFueSBvbmdvaW5nIGFuaW1hdGlvbiBpbnRlcnZhbFxuICAgICAgICAgIGlmICh0aGlua2luZ0ludGVydmFsSWQpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpbmtpbmdJbnRlcnZhbElkKVxuICAgICAgICAgICAgc2V0VGhpbmtpbmdJbnRlcnZhbElkKG51bGwpXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlbW92ZSB0eXBpbmcgaW5kaWNhdG9yXG4gICAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHByZXYuZmlsdGVyKChtc2cpID0+ICFtc2cuaXNUeXBpbmcpKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCBhIGZyaWVuZGx5IGVycm9yIG1lc3NhZ2Ugd2l0aCB2aXN1YWwgc3R5bGluZ1xuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgc2VuZGVyOiBcImJvdFwiLFxuICAgICAgICAgICAgY29udGVudDogYFxuIyMgQ29ubmVjdGlvbiBJc3N1ZSDwn5SMXG5cbkknbSBjdXJyZW50bHkgaGF2aW5nIHRyb3VibGUgY29ubmVjdGluZyB0byBteSBrbm93bGVkZ2UgYmFzZS4gXG5cbiMjIyBXaGF0IHlvdSBjYW4gZG86XG4tIE1ha2Ugc3VyZSB0aGUgYmFja2VuZCBzZXJ2aWNlIGlzIHJ1bm5pbmdcbi0gVHJ5IHJlZnJlc2hpbmcgdGhlIHBhZ2Vcbi0gQ2hlY2sgeW91ciBpbnRlcm5ldCBjb25uZWN0aW9uXG5cbkZvciBhc3Npc3RhbmNlLCB5b3UgY2FuOlxuMS4gUnVuIHRoZSBiYWNrZW5kIHNlcnZpY2UgaWYgaXQncyBub3QgYWxyZWFkeSBydW5uaW5nXG4yLiBDb250YWN0IHRlY2huaWNhbCBzdXBwb3J0IGlmIHRoZSBpc3N1ZSBwZXJzaXN0c1xuXG4qWW91ciBwYXRpZW5jZSBpcyBhcHByZWNpYXRlZCB3aGlsZSBJIHJlY29ubmVjdC4qXG4gICAgICAgICAgICBgLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCJcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgZXJyb3JNZXNzYWdlXSlcbiAgICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSlcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGYWxsYmFjayB0byBsb2NhbCBoYW5kbGVyIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGlmIChvblNlbmRNZXNzYWdlKSB7XG4gICAgICAgICAgICBvblNlbmRNZXNzYWdlKG1lc3NhZ2VTZW50KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29tbXVuaWNhdGluZyB3aXRoIGFnZW50OicsIGVycm9yKVxuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYXIgYW55IG9uZ29pbmcgYW5pbWF0aW9uIGludGVydmFsXG4gICAgICAgIGlmICh0aGlua2luZ0ludGVydmFsSWQpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKHRoaW5raW5nSW50ZXJ2YWxJZClcbiAgICAgICAgICBzZXRUaGlua2luZ0ludGVydmFsSWQobnVsbClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVtb3ZlIHR5cGluZyBpbmRpY2F0b3JcbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHByZXYuZmlsdGVyKChtc2cpID0+ICFtc2cuaXNUeXBpbmcpKVxuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGEgZnJpZW5kbHkgZXJyb3IgbWVzc2FnZSB3aXRoIHZpc3VhbCBzdHlsaW5nXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICBzZW5kZXI6IFwiYm90XCIsXG4gICAgICAgICAgY29udGVudDogYFxuIyMgQ29ubmVjdGlvbiBJc3N1ZSDwn5SMXG5cbkknbSBjdXJyZW50bHkgaGF2aW5nIHRyb3VibGUgY29ubmVjdGluZyB0byBteSBrbm93bGVkZ2UgYmFzZS4gXG5cbiMjIyBXaGF0IHlvdSBjYW4gZG86XG4tIE1ha2Ugc3VyZSB0aGUgYmFja2VuZCBzZXJ2aWNlIGlzIHJ1bm5pbmdcbi0gVHJ5IHJlZnJlc2hpbmcgdGhlIHBhZ2Vcbi0gQ2hlY2sgeW91ciBpbnRlcm5ldCBjb25uZWN0aW9uXG5cbkZvciBhc3Npc3RhbmNlLCB5b3UgY2FuOlxuMS4gUnVuIHRoZSBiYWNrZW5kIHNlcnZpY2UgaWYgaXQncyBub3QgYWxyZWFkeSBydW5uaW5nXG4yLiBDb250YWN0IHRlY2huaWNhbCBzdXBwb3J0IGlmIHRoZSBpc3N1ZSBwZXJzaXN0c1xuXG4qWW91ciBwYXRpZW5jZSBpcyBhcHByZWNpYXRlZCB3aGlsZSBJIHJlY29ubmVjdC4qXG4gICAgICAgICAgYCxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCJcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgZXJyb3JNZXNzYWdlXSlcbiAgICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpXG4gICAgICAgIFxuICAgICAgICAvLyBGYWxsYmFjayB0byBsb2NhbCBoYW5kbGVyIGlmIGF2YWlsYWJsZVxuICAgICAgICBpZiAob25TZW5kTWVzc2FnZSkge1xuICAgICAgICAgIG9uU2VuZE1lc3NhZ2UobWVzc2FnZVNlbnQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9uU2VuZE1lc3NhZ2UpIHtcbiAgICAgIC8vIFVzZSBsb2NhbCBoYW5kbGVyIGlmIG5vdCB1c2luZyBhZ2VudCBpbnRlZ3JhdGlvblxuICAgICAgb25TZW5kTWVzc2FnZShtZXNzYWdlU2VudClcbiAgICB9XG4gIH1cblxuICAvLyBGdW5jdGlvbiB0byBjbGVhbiBtZXNzYWdlIGNvbnRlbnQgLSBzdHJpcCBldmFsdWF0aW9uIHNjb3JlcyBhbmQgc3VwcG9ydCBsZXZlbHNcbiAgY29uc3QgY2xlYW5NZXNzYWdlQ29udGVudCA9IChjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGlmICghY29udGVudCB8fCB0eXBlb2YgY29udGVudCAhPT0gJ3N0cmluZycpIHJldHVybiBjb250ZW50O1xuXG4gICAgLy8gUmVtb3ZlIGFueXRoaW5nIGluIHNxdWFyZSBicmFja2V0cyB0aGF0IGNvbnRhaW5zIGV2YWx1YXRpb24gaW5mb3JtYXRpb25cbiAgICBjb25zdCBwYXR0ZXJucyA9IFtcbiAgICAgIC9cXFsoPzpOb3RlfEV2YWx1YXRpb24pOlteXFxdXStcXF0vZyxcbiAgICAgIC9cXFsuKj8oPzpzY29yZXxTY29yZXxldmFsdWF0aW9ufEV2YWx1YXRpb258c3VwcG9ydCBsZXZlbHxTVVBQT1JUKS4qP1xcXS9nLCBcbiAgICAgIC9cXFtcXHMqKD86QWxpZ25tZW50fFRpbWVmcmFtZXxNZWFzdXJhYmlsaXR5fE92ZXJhbGwgU2NvcmV8QXZlcmFnZSBTY29yZSkuKj9cXF0vZyxcbiAgICAgIC9cXFsuKj8oPzpISUdIfE1FRElVTXxMT1cpXFxzK3N1cHBvcnQuKj9cXF0vZ2lcbiAgICBdO1xuXG4gICAgbGV0IGNsZWFuZWRDb250ZW50ID0gY29udGVudDtcbiAgICBwYXR0ZXJucy5mb3JFYWNoKHBhdHRlcm4gPT4ge1xuICAgICAgY2xlYW5lZENvbnRlbnQgPSBjbGVhbmVkQ29udGVudC5yZXBsYWNlKHBhdHRlcm4sICcnKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBjbGVhbmVkQ29udGVudC50cmltKCk7XG4gIH1cblxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIiAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBoYW5kbGVTZW5kTWVzc2FnZSgpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgYWRkQm90TWVzc2FnZSA9IChcbiAgICBjb250ZW50OiBzdHJpbmcgfCBSZWFjdE5vZGUsIFxuICAgIHR5cGU6IFwidGV4dFwiIHwgXCJ2aWRlb1wiIHwgXCJxdWl6XCIgfCBcImFjdGl2aXR5XCIgfCBcImZlZWRiYWNrXCIgfCBcInN1bW1hcnlcIiB8IFwic2NhZmZvbGRcIiA9IFwidGV4dFwiLFxuICAgIHNob3dDb250aW51ZSA9IGZhbHNlLFxuICAgIHNjYWZmb2xkT3B0aW9ucz86IHtcbiAgICAgIHN0ZXA/OiBudW1iZXIsXG4gICAgICB0b3RhbFN0ZXBzPzogbnVtYmVyLFxuICAgICAgaGludD86IHN0cmluZyxcbiAgICAgIGNoYXJhY3RlckxpbWl0PzogbnVtYmVyXG4gICAgfVxuICApID0+IHtcbiAgICBjb25zdCBuZXdNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICBzZW5kZXI6IFwiYm90XCIsXG4gICAgICBjb250ZW50LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgdHlwZSxcbiAgICAgIHNob3dDb250aW51ZTogYWx3YXlzU2hvd0NvbnRpbnVlIHx8IHNob3dDb250aW51ZSxcbiAgICAgIHNjYWZmb2xkU3RlcDogc2NhZmZvbGRPcHRpb25zPy5zdGVwLFxuICAgICAgc2NhZmZvbGRUb3RhbFN0ZXBzOiBzY2FmZm9sZE9wdGlvbnM/LnRvdGFsU3RlcHMsXG4gICAgICBzY2FmZm9sZEhpbnQ6IHNjYWZmb2xkT3B0aW9ucz8uaGludCxcbiAgICAgIGNoYXJhY3RlckxpbWl0OiBzY2FmZm9sZE9wdGlvbnM/LmNoYXJhY3RlckxpbWl0LFxuICAgICAgbmV4dF9waGFzZTogZ2V0TmV4dFBoYXNlSW5TZXF1ZW5jZShwaGFzZSlcbiAgICB9XG4gICAgXG4gICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgbmV3TWVzc2FnZV0pXG4gIH1cblxuICBjb25zdCBzaW11bGF0ZUJvdFR5cGluZyA9IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4ge1xuICAgIHNldElzVHlwaW5nKHRydWUpXG5cbiAgICAvLyBBZGQgdHlwaW5nIGluZGljYXRvclxuICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbXG4gICAgICAuLi5wcmV2LFxuICAgICAge1xuICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgc2VuZGVyOiBcImJvdFwiLFxuICAgICAgICBjb250ZW50OiBcInR5cGluZy4uLlwiLFxuICAgICAgICBpc1R5cGluZzogdHJ1ZSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICBdKVxuXG4gICAgLy8gU2ltdWxhdGUgdHlwaW5nIGRlbGF5XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBSZW1vdmUgdHlwaW5nIGluZGljYXRvclxuICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHByZXYuZmlsdGVyKChtc2cpID0+ICFtc2cuaXNUeXBpbmcpKVxuXG4gICAgICAvLyBFeGVjdXRlIGNhbGxiYWNrXG4gICAgICBjYWxsYmFjaygpXG5cbiAgICAgIHNldElzVHlwaW5nKGZhbHNlKVxuICAgIH0sIDE1MDApXG4gIH1cblxuICBjb25zdCBzdGFydFRoaW5raW5nQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIHNldElzVHlwaW5nKHRydWUpXG4gICAgbGV0IGNvdW50ID0gMFxuICAgIFxuICAgIC8vIEJhc2UgdGhpbmtpbmcgdGV4dHMgdGhhdCBhcHBseSB0byBhbGwgcGhhc2VzXG4gICAgY29uc3QgYmFzZVRoaW5raW5nVGV4dHMgPSBbXG4gICAgICBcIlNvTEJvdCBpcyB0aGlua2luZ1wiLFxuICAgICAgXCJQcm9jZXNzaW5nIHlvdXIgbWVzc2FnZVwiLFxuICAgICAgXCJBbmFseXppbmcgcmVzcG9uc2VcIlxuICAgIF1cbiAgICBcbiAgICAvLyBQaGFzZS1zcGVjaWZpYyB0aGlua2luZyB0ZXh0c1xuICAgIGNvbnN0IHBoYXNlVGhpbmtpbmdUZXh0czogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge1xuICAgICAgaW50cm86IFtcbiAgICAgICAgXCJHZXR0aW5nIHRvIGtub3cgeW91IGJldHRlclwiLFxuICAgICAgICBcIlByZXBhcmluZyB5b3VyIGxlYXJuaW5nIGpvdXJuZXlcIixcbiAgICAgICAgXCJDdXN0b21pemluZyBteSBhcHByb2FjaCBmb3IgeW91XCJcbiAgICAgIF0sXG4gICAgICBwaGFzZTE6IFtcbiAgICAgICAgXCJSZXZpZXdpbmcgbW90aXZhdGlvbiBmYWN0b3JzXCIsXG4gICAgICAgIFwiQ29uc2lkZXJpbmcgeW91ciBsZWFybmluZyBnb2Fsc1wiLFxuICAgICAgICBcIlByZXBhcmluZyBnb2FsIGFsaWdubWVudCByZXNwb25zZVwiXG4gICAgICBdLFxuICAgICAgcGhhc2UyOiBbXG4gICAgICAgIFwiQW5hbHl6aW5nIGxlYXJuaW5nIG9iamVjdGl2ZXNcIixcbiAgICAgICAgXCJFdmFsdWF0aW5nIHJlc291cmNlIHNlbGVjdGlvblwiLFxuICAgICAgICBcIkFwcGx5aW5nIGFwcHJvcHJpYXRlIHNjYWZmb2xkaW5nXCJcbiAgICAgIF0sXG4gICAgICBwaGFzZTQ6IFtcbiAgICAgICAgXCJBc3Nlc3NpbmcgZ29hbC1zZXR0aW5nIHN0cmF0ZWd5XCIsXG4gICAgICAgIFwiQ29uc2lkZXJpbmcgdGltZSBtYW5hZ2VtZW50IGFwcHJvYWNoXCIsXG4gICAgICAgIFwiRXZhbHVhdGluZyBwbGFubmluZyBlZmZlY3RpdmVuZXNzXCJcbiAgICAgIF0sXG4gICAgICBwaGFzZTU6IFtcbiAgICAgICAgXCJBbmFseXppbmcgcmVmbGVjdGlvbiBkZXB0aFwiLFxuICAgICAgICBcIkNvbnNpZGVyaW5nIGltcHJvdmVtZW50IHN0cmF0ZWdpZXNcIixcbiAgICAgICAgXCJFdmFsdWF0aW5nIGxlYXJuaW5nIHRyYW5zZmVyXCJcbiAgICAgIF0sXG4gICAgICBzdW1tYXJ5OiBbXG4gICAgICAgIFwiU3ludGhlc2l6aW5nIGxlYXJuaW5nIGpvdXJuZXlcIixcbiAgICAgICAgXCJQcmVwYXJpbmcgY29tcHJlaGVuc2l2ZSBzdW1tYXJ5XCIsXG4gICAgICAgIFwiQ29ubmVjdGluZyBsZWFybmluZyBtaWxlc3RvbmVzXCJcbiAgICAgIF1cbiAgICB9XG4gICAgXG4gICAgLy8gQ29tYmluZSBiYXNlIHRleHRzIHdpdGggcGhhc2Utc3BlY2lmaWMgdGV4dHNcbiAgICBjb25zdCBwaGFzZVRleHRzID0gcGhhc2VUaGlua2luZ1RleHRzW3BoYXNlXSB8fCBwaGFzZVRoaW5raW5nVGV4dHMuaW50cm9cbiAgICBjb25zdCB0aGlua2luZ1RleHRzID0gWy4uLmJhc2VUaGlua2luZ1RleHRzLCAuLi5waGFzZVRleHRzLCBcIkFsbW9zdCByZWFkeVwiXVxuICAgIFxuICAgIC8vIFJlc3BvbnNlIGZyYWdtZW50cyB0byBzaW11bGF0ZSBzdHJlYW1pbmcgKHNob3cgcGFydGlhbCByZXNwb25zZXMgd2hpbGUgd2FpdGluZylcbiAgICBjb25zdCByZXNwb25zZUZyYWdtZW50cyA9IFtcbiAgICAgIFwiSSdtIGFuYWx5emluZyB5b3VyIG1lc3NhZ2UuLi5cIixcbiAgICAgIFwiSGVyZSdzIHdoYXQgSSdtIHRoaW5raW5nIGFib3V0IHlvdXIgaW5wdXQuLi5cIixcbiAgICAgIFwiU3RhcnRpbmcgdG8gZm9ybXVsYXRlIGEgcmVzcG9uc2UuLi5cIixcbiAgICAgIFwiUHJvY2Vzc2luZyB3aGF0IHlvdSd2ZSBzaGFyZWQuLi5cIixcbiAgICAgIFwiUHV0dGluZyB0b2dldGhlciBzb21lIHRob3VnaHRzIGZvciB5b3UuLi5cIixcbiAgICAgIFwiV29ya2luZyBvbiBhIHBlcnNvbmFsaXplZCByZXNwb25zZS4uLlwiLFxuICAgICAgXCJBbG1vc3QgZG9uZSB3aXRoIHlvdXIgYW5zd2VyLi4uXCJcbiAgICBdXG4gICAgXG4gICAgLy8gQWRkIHR5cGluZyBpbmRpY2F0b3Igd2l0aCBpbml0aWFsIG1lc3NhZ2VcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4gW1xuICAgICAgLi4ucHJldixcbiAgICAgIHtcbiAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgIHNlbmRlcjogXCJib3RcIixcbiAgICAgICAgY29udGVudDogdGhpbmtpbmdUZXh0c1swXSxcbiAgICAgICAgaXNUeXBpbmc6IHRydWUsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgXSlcbiAgICBcbiAgICAvLyBVcGRhdGUgdGhlIG1lc3NhZ2UgZXZlcnkgMiBzZWNvbmRzIHdpdGggYSBuZXcgdGhpbmtpbmcgdGV4dFxuICAgIC8vIG9yIGEgcGFydGlhbCByZXNwb25zZSBmcmFnbWVudCBhZnRlciBhIGZldyBjeWNsZXNcbiAgICBjb25zdCBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgY291bnQgPSAoY291bnQgKyAxKSAlIHRoaW5raW5nVGV4dHMubGVuZ3RoXG4gICAgICBcbiAgICAgIC8vIEFmdGVyIGEgZmV3IGN5Y2xlcywgc3RhcnQgc2hvd2luZyByZXNwb25zZSBmcmFnbWVudHMgdG8gc2ltdWxhdGUgc3RyZWFtaW5nXG4gICAgICBjb25zdCBjb250ZW50ID0gY291bnQgPiAyICYmIGNvdW50ICUgMiA9PT0gMCBcbiAgICAgICAgPyByZXNwb25zZUZyYWdtZW50c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiByZXNwb25zZUZyYWdtZW50cy5sZW5ndGgpXVxuICAgICAgICA6IHRoaW5raW5nVGV4dHNbY291bnRdXG4gICAgICBcbiAgICAgIHNldExvYWRpbmdUZXh0KGNvbnRlbnQpXG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgdHlwaW5nIGluZGljYXRvciBtZXNzYWdlXG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gXG4gICAgICAgIHByZXYubWFwKG1zZyA9PiBcbiAgICAgICAgICBtc2cuaXNUeXBpbmcgXG4gICAgICAgICAgICA/IHsgLi4ubXNnLCBjb250ZW50OiBjb250ZW50IH0gXG4gICAgICAgICAgICA6IG1zZ1xuICAgICAgICApXG4gICAgICApXG4gICAgfSwgMjAwMClcbiAgICBcbiAgICAvLyBTdG9yZSBpbnRlcnZhbCBJRCBmb3IgbGF0ZXIgY2xlYW51cFxuICAgIHNldFRoaW5raW5nSW50ZXJ2YWxJZChpbnRlcnZhbElkKVxuICAgIFxuICAgIHJldHVybiBpbnRlcnZhbElkXG4gIH1cblxuICAvLyBBZGQgdGhpcyBoZWxwZXIgZnVuY3Rpb24gdG8gYWlkIHdpdGggc3RyZWFtaW5nIHNpbXVsYXRpb25cbiAgY29uc3QgdXBkYXRlVGhpbmtpbmdNZXNzYWdlID0gKGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghaXNUeXBpbmcpIHJldHVyblxuICAgIFxuICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBcbiAgICAgIHByZXYubWFwKG1zZyA9PiBcbiAgICAgICAgbXNnLmlzVHlwaW5nIFxuICAgICAgICAgID8geyAuLi5tc2csIGNvbnRlbnQgfSBcbiAgICAgICAgICA6IG1zZ1xuICAgICAgKVxuICAgIClcbiAgfVxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgdGhlIG5leHQgcGhhc2UgaW4gdGhlIHNlcXVlbmNlXG4gIC8vIFBoYXNlIHNlcXVlbmNlOiBpbnRybyAtPiBwaGFzZTEgLT4gcGhhc2UyIC0+IHBoYXNlMyAtPiBwaGFzZTQgLT4gcGhhc2U1IC0+IHBoYXNlNiAtPiBzdW1tYXJ5XG4gIGNvbnN0IGdldE5leHRQaGFzZUluU2VxdWVuY2UgPSAoY3VycmVudFBoYXNlOiBzdHJpbmcpID0+IHtcbiAgICAvLyBGb3IgUGhhc2UgNCwgaGFuZGxlIHRhc2sgbmF2aWdhdGlvbiB3aXRoaW4gdGhlIHBoYXNlXG4gICAgaWYgKGN1cnJlbnRQaGFzZSA9PT0gXCJwaGFzZTRcIikge1xuICAgICAgaWYgKGNvbXBvbmVudCA9PT0gXCJsb25nX3Rlcm1fZ29hbHNcIikge1xuICAgICAgICByZXR1cm4gXCJzaG9ydF90ZXJtX2dvYWxzXCI7IC8vIE5hdmlnYXRlIHRvIHNob3J0IHRlcm0gZ29hbHMgdGFza1xuICAgICAgfSBlbHNlIGlmIChjb21wb25lbnQgPT09IFwic2hvcnRfdGVybV9nb2Fsc1wiKSB7XG4gICAgICAgIHJldHVybiBcImNvbnRpbmdlbmN5X3N0cmF0ZWdpZXNcIjsgLy8gTmF2aWdhdGUgdG8gY29udGluZ2VuY3kgc3RyYXRlZ2llcyB0YXNrXG4gICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudCA9PT0gXCJjb250aW5nZW5jeV9zdHJhdGVnaWVzXCIpIHtcbiAgICAgICAgcmV0dXJuIFwicGhhc2U1XCI7IC8vIE5hdmlnYXRlIHRvIG5leHQgcGhhc2UgYWZ0ZXIgY29tcGxldGluZyBhbGwgdGFza3NcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRGVmYXVsdCBwaGFzZSBzZXF1ZW5jZSBsb2dpY1xuICAgIGNvbnN0IHBoYXNlU2VxdWVuY2UgPSBbXCJpbnRyb1wiLCBcInBoYXNlMVwiLCBcInBoYXNlMlwiLCBcInBoYXNlM1wiLCBcInBoYXNlNFwiLCBcInBoYXNlNVwiLCBcInBoYXNlNlwiLCBcInN1bW1hcnlcIl07XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gcGhhc2VTZXF1ZW5jZS5pbmRleE9mKGN1cnJlbnRQaGFzZSk7XG4gICAgXG4gICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEgfHwgY3VycmVudEluZGV4ID09PSBwaGFzZVNlcXVlbmNlLmxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybiBcInN1bW1hcnlcIjsgLy8gRGVmYXVsdCB0byBzdW1tYXJ5IGlmIG5vdCBmb3VuZCBvciBpZiBpdCdzIHRoZSBsYXN0IHBoYXNlXG4gICAgfVxuICAgIFxuICAgIHJldHVybiBwaGFzZVNlcXVlbmNlW2N1cnJlbnRJbmRleCArIDFdO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPENhcmQgY2xhc3NOYW1lPVwiYmctc2xhdGUtOTAwLzYwIGJhY2tkcm9wLWJsdXItbWQgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBzaGFkb3cteGwgbWItNiBtYXgtdy1mdWxsXCI+XG4gICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicC0wIG1heC13LWZ1bGxcIj5cbiAgICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20taW5kaWdvLTkwMC81MCB0by1wdXJwbGUtOTAwLzUwIHAtNCByb3VuZGVkLXQtbGcgYm9yZGVyLWIgYm9yZGVyLWluZGlnby01MDAvMzAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LTEyIGgtMTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTYwMC84MCB0by1ibHVlLTUwMC81MCBzaGFkb3ctWzBfMF8xNXB4X3JnYmEoMTIyLDg2LDIyMCwwLjUpXSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxCb3QgY2xhc3NOYW1lPVwiaC02IHctNiB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgYW5pbWF0ZT17e1xuICAgICAgICAgICAgICAgICAgc2NhbGU6IFsxLCAxLjIsIDFdLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogWzAuNywgMSwgMC43XSxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3tcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgICAgICAgICAgcmVwZWF0OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICAgICAgICBlYXNlOiBcImVhc2VJbk91dFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCB3LTEyIGgtMTIgcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAvMzAgLXotMTBcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgIGFuaW1hdGU9e3tcbiAgICAgICAgICAgICAgICAgIHNjYWxlOiBbMSwgMS40LCAxXSxcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IFswLjUsIDAuOCwgMC41XSxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3tcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzLFxuICAgICAgICAgICAgICAgICAgcmVwZWF0OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICAgICAgICBlYXNlOiBcImVhc2VJbk91dFwiLFxuICAgICAgICAgICAgICAgICAgZGVsYXk6IDAuNSxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgdy0xMiBoLTEyIHJvdW5kZWQtZnVsbCBiZy1ibHVlLTUwMC8yMCAtei0yMFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlXCI+U29MQm90PC9oMj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1pbmRpZ28tMzAwIHRleHQtc21cIj5Zb3VyIEFJIExlYXJuaW5nIENvYWNoPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1pbmRpZ28tNTAwLzIwIHB4LTMgcHktMSByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1pbmRpZ28tNTAwLzMwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiByb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MDAgYW5pbWF0ZS1wdWxzZVwiPjwvZGl2PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtaW5kaWdvLTMwMFwiPk9ubGluZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogQ2hhdCBDb250YWluZXIgKi99XG4gICAgICAgIDxkaXYgaWQ9XCJjaGF0LWNvbnRhaW5lclwiIHN0eWxlPXt7IGhlaWdodCB9fSBjbGFzc05hbWU9XCJvdmVyZmxvdy15LWF1dG8gcC00IHNwYWNlLXktNFwiPlxuICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17YCR7bWVzc2FnZS5pZH0tJHtpbmRleH1gfSBjbGFzc05hbWU9e2BmbGV4ICR7bWVzc2FnZS5zZW5kZXIgPT09IFwiYm90XCIgPyBcIlwiIDogXCJqdXN0aWZ5LWVuZFwifWB9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZsZXggJHttZXNzYWdlLnNlbmRlciA9PT0gXCJib3RcIiA/IFwiXCIgOiBcImZsZXgtcm93LXJldmVyc2VcIn0gbWF4LXctWzgwJV1gfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgbXItM1wiPlxuICAgICAgICAgICAgICAgICAge21lc3NhZ2Uuc2VuZGVyID09PSBcImJvdFwiID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGgtMTAgdy0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMCB3LTEwIHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS02MDAvODAgdG8tYmx1ZS01MDAvNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCb3QgY2xhc3NOYW1lPVwiaC01IHctNSB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogWzEsIDEuMiwgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IFswLjcsIDEsIDAuN10sXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2U6IFwiZWFzZUluT3V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCB3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAvMzAgLXotMTBcIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEwIHctMTAgcm91bmRlZC1mdWxsIGJnLWluZGlnby02MDAvMzAgYm9yZGVyIGJvcmRlci1pbmRpZ28tNTAwLzMwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPFVzZXIgY2xhc3NOYW1lPVwiaC01IHctNSB0ZXh0LWluZGlnby0zMDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlbmRlciA9PT0gXCJib3RcIlxuICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1zbGF0ZS04MDAvNTAgYm9yZGVyIGJvcmRlci1pbmRpZ28tNTAwLzMwIHRleHQtd2hpdGUvOTBcIlxuICAgICAgICAgICAgICAgICAgICAgIDogXCJiZy1pbmRpZ28tNjAwLzMwIGJvcmRlciBib3JkZXItaW5kaWdvLTUwMC8zMCB0ZXh0LXdoaXRlLzkwXCJcbiAgICAgICAgICAgICAgICAgIH0gcm91bmRlZC1sZyBwLTQgYnJlYWstd29yZHMgb3ZlcmZsb3ctaGlkZGVuYH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS5pc1R5cGluZyA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNwYWNlLXktMyBwLTEgdy1mdWxsIG1pbi13LVsxODBweF1cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1pbmRpZ28tMzAwIGZvbnQtbWVkaXVtIG1sLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTUwMCBhbmltYXRlLXB1bHNlXCIgc3R5bGU9e3sgYW5pbWF0aW9uRHVyYXRpb246IFwiMC44c1wiIH19PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIHJvdW5kZWQtZnVsbCBiZy1pbmRpZ28tNTAwIGFuaW1hdGUtcHVsc2VcIiBzdHlsZT17eyBhbmltYXRpb25EdXJhdGlvbjogXCIwLjhzXCIsIGFuaW1hdGlvbkRlbGF5OiBcIjAuMnNcIiB9fT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiByb3VuZGVkLWZ1bGwgYmctYmx1ZS01MDAgYW5pbWF0ZS1wdWxzZVwiIHN0eWxlPXt7IGFuaW1hdGlvbkR1cmF0aW9uOiBcIjAuOHNcIiwgYW5pbWF0aW9uRGVsYXk6IFwiMC40c1wiIH19PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIHJvdW5kZWQtZnVsbCBiZy1jeWFuLTUwMCBhbmltYXRlLXB1bHNlXCIgc3R5bGU9e3sgYW5pbWF0aW9uRHVyYXRpb246IFwiMC44c1wiLCBhbmltYXRpb25EZWxheTogXCIwLjZzXCIgfX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgey8qIFByb2dyZXNzIGJhciBhbmltYXRpb24gKi99XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctc2xhdGUtNzAwLzUwIHJvdW5kZWQtZnVsbCBoLTEuNSBtdC0xIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCBiZy1ncmFkaWVudC10by1yIGZyb20taW5kaWdvLTUwMCB2aWEtcHVycGxlLTUwMCB0by1waW5rLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgd2lkdGg6IFwiMTAlXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogW1wiMTAlXCIsIFwiMzAlXCIsIFwiNjAlXCIsIFwiOTAlXCIsIFwiOTUlXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzZTogXCJlYXNlSW5PdXRcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQ6IEluZmluaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0VHlwZTogXCJyZXZlcnNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWluZGlnby0zMDAvNzAgaXRhbGljIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgbWlnaHQgdGFrZSBhIG1vbWVudCBmb3IgY29tcGxleCByZXNwb25zZXMuLi5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3R5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09ICdzdHJpbmcnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHVzZSBDaGF0TWVzc2FnZVBhcnNlciBmb3IgcGhhc2VzIHdoZXJlIGNsaWNrYWJsZSBjb21wb25lbnRzIGFyZSBkZXNpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBmb3IgcGhhc2VzIDIsIDQsIGFuZCA1IGFzIHJlcXVlc3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBoYXNlID09PSBcInBoYXNlMlwiIHx8IHBoYXNlID09PSBcInBoYXNlNFwiIHx8IHBoYXNlID09PSBcInBoYXNlNVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyA8TWFya2Rvd25SZW5kZXJlciBjb250ZW50PXtjbGVhbk1lc3NhZ2VDb250ZW50KG1lc3NhZ2UuY29udGVudCl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiA8Q2hhdE1lc3NhZ2VQYXJzZXIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2NsZWFuTWVzc2FnZUNvbnRlbnQobWVzc2FnZS5jb250ZW50KX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT3B0aW9uU2VsZWN0PXsoc2VsZWN0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSB0ZW1wb3Jhcnkgc3RhdGUgZm9yIHRoZSBpbnB1dCB0byBwYXNzIHRvIGhhbmRsZVNlbmRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VXNlcklucHV0KHNlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHVzZXIgbWVzc2FnZSB0byB0aGUgY2hhdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1VzZXJNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXI6IFwidXNlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogc2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIG5ld1VzZXJNZXNzYWdlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0aGUgc2VsZWN0ZWQgb3B0aW9uIGFzIGEgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgb25TZW5kTWVzc2FnZSBjYWxsYmFjayBpZiBwcm92aWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uU2VuZE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZW5kTWVzc2FnZShzZWxlY3RlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgdGhlIG1lc3NhZ2UgdG8gdGhlIGFnZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZW5kTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFVzZXJJbnB1dChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1lc3NhZ2UuY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBTY2FmZm9sZGluZyBzdGVwIGluZGljYXRvciAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS50eXBlID09PSBcInNjYWZmb2xkXCIgJiYgbWVzc2FnZS5zY2FmZm9sZFN0ZXAgJiYgbWVzc2FnZS5zY2FmZm9sZFRvdGFsU3RlcHMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXhzIHRleHQtaW5kaWdvLTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+U3RlcCB7bWVzc2FnZS5zY2FmZm9sZFN0ZXB9IG9mIHttZXNzYWdlLnNjYWZmb2xkVG90YWxTdGVwc308L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zY2FmZm9sZEhpbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRhbGljIHRleHQtaW5kaWdvLTMwMC84MFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGludDoge21lc3NhZ2Uuc2NhZmZvbGRIaW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB7LyogU3BlY2lhbCBjb250ZW50IGJhc2VkIG9uIG1lc3NhZ2UgdHlwZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS50eXBlID09PSBcInZpZGVvXCIgJiYgdmlkZW9Db21wb25lbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+e3ZpZGVvQ29tcG9uZW50fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UudHlwZSA9PT0gXCJxdWl6XCIgJiYgcXVpekNvbXBvbmVudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj57cXVpekNvbXBvbmVudH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnR5cGUgPT09IFwiZmVlZGJhY2tcIiAmJiBmZWVkYmFja0NvbXBvbmVudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj57ZmVlZGJhY2tDb21wb25lbnR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS50eXBlID09PSBcInN1bW1hcnlcIiAmJiBzdW1tYXJ5Q29tcG9uZW50ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPntzdW1tYXJ5Q29tcG9uZW50fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2Uuc2hvd0NvbnRpbnVlICYmIG9uQ29udGludWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9uUGhhc2VDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gcmVndWxhciBjb250aW51ZSBpZiBubyBvblBoYXNlQ29tcGxldGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uQ29udGludWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbnRpbnVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0U3RlcCA9IGdldE5leHRQaGFzZUluU2VxdWVuY2UocGhhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgUGhhc2UgNCwgaWYgaXQncyBhIHRhc2sgdHJhbnNpdGlvbiB3aXRoaW4gdGhlIHBoYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGhhc2UgPT09IFwicGhhc2U0XCIgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5leHRTdGVwID09PSBcInNob3J0X3Rlcm1fZ29hbHNcIiB8fCBuZXh0U3RlcCA9PT0gXCJjb250aW5nZW5jeV9zdHJhdGVnaWVzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgd2l0aCBzY29yZSBpbmZvIHRvIG1haW50YWluIHByb2dyZXNzIHRyYWNraW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUGhhc2VDb21wbGV0ZShgJHtuZXh0U3RlcH06c2NvcmU6Mi41YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWd1bGFyIHBoYXNlIHRyYW5zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25QaGFzZUNvbXBsZXRlKG5leHRTdGVwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1pbmRpZ28tNjAwIHRvLXB1cnBsZS02MDAgaG92ZXI6ZnJvbS1pbmRpZ28tNzAwIGhvdmVyOnRvLXB1cnBsZS03MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb250aW51ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJvd1JpZ2h0IGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIElucHV0IEFyZWEgKi99XG4gICAgICAgIHthbGxvd0lucHV0ICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1pbmRpZ28tNTAwLzMwIHAtNFwiPlxuICAgICAgICAgICAge3VzZVNjYWZmb2xkaW5nICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXhzIHRleHQtaW5kaWdvLTMwMFwiPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj5TdGVwIHtjdXJyZW50U2NhZmZvbGRTdGVwfSBvZiB7c2NhZmZvbGRpbmdTdGVwc308L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgey8qIENoYXJhY3RlciBsaW1pdCBjb3VudGVyIC0gb25seSBzaG93cyB3aGVuIGFwcHJvYWNoaW5nIGxpbWl0ICovfVxuICAgICAgICAgICAgICAgIHtjaGFyYWN0ZXJzUmVtYWluaW5nIDw9IDEwMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7Y2hhcmFjdGVyc1JlbWFpbmluZyA8IDAgPyAndGV4dC1yZWQtNDAwJyA6ICd0ZXh0LWluZGlnby0zMDAnfWB9PlxuICAgICAgICAgICAgICAgICAgICB7Y2hhcmFjdGVyc1JlbWFpbmluZ30gY2hhcmFjdGVycyByZW1haW5pbmdcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWVuZCBnYXAtMlwiPlxuICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICBpZD1cImNoYXQtbWVzc2FnZS1pbnB1dFwiXG4gICAgICAgICAgICAgICAgbmFtZT1cImNoYXQtbWVzc2FnZVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3VzZXJJbnB1dH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFVzZXJJbnB1dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSB5b3VyIHJlc3BvbnNlLi4uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtaW4taC1bODBweF0gZmxleC0xIGJnLXNsYXRlLTgwMC81MCBib3JkZXIgYm9yZGVyLWluZGlnby01MDAvMzAgdGV4dC13aGl0ZSByZXNpemUtbm9uZVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzVHlwaW5nfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VuZE1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYmctaW5kaWdvLTYwMCBob3ZlcjpiZy1pbmRpZ28tNzAwIGgtMTAgdy0xMCByb3VuZGVkLWZ1bGwgcC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyICR7XG4gICAgICAgICAgICAgICAgICBpc1R5cGluZyA/IFwib3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWRcIiA6IFwiXCJcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNUeXBpbmcgfHwgdXNlcklucHV0Lmxlbmd0aCA9PT0gMCB8fCB1c2VySW5wdXQubGVuZ3RoID4gbWF4TWVzc2FnZUxlbmd0aH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZW5kIGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogQ2hhcmFjdGVyIGxpbWl0IHdhcm5pbmcgKi99XG4gICAgICAgICAgICB7dXNlcklucHV0Lmxlbmd0aCA+IG1heE1lc3NhZ2VMZW5ndGggJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LXJlZC00MDBcIj5cbiAgICAgICAgICAgICAgICBZb3VyIG1lc3NhZ2UgZXhjZWVkcyB0aGUgbWF4aW11bSBhbGxvd2VkIGxlbmd0aC4gUGxlYXNlIHNob3J0ZW4gaXQuXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogQWx3YXlzIHZpc2libGUgQ29udGludWUgYnV0dG9uICovfVxuICAgICAgICB7YWx3YXlzU2hvd0NvbnRpbnVlICYmIG9uUGhhc2VDb21wbGV0ZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItaW5kaWdvLTUwMC8zMCBwLTQgZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFvblBoYXNlQ29tcGxldGUpIHJldHVybjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0U3RlcCA9IGdldE5leHRQaGFzZUluU2VxdWVuY2UocGhhc2UpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEZvciBQaGFzZSA0LCBpZiBpdCdzIGEgdGFzayB0cmFuc2l0aW9uIHdpdGhpbiB0aGUgcGhhc2VcbiAgICAgICAgICAgICAgICBpZiAocGhhc2UgPT09IFwicGhhc2U0XCIgJiYgXG4gICAgICAgICAgICAgICAgICAgIChuZXh0U3RlcCA9PT0gXCJzaG9ydF90ZXJtX2dvYWxzXCIgfHwgbmV4dFN0ZXAgPT09IFwiY29udGluZ2VuY3lfc3RyYXRlZ2llc1wiKSkge1xuICAgICAgICAgICAgICAgICAgLy8gU2VuZCB3aXRoIHNjb3JlIGluZm8gdG8gbWFpbnRhaW4gcHJvZ3Jlc3MgdHJhY2tpbmdcbiAgICAgICAgICAgICAgICAgIG9uUGhhc2VDb21wbGV0ZShgJHtuZXh0U3RlcH06c2NvcmU6Mi41YCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIFJlZ3VsYXIgcGhhc2UgdHJhbnNpdGlvblxuICAgICAgICAgICAgICAgICAgb25QaGFzZUNvbXBsZXRlKG5leHRTdGVwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1pbmRpZ28tNjAwIHRvLXB1cnBsZS02MDAgaG92ZXI6ZnJvbS1pbmRpZ28tNzAwIGhvdmVyOnRvLXB1cnBsZS03MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtwaGFzZSA9PT0gXCJwaGFzZTRcIiAmJiAoY29tcG9uZW50ID09PSBcImxvbmdfdGVybV9nb2Fsc1wiIHx8IGNvbXBvbmVudCA9PT0gXCJzaG9ydF90ZXJtX2dvYWxzXCIpIFxuICAgICAgICAgICAgICAgID8gXCJDb250aW51ZVwiIFxuICAgICAgICAgICAgICAgIDogXCJDb250aW51ZSB0byBOZXh0IFBoYXNlXCJ9XG4gICAgICAgICAgICAgIDxBcnJvd1JpZ2h0IGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9DYXJkQ29udGVudD5cbiAgICA8L0NhcmQ+XG4gIClcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwibW90aW9uIiwiQm90IiwiU2VuZCIsIlVzZXIiLCJBcnJvd1JpZ2h0IiwiVGV4dGFyZWEiLCJCdXR0b24iLCJDYXJkIiwiQ2FyZENvbnRlbnQiLCJ2NCIsInV1aWR2NCIsIk1hcmtkb3duUmVuZGVyZXIiLCJDaGF0TWVzc2FnZVBhcnNlciIsIlNvbEJvdENoYXQiLCJpbml0aWFsTWVzc2FnZXMiLCJvblNlbmRNZXNzYWdlIiwib25Db250aW51ZSIsIm9uUGhhc2VDb21wbGV0ZSIsIm9uU3RhZ2VDaGFuZ2UiLCJhbGxvd0lucHV0Iiwic2hvd0NvbnRpbnVlQnV0dG9uIiwiYWx3YXlzU2hvd0NvbnRpbnVlIiwiaGVpZ2h0IiwiY2hpbGRyZW4iLCJ2aWRlb0NvbXBvbmVudCIsInF1aXpDb21wb25lbnQiLCJmZWVkYmFja0NvbXBvbmVudCIsInN1bW1hcnlDb21wb25lbnQiLCJ1c2VTY2FmZm9sZGluZyIsInNjYWZmb2xkaW5nU3RlcHMiLCJtYXhNZXNzYWdlTGVuZ3RoIiwidXNlcklkIiwicGhhc2UiLCJjb21wb25lbnQiLCJ1c2VBZ2VudCIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJ1c2VySW5wdXQiLCJzZXRVc2VySW5wdXQiLCJpc1R5cGluZyIsInNldElzVHlwaW5nIiwiY3VycmVudFNjYWZmb2xkU3RlcCIsInNldEN1cnJlbnRTY2FmZm9sZFN0ZXAiLCJjaGFyYWN0ZXJzUmVtYWluaW5nIiwic2V0Q2hhcmFjdGVyc1JlbWFpbmluZyIsImNvbnZlcnNhdGlvbklkIiwic2V0Q29udmVyc2F0aW9uSWQiLCJsb2FkaW5nVGV4dCIsInNldExvYWRpbmdUZXh0IiwidGhpbmtpbmdJbnRlcnZhbElkIiwic2V0VGhpbmtpbmdJbnRlcnZhbElkIiwicHJlZGVmaW5lZFJlc3BvbnNlcyIsInBoYXNlMSIsIndlbGNvbWUiLCJnZW5lcmFsIiwiZGVmYXVsdCIsImxlbmd0aCIsImNoYXRDb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwiZ2V0Q29udGV4dHVhbFJlc3BvbnNlIiwicmVzcG9uc2VzIiwicGhhc2U0IiwibG9uZ190ZXJtX2dvYWxzIiwic2hvcnRfdGVybV9nb2FscyIsImNvbnRpbmdlbmN5X3N0cmF0ZWdpZXMiLCJwaGFzZTUiLCJoYW5kbGVTZW5kTWVzc2FnZSIsInRyaW0iLCJuZXdVc2VyTWVzc2FnZSIsImlkIiwiRGF0ZSIsIm5vdyIsInNlbmRlciIsImNvbnRlbnQiLCJ0aW1lc3RhbXAiLCJzY2FmZm9sZFN0ZXAiLCJ1bmRlZmluZWQiLCJwcmV2IiwibWVzc2FnZVNlbnQiLCJpbnRlcnZhbElkIiwic3RhcnRUaGlua2luZ0FuaW1hdGlvbiIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJmaWx0ZXIiLCJtc2ciLCJyZXNwb25zZVRleHQiLCJzaG93UGhhc2UxQ29udGludWUiLCJtIiwibmV3Qm90TWVzc2FnZSIsInR5cGUiLCJzaG93Q29udGludWUiLCJuZXh0X3BoYXNlIiwiZXJyb3IiLCJjb25zb2xlIiwiYWdlbnRQaGFzZSIsImlzQmFja2VuZEFsaXZlIiwiaGVhbHRoQ2hlY2tDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwiaGVhbHRoQ2hlY2tUaW1lb3V0IiwiYWJvcnQiLCJoZWFsdGhDaGVjayIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInNpZ25hbCIsImNsZWFyVGltZW91dCIsImxvZyIsIm9rIiwid2FybiIsInN0YXR1cyIsImhlYWx0aEVycm9yIiwiZmFsbGJhY2tNZXNzYWdlIiwiYXBpQ29udHJvbGxlciIsImFwaVRpbWVvdXRJZCIsInJlc3BvbnNlIiwicmV0cnlDb3VudCIsIm1heFJldHJpZXMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm1lc3NhZ2UiLCJFcnJvciIsIm5hbWUiLCJmYWxsYmFja1Jlc3BvbnNlIiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwic3Vic3RyaW5nIiwiYWdlbnRfdHlwZSIsInNjYWZmb2xkaW5nX2xldmVsIiwidG9JU09TdHJpbmciLCJjb252ZXJzYXRpb25faWQiLCJ1c2VyX2lkIiwidGV4dCIsInJlc3BvbnNlRGF0YSIsInBhcnNlRXJyb3IiLCJTdHJpbmciLCJnZXROZXh0UGhhc2VJblNlcXVlbmNlIiwibmV4dF9pbnRyb19zdGFnZSIsImVycm9yTWVzc2FnZSIsImNsZWFuTWVzc2FnZUNvbnRlbnQiLCJwYXR0ZXJucyIsImNsZWFuZWRDb250ZW50IiwiZm9yRWFjaCIsInBhdHRlcm4iLCJyZXBsYWNlIiwiaGFuZGxlS2V5RG93biIsImUiLCJrZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiYWRkQm90TWVzc2FnZSIsInNjYWZmb2xkT3B0aW9ucyIsIm5ld01lc3NhZ2UiLCJzdGVwIiwic2NhZmZvbGRUb3RhbFN0ZXBzIiwidG90YWxTdGVwcyIsInNjYWZmb2xkSGludCIsImhpbnQiLCJjaGFyYWN0ZXJMaW1pdCIsInNpbXVsYXRlQm90VHlwaW5nIiwiY2FsbGJhY2siLCJjb3VudCIsImJhc2VUaGlua2luZ1RleHRzIiwicGhhc2VUaGlua2luZ1RleHRzIiwiaW50cm8iLCJwaGFzZTIiLCJzdW1tYXJ5IiwicGhhc2VUZXh0cyIsInRoaW5raW5nVGV4dHMiLCJyZXNwb25zZUZyYWdtZW50cyIsInNldEludGVydmFsIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibWFwIiwidXBkYXRlVGhpbmtpbmdNZXNzYWdlIiwiY3VycmVudFBoYXNlIiwicGhhc2VTZXF1ZW5jZSIsImN1cnJlbnRJbmRleCIsImluZGV4T2YiLCJjbGFzc05hbWUiLCJkaXYiLCJhbmltYXRlIiwic2NhbGUiLCJvcGFjaXR5IiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwicmVwZWF0IiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJlYXNlIiwiZGVsYXkiLCJoMiIsInAiLCJzcGFuIiwic3R5bGUiLCJpbmRleCIsImFuaW1hdGlvbkR1cmF0aW9uIiwiYW5pbWF0aW9uRGVsYXkiLCJpbml0aWFsIiwid2lkdGgiLCJJbmZpbml0eSIsInJlcGVhdFR5cGUiLCJvbk9wdGlvblNlbGVjdCIsInNlbGVjdGVkIiwib25DbGljayIsIm5leHRTdGVwIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsIm9uS2V5RG93biIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/solbot-chat.tsx\n"));

/***/ })

});