"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/phase2/chat/page",{

/***/ "(app-pages-browser)/./components/solbot-chat.tsx":
/*!************************************!*\
  !*** ./components/solbot-chat.tsx ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SolBotChat)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Bot,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/bot.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Bot,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Bot,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowRight,Bot,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _components_ui_textarea__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/textarea */ \"(app-pages-browser)/./components/ui/textarea.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _components_markdown_renderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/markdown-renderer */ \"(app-pages-browser)/./components/markdown-renderer.tsx\");\n/* harmony import */ var _components_chat_message_parser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/chat-message-parser */ \"(app-pages-browser)/./components/chat-message-parser.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nfunction SolBotChat(param) {\n    let { initialMessages = [], onSendMessage, onContinue, onPhaseComplete, onStageChange, allowInput = true, showContinueButton = false, alwaysShowContinue = true, height = \"500px\", children, videoComponent, quizComponent, feedbackComponent, summaryComponent, useScaffolding = false, scaffoldingSteps = 1, maxMessageLength = 500, userId = \"\", phase = \"intro\", component = \"general\", useAgent = false } = param;\n    _s();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialMessages);\n    const [userInput, setUserInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentScaffoldStep, setCurrentScaffoldStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [charactersRemaining, setCharactersRemaining] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(maxMessageLength);\n    const [conversationId, setConversationId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])());\n    const [loadingText, setLoadingText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"SoLBot is thinking\");\n    const [thinkingIntervalId, setThinkingIntervalId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Predefined responses for phase1 (static content)\n    const predefinedResponses = {\n        phase1: {\n            welcome: \"Welcome to Phase 1! Here I'll guide you through the basics of Self-Regulated Learning. Let's start by understanding the key principles.\",\n            general: \"Self-Regulated Learning involves planning your learning, monitoring your progress, controlling your strategies, and reflecting on your outcomes. This cyclical process helps you become a more effective learner.\",\n            default: \"In Phase 1, we're focusing on building your understanding of the Self-Regulated Learning framework. This knowledge will form the foundation for the rest of our journey.\"\n        }\n    };\n    // Update characters remaining when user types\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SolBotChat.useEffect\": ()=>{\n            setCharactersRemaining(maxMessageLength - userInput.length);\n        }\n    }[\"SolBotChat.useEffect\"], [\n        userInput,\n        maxMessageLength\n    ]);\n    // Auto-scroll to bottom of chat\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SolBotChat.useEffect\": ()=>{\n            const chatContainer = document.getElementById(\"chat-container\");\n            if (chatContainer) {\n                chatContainer.scrollTop = chatContainer.scrollHeight;\n            }\n        }\n    }[\"SolBotChat.useEffect\"], [\n        messages\n    ]);\n    // Function to provide contextual responses based on phase and component\n    const getContextualResponse = (phase, component)=>{\n        var _responses_phase, _responses_phase1;\n        const responses = {\n            phase4: {\n                long_term_goals: \"For long-term goals, focus on aligning them with your broader career or educational aspirations. Make sure they're challenging yet achievable.\",\n                short_term_goals: \"Short-term SMART goals should be Specific, Measurable, Achievable, Relevant, and Time-bound. Break down larger goals into manageable chunks.\",\n                contingency_strategies: \"When creating contingency strategies, think about potential obstacles and how you might adapt your approach if things don't go as planned.\"\n            },\n            phase5: {\n                general: \"When monitoring your learning, regular check-ins and adjustments are key to staying on track.\"\n            }\n        };\n        // Return phase+component specific response, or phase general, or default\n        return ((_responses_phase = responses[phase]) === null || _responses_phase === void 0 ? void 0 : _responses_phase[component]) || ((_responses_phase1 = responses[phase]) === null || _responses_phase1 === void 0 ? void 0 : _responses_phase1[\"general\"]) || \"This stage involves thoughtful planning and reflection on your learning process.\";\n    };\n    const handleSendMessage = async ()=>{\n        if (!userInput.trim()) return;\n        if (userInput.length > maxMessageLength) return;\n        // Add user message\n        const newUserMessage = {\n            id: Date.now(),\n            sender: \"user\",\n            content: userInput,\n            timestamp: new Date(),\n            scaffoldStep: useScaffolding ? currentScaffoldStep : undefined\n        };\n        setMessages((prev)=>[\n                ...prev,\n                newUserMessage\n            ]);\n        const messageSent = userInput;\n        setUserInput(\"\");\n        // Update scaffold step if using scaffolding\n        if (useScaffolding && currentScaffoldStep < scaffoldingSteps) {\n            setCurrentScaffoldStep((prev)=>prev + 1);\n        }\n        // For phase1, use predefined responses instead of connecting to an agent\n        if (phase === 'phase1') {\n            try {\n                // Use the same thinking animation as the agent responses\n                const intervalId = startThinkingAnimation();\n                // Simulate a delay to make it feel more natural\n                await new Promise((resolve)=>setTimeout(resolve, 1500));\n                // Clear the thinking animation\n                clearInterval(intervalId);\n                setThinkingIntervalId(null);\n                // Remove typing indicator\n                setMessages((prev)=>prev.filter((msg)=>!msg.isTyping));\n                // Get predefined response based on component\n                const responseText = predefinedResponses.phase1[component] || predefinedResponses.phase1.default;\n                // Determine if this should show a continue button (after 3 interactions or by configuration)\n                const showPhase1Continue = messages.filter((m)=>m.sender === \"user\").length >= 3;\n                // Add bot response\n                const newBotMessage = {\n                    id: Date.now(),\n                    sender: \"bot\",\n                    content: responseText,\n                    timestamp: new Date(),\n                    type: \"text\",\n                    showContinue: showPhase1Continue,\n                    next_phase: showPhase1Continue ? \"phase2\" : undefined\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        newBotMessage\n                    ]);\n                setIsTyping(false);\n                // If using local handler, still call it\n                if (onSendMessage) {\n                    onSendMessage(messageSent);\n                }\n                return;\n            } catch (error) {\n                console.error('Error with predefined response:', error);\n            // Continue to fallback handling below\n            }\n        }\n        if (useAgent && userId && phase !== 'phase1') {\n            // Use backend agent integration\n            try {\n                // Start the thinking animation and get the interval ID\n                const intervalId = startThinkingAnimation();\n                // Map front-end page name to the correct agent phase if needed\n                let agentPhase = phase;\n                if (phase === 'intro') {\n                    agentPhase = 'intro' // Intro page uses intro agent\n                    ;\n                }\n                // Check if backend is online first\n                let isBackendAlive = false;\n                try {\n                    // Quick health check to see if backend is responding\n                    const healthCheckController = new AbortController();\n                    const healthCheckTimeout = setTimeout(()=>healthCheckController.abort(), 2000);\n                    const healthCheck = await fetch('/api/chat/health', {\n                        method: 'GET',\n                        headers: {\n                            'Content-Type': 'application/json'\n                        },\n                        signal: healthCheckController.signal\n                    });\n                    clearTimeout(healthCheckTimeout);\n                    // If we get any response from our frontend API, that's good enough\n                    // Even if it returns a 503 error, it means our NextJS server is working\n                    isBackendAlive = true;\n                    console.log('Frontend API health check successful');\n                    // Only log a warning if response was not OK\n                    if (!healthCheck.ok) {\n                        console.warn(\"Backend health check returned status: \".concat(healthCheck.status, \". Will proceed anyway.\"));\n                    }\n                } catch (healthError) {\n                    console.error('Backend health check failed:', healthError);\n                    isBackendAlive = false;\n                }\n                // Check if backend server is running\n                if (!isBackendAlive) {\n                    // Clear the thinking animation interval\n                    clearInterval(intervalId);\n                    setThinkingIntervalId(null);\n                    // Remove typing indicator\n                    setMessages((prev)=>prev.filter((msg)=>!msg.isTyping));\n                    // Add fallback message\n                    const fallbackMessage = {\n                        id: Date.now(),\n                        sender: \"bot\",\n                        content: \"\\nI encountered some network issues while trying to access my knowledge base. Let me provide some general guidance based on what I already know:\\n\\nFor \".concat(phase === \"phase4\" ? \"long-term goals\" : phase, \", focus on:\\n\\n- Making your goals specific and measurable\\n- Connecting them to your personal values and aspirations\\n- Setting realistic timelines that challenge you appropriately\\n\\nWould you like to continue with the conversation? I'll try my best to assist even with limited connectivity.\\n            \"),\n                        timestamp: new Date(),\n                        type: \"text\"\n                    };\n                    setMessages((prev)=>[\n                            ...prev,\n                            fallbackMessage\n                        ]);\n                    // Continue with user interaction despite backend issues\n                    return;\n                }\n                // Make API call to agent with retry logic\n                console.log(\"Sending message to agent: phase=\".concat(agentPhase, \", component=\").concat(component));\n                // Setup timeout for main API call\n                const apiController = new AbortController();\n                // Create a more resilient timeout that doesn't abort prematurely\n                let apiTimeoutId;\n                try {\n                    // Set a reasonable timeout but don't explicitly abort\n                    // This prevents AbortError: signal is aborted without reason\n                    apiTimeoutId = setTimeout(()=>{\n                        console.log(\"API request is taking a long time, but continuing to wait...\");\n                    }, 20000); // 20 second timeout for warning only\n                    let response;\n                    let retryCount = 0;\n                    const maxRetries = 2;\n                    while(retryCount <= maxRetries){\n                        try {\n                            response = await fetch('/api/chat', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    userId: userId,\n                                    phase: agentPhase,\n                                    component: component,\n                                    message: messageSent,\n                                    conversationId: conversationId\n                                }),\n                                signal: apiController.signal\n                            });\n                            if (response.ok) {\n                                break; // Success, exit retry loop\n                            } else {\n                                // If response is not OK, increment retry count\n                                retryCount++;\n                                if (retryCount <= maxRetries) {\n                                    console.log(\"Retrying request (\".concat(retryCount, \"/\").concat(maxRetries, \")...\"));\n                                    // Wait a bit before retrying (exponential backoff)\n                                    await new Promise((resolve)=>setTimeout(resolve, 1000 * retryCount));\n                                } else {\n                                    throw new Error(\"Failed after \".concat(maxRetries, \" retries\"));\n                                }\n                            }\n                        } catch (error) {\n                            // Only retry on network errors, not on aborts or other errors\n                            if (error instanceof Error && error.name !== 'AbortError') {\n                                retryCount++;\n                                if (retryCount <= maxRetries) {\n                                    console.log(\"Network error, retrying (\".concat(retryCount, \"/\").concat(maxRetries, \")...\"));\n                                    await new Promise((resolve)=>setTimeout(resolve, 1000 * retryCount));\n                                } else {\n                                    throw error; // Re-throw if max retries reached\n                                }\n                            } else if (error instanceof Error && error.name === 'AbortError') {\n                                console.warn('Request aborted due to timeout or user action');\n                                // Handle abort errors gracefully - provide partial response instead of failing\n                                const fallbackResponse = {\n                                    ok: true,\n                                    status: 200,\n                                    json: async ()=>({\n                                            success: true,\n                                            data: {\n                                                message: \"I'm still working on a comprehensive response to your question about \".concat(messageSent.substring(0, 30), \"...\\n\\nLet me give you some initial thoughts while I continue processing:\\n\\n\").concat(getContextualResponse(phase, component), \"\\n\\nLet me know if you have any specific questions about this topic!\"),\n                                                phase: phase,\n                                                component: component,\n                                                agent_type: phase,\n                                                scaffolding_level: 2,\n                                                timestamp: new Date().toISOString(),\n                                                conversation_id: conversationId,\n                                                user_id: userId\n                                            }\n                                        })\n                                };\n                                // Use our fallback response instead of failing\n                                response = fallbackResponse;\n                                break; // Exit retry loop with fallback response\n                            } else {\n                                throw error; // Re-throw immediately for other errors\n                            }\n                        }\n                    }\n                    // Clear any timeout\n                    clearTimeout(apiTimeoutId);\n                    // Clear the thinking animation interval\n                    clearInterval(intervalId);\n                    setThinkingIntervalId(null);\n                    // Remove typing indicator\n                    setMessages((prev)=>prev.filter((msg)=>!msg.isTyping));\n                    // Check if response is undefined after all retries\n                    if (!response) {\n                        throw new Error(\"Failed to get a response from the server after retries\");\n                    }\n                    if (!response.ok) {\n                        let errorText = \"\";\n                        // Handle different response types (our fallback response vs. actual fetch Response)\n                        if ('text' in response) {\n                            try {\n                                errorText = await response.text();\n                            } catch (textError) {\n                                errorText = \"Could not read error details\";\n                            }\n                        }\n                        throw new Error(\"Failed to get response from agent (HTTP \".concat(response.status, \"): \").concat(errorText));\n                    }\n                    let responseData;\n                    try {\n                        // Safely parse JSON response\n                        const data = await response.json();\n                        // Normalize the response format to handle both wrapped and unwrapped responses\n                        console.log('Raw API response:', data);\n                        // Handle successful responses with data wrapper\n                        if (data.success === true && data.data) {\n                            responseData = data.data;\n                        } else {\n                            // Fallback to the response as is\n                            responseData = data;\n                        }\n                        console.log('Normalized agent response:', responseData);\n                        if (!responseData || typeof responseData !== 'object') {\n                            console.error('Invalid response format:', responseData);\n                            throw new Error(\"Invalid response format: \".concat(JSON.stringify(responseData)));\n                        }\n                        if (!responseData.message && responseData.error) {\n                            throw new Error(responseData.error);\n                        }\n                    } catch (parseError) {\n                        console.error('JSON parsing error:', parseError);\n                        throw new Error(\"Error parsing agent response: \".concat(parseError instanceof Error ? parseError.message : String(parseError)));\n                    }\n                    // Add bot response\n                    const newBotMessage = {\n                        id: Date.now(),\n                        sender: \"bot\",\n                        content: responseData.message || \"I'm sorry, I'm having trouble generating a response.\",\n                        timestamp: new Date(),\n                        type: \"text\",\n                        showContinue: alwaysShowContinue || responseData.next_phase && responseData.next_phase !== phase,\n                        next_phase: responseData.next_phase || getNextPhaseInSequence(phase)\n                    };\n                    setMessages((prev)=>[\n                            ...prev,\n                            newBotMessage\n                        ]);\n                    // Add handling for intro stage transitions\n                    if (phase === 'intro' && responseData.next_intro_stage && onStageChange) {\n                        onStageChange(responseData.next_intro_stage);\n                    }\n                    setIsTyping(false);\n                } catch (error) {\n                    console.error('Error communicating with agent:', error);\n                    // Clear any ongoing animation interval\n                    if (thinkingIntervalId) {\n                        clearInterval(thinkingIntervalId);\n                        setThinkingIntervalId(null);\n                    }\n                    // Remove typing indicator\n                    setMessages((prev)=>prev.filter((msg)=>!msg.isTyping));\n                    // Add a friendly error message with visual styling\n                    const errorMessage = {\n                        id: Date.now(),\n                        sender: \"bot\",\n                        content: \"\\n## Connection Issue \\uD83D\\uDD0C\\n\\nI'm currently having trouble connecting to my knowledge base. \\n\\n### What you can do:\\n- Make sure the backend service is running\\n- Try refreshing the page\\n- Check your internet connection\\n\\nFor assistance, you can:\\n1. Run the backend service if it's not already running\\n2. Contact technical support if the issue persists\\n\\n*Your patience is appreciated while I reconnect.*\\n            \",\n                        timestamp: new Date(),\n                        type: \"text\"\n                    };\n                    setMessages((prev)=>[\n                            ...prev,\n                            errorMessage\n                        ]);\n                    setIsTyping(false);\n                    // Fallback to local handler if available\n                    if (onSendMessage) {\n                        onSendMessage(messageSent);\n                    }\n                }\n            } catch (error) {\n                console.error('Error communicating with agent:', error);\n                // Clear any ongoing animation interval\n                if (thinkingIntervalId) {\n                    clearInterval(thinkingIntervalId);\n                    setThinkingIntervalId(null);\n                }\n                // Remove typing indicator\n                setMessages((prev)=>prev.filter((msg)=>!msg.isTyping));\n                // Add a friendly error message with visual styling\n                const errorMessage = {\n                    id: Date.now(),\n                    sender: \"bot\",\n                    content: \"\\n## Connection Issue \\uD83D\\uDD0C\\n\\nI'm currently having trouble connecting to my knowledge base. \\n\\n### What you can do:\\n- Make sure the backend service is running\\n- Try refreshing the page\\n- Check your internet connection\\n\\nFor assistance, you can:\\n1. Run the backend service if it's not already running\\n2. Contact technical support if the issue persists\\n\\n*Your patience is appreciated while I reconnect.*\\n          \",\n                    timestamp: new Date(),\n                    type: \"text\"\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        errorMessage\n                    ]);\n                setIsTyping(false);\n                // Fallback to local handler if available\n                if (onSendMessage) {\n                    onSendMessage(messageSent);\n                }\n            }\n        } else if (onSendMessage) {\n            // Use local handler if not using agent integration\n            onSendMessage(messageSent);\n        }\n    };\n    // Function to clean message content - strip evaluation scores and support levels\n    const cleanMessageContent = (content)=>{\n        if (!content || typeof content !== 'string') return content;\n        // Check if we need to enhance evaluation section\n        if (content.includes(\"Specificity:\") || content.includes(\"Knowledge Alignment:\") || content.includes(\"Resource Planning:\")) {\n            // Find evaluation section and replace with enhanced version\n            const sections = content.split(/\\n\\n|##/);\n            for(let i = 0; i < sections.length; i++){\n                const section = sections[i];\n                // If this is the evaluation section with scores\n                if ((section.includes(\"Specificity:\") || section.includes(\"specificity:\")) && (section.includes(\"Knowledge Alignment:\") || section.includes(\"knowledge alignment:\") || section.includes(\"Resource Planning:\"))) {\n                    // Extract scores (assuming they're in the format \"Score: X\" or \"Score: X (comment)\")\n                    const specificityMatch = section.match(/Specificity:\\s*(\\d+)/i);\n                    const knowledgeMatch = section.match(/Knowledge\\s+Alignment:\\s*(\\d+)/i);\n                    const resourceMatch = section.match(/Resource\\s+Planning:\\s*(\\d+)/i);\n                    const specificityScore = specificityMatch ? parseInt(specificityMatch[1]) : 0;\n                    const knowledgeScore = knowledgeMatch ? parseInt(knowledgeMatch[1]) : 0;\n                    const resourceScore = resourceMatch ? parseInt(resourceMatch[1]) : 0;\n                    const avgScore = ((specificityScore + knowledgeScore + resourceScore) / 3).toFixed(1);\n                    const avgScoreNum = parseFloat(avgScore);\n                    const supportLevel = avgScoreNum < 1.5 ? \"HIGH\" : avgScoreNum < 2.5 ? \"MEDIUM\" : \"LOW\";\n                    // Create enhanced evaluation HTML with color coding and progress bars\n                    const enhancedEvaluation = \"\\n## \\uD83D\\uDCCA Learning Progress Evaluation\\n\\n| Criteria | Score | Feedback | How to Improve |\\n|----------|-------|----------|---------------|\\n| **Specificity** | `\".concat(specificityScore, \"/3` | \").concat(getProgressBar(specificityScore), \" | \").concat(getImprovementTip(\"Specificity\", specificityScore), \" |\\n| **Knowledge Alignment** | `\").concat(knowledgeScore, \"/3` | \").concat(getProgressBar(knowledgeScore), \" | \").concat(getImprovementTip(\"Knowledge Alignment\", knowledgeScore), \" |\\n| **Resource Planning** | `\").concat(resourceScore, \"/3` | \").concat(getProgressBar(resourceScore), \" | \").concat(getImprovementTip(\"Resource Planning\", resourceScore), \" |\\n\\n**Overall Progress:** \").concat(getProgressBar(parseFloat(avgScore)), \" `\").concat(avgScore, \"/3`\\n\\n\").concat(getSupportMessage(supportLevel, parseFloat(avgScore)), \"\\n\");\n                    sections[i] = enhancedEvaluation;\n                    break;\n                }\n            }\n            // Reconstruct the content with enhanced evaluation\n            return sections.join(\"\\n\\n\");\n        }\n        // If no evaluation section found, just clean as before\n        // Remove anything in square brackets that contains evaluation information\n        const patterns = [\n            /\\[(?:Note|Evaluation):[^\\]]+\\]/g,\n            /\\[.*?(?:score|Score|evaluation|Evaluation|support level|SUPPORT).*?\\]/g,\n            /\\[\\s*(?:Alignment|Timeframe|Measurability|Overall Score|Average Score).*?\\]/g,\n            /\\[.*?(?:HIGH|MEDIUM|LOW)\\s+support.*?\\]/gi\n        ];\n        let cleanedContent = content;\n        patterns.forEach((pattern)=>{\n            cleanedContent = cleanedContent.replace(pattern, '');\n        });\n        return cleanedContent.trim();\n    };\n    // Helper function to generate progress bars for scores\n    const getProgressBar = (score)=>{\n        // Create a visual progress bar\n        let bar = \"\";\n        const fullColor = score < 1.2 ? \"🔴\" : score < 2.2 ? \"🟠\" : \"🟢\";\n        const emptyColor = \"⚪\";\n        // Convert score to filled circles (max 3)\n        const filled = Math.round(score);\n        const empty = 3 - filled;\n        bar = fullColor.repeat(filled) + emptyColor.repeat(empty);\n        return bar;\n    };\n    // Helper function to get improvement tips for each criterion\n    const getImprovementTip = (criterion, score)=>{\n        // Phase-specific improvement tips\n        const phaseSpecificTips = {\n            phase1: {\n                general: {\n                    Specificity: {\n                        1: \"Define what specific aspects of SRL you want to understand\",\n                        2: \"Set clear goals for how SRL will benefit your learning\",\n                        3: \"Your SRL learning goals are well-defined\"\n                    },\n                    \"Knowledge Alignment\": {\n                        1: \"Connect SRL concepts to your current learning experiences\",\n                        2: \"Identify which SRL strategies match your learning style\",\n                        3: \"Your SRL goals align well with your background\"\n                    },\n                    \"Resource Planning\": {\n                        1: \"Find specific SRL resources relevant to your field\",\n                        2: \"Create a plan to implement SRL in your daily studying\",\n                        3: \"Your SRL resource planning is comprehensive\"\n                    }\n                }\n            },\n            phase2: {\n                general: {\n                    Specificity: {\n                        1: \"Define concrete learning objectives for your psychology studies\",\n                        2: \"Add specific psychology sub-fields and theories to focus on\",\n                        3: \"Your psychology learning goals are well-defined\"\n                    },\n                    \"Knowledge Alignment\": {\n                        1: \"Connect psychology goals to your current knowledge level\",\n                        2: \"Identify which psychology concepts you need to review first\",\n                        3: \"Your psychology goals align well with your background\"\n                    },\n                    \"Resource Planning\": {\n                        1: \"Identify specific psychology textbooks, courses or resources\",\n                        2: \"Structure psychology resources by topic importance\",\n                        3: \"Your psychology resource planning is comprehensive\"\n                    }\n                }\n            },\n            phase3: {\n                general: {\n                    Specificity: {\n                        1: \"Break your complex learning goal into smaller objectives\",\n                        2: \"Define specific milestones for your learning journey\",\n                        3: \"Your learning breakdown is clear and actionable\"\n                    },\n                    \"Knowledge Alignment\": {\n                        1: \"Identify prerequisite knowledge needed for each sub-goal\",\n                        2: \"Map dependencies between different learning components\",\n                        3: \"Your learning components are well-aligned with your knowledge\"\n                    },\n                    \"Resource Planning\": {\n                        1: \"Assign specific resources to each learning component\",\n                        2: \"Create a roadmap showing when to use each resource\",\n                        3: \"Your resource allocation is comprehensive and efficient\"\n                    }\n                }\n            },\n            phase4: {\n                long_term_goals: {\n                    Specificity: {\n                        1: \"Define your long-term learning goals with clear outcomes\",\n                        2: \"Add specific timeframes and success criteria to your goals\",\n                        3: \"Your long-term goals are comprehensive and specific\"\n                    },\n                    \"Knowledge Alignment\": {\n                        1: \"Connect long-term goals to your career or personal aspirations\",\n                        2: \"Map how these goals build on your existing knowledge\",\n                        3: \"Your long-term goals align perfectly with your trajectory\"\n                    },\n                    \"Resource Planning\": {\n                        1: \"Identify long-term resources and tools you'll need\",\n                        2: \"Create a sustainable resource acquisition timeline\",\n                        3: \"Your long-term resource planning is robust and complete\"\n                    }\n                },\n                short_term_goals: {\n                    Specificity: {\n                        1: \"Create SMART goals with measurable outcomes\",\n                        2: \"Define weekly or monthly learning objectives\",\n                        3: \"Your short-term goals are clear and actionable\"\n                    },\n                    \"Knowledge Alignment\": {\n                        1: \"Link short-term goals to build toward your long-term vision\",\n                        2: \"Identify quick wins based on your current knowledge\",\n                        3: \"Your short-term goals effectively leverage your background\"\n                    },\n                    \"Resource Planning\": {\n                        1: \"List specific resources needed for immediate learning\",\n                        2: \"Schedule specific times to use each resource\",\n                        3: \"Your short-term resource planning is detailed and practical\"\n                    }\n                },\n                contingency_strategies: {\n                    Specificity: {\n                        1: \"Identify specific obstacles that might occur\",\n                        2: \"Create detailed if-then contingency plans\",\n                        3: \"Your contingency planning is thorough and specific\"\n                    },\n                    \"Knowledge Alignment\": {\n                        1: \"Analyze past learning challenges to prepare better\",\n                        2: \"Adapt strategies based on your learning strengths/weaknesses\",\n                        3: \"Your contingency plans are perfectly aligned with your needs\"\n                    },\n                    \"Resource Planning\": {\n                        1: \"Identify backup resources for each major learning goal\",\n                        2: \"Create a flexible schedule that accommodates setbacks\",\n                        3: \"Your backup resource planning is comprehensive\"\n                    }\n                }\n            },\n            phase5: {\n                general: {\n                    Specificity: {\n                        1: \"Define specific monitoring intervals and review points\",\n                        2: \"Create measurable progress indicators for each goal\",\n                        3: \"Your monitoring approach is detailed and systematic\"\n                    },\n                    \"Knowledge Alignment\": {\n                        1: \"Connect monitoring strategies to your learning style\",\n                        2: \"Design self-assessments that target your weak areas\",\n                        3: \"Your monitoring approach aligns perfectly with your needs\"\n                    },\n                    \"Resource Planning\": {\n                        1: \"Identify tools to track progress (journals, apps, etc.)\",\n                        2: \"Schedule regular reflection and adjustment times\",\n                        3: \"Your monitoring resource planning is comprehensive\"\n                    }\n                }\n            }\n        };\n        // Get phase-specific tip if available\n        if (phase && component && phaseSpecificTips[phase] && phaseSpecificTips[phase][component] && phaseSpecificTips[phase][component][criterion] && phaseSpecificTips[phase][component][criterion][score]) {\n            return phaseSpecificTips[phase][component][criterion][score];\n        }\n        // Fall back to general tips if phase-specific ones aren't available\n        if (criterion === \"Specificity\") {\n            if (score <= 1) return \"Define concrete learning objectives with measurable outcomes\";\n            if (score <= 2) return \"Add timeframes and specific topics to your goals\";\n            return \"Your goals are well-defined and specific\";\n        }\n        if (criterion === \"Knowledge Alignment\") {\n            if (score <= 1) return \"Connect goals to your current knowledge level and background\";\n            if (score <= 2) return \"Identify knowledge gaps and prerequisites more clearly\";\n            return \"Your goals align well with your knowledge background\";\n        }\n        if (criterion === \"Resource Planning\") {\n            if (score <= 1) return \"Identify specific materials, tools and mentors you'll need\";\n            if (score <= 2) return \"Create a structured resource roadmap with alternatives\";\n            return \"Your resource planning is comprehensive\";\n        }\n        return \"\";\n    };\n    // Helper function to generate motivational messages based on support level\n    const getSupportMessage = (supportLevel, score)=>{\n        if (supportLevel === \"HIGH\") {\n            return \"> \\uD83D\\uDCAA **Opportunity for Growth**: You're at the beginning of your learning journey! With more specific goals and resource planning, you'll see rapid improvement. What specific aspect would you like to clarify first?\";\n        } else if (supportLevel === \"MEDIUM\") {\n            return \"> \\uD83C\\uDF31 **Building Momentum**: You're making good progress! With some refinement of your learning objectives and resources, you'll be well on your way to mastery. What specific element would you like to strengthen next?\";\n        } else {\n            return \"> \\uD83C\\uDF1F **Strong Foundation**: Excellent work structuring your learning approach! You have well-defined objectives and resources. Let's focus on optimizing your learning strategy for even better results!\";\n        }\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSendMessage();\n        }\n    };\n    const addBotMessage = function(content) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"text\", showContinue = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false, scaffoldOptions = arguments.length > 3 ? arguments[3] : void 0;\n        const newMessage = {\n            id: Date.now(),\n            sender: \"bot\",\n            content,\n            timestamp: new Date(),\n            type,\n            showContinue: alwaysShowContinue || showContinue,\n            scaffoldStep: scaffoldOptions === null || scaffoldOptions === void 0 ? void 0 : scaffoldOptions.step,\n            scaffoldTotalSteps: scaffoldOptions === null || scaffoldOptions === void 0 ? void 0 : scaffoldOptions.totalSteps,\n            scaffoldHint: scaffoldOptions === null || scaffoldOptions === void 0 ? void 0 : scaffoldOptions.hint,\n            characterLimit: scaffoldOptions === null || scaffoldOptions === void 0 ? void 0 : scaffoldOptions.characterLimit,\n            next_phase: getNextPhaseInSequence(phase)\n        };\n        setMessages((prev)=>[\n                ...prev,\n                newMessage\n            ]);\n    };\n    const simulateBotTyping = (callback)=>{\n        setIsTyping(true);\n        // Add typing indicator\n        setMessages((prev)=>[\n                ...prev,\n                {\n                    id: Date.now(),\n                    sender: \"bot\",\n                    content: \"typing...\",\n                    isTyping: true,\n                    timestamp: new Date()\n                }\n            ]);\n        // Simulate typing delay\n        setTimeout(()=>{\n            // Remove typing indicator\n            setMessages((prev)=>prev.filter((msg)=>!msg.isTyping));\n            // Execute callback\n            callback();\n            setIsTyping(false);\n        }, 1500);\n    };\n    const startThinkingAnimation = ()=>{\n        setIsTyping(true);\n        let count = 0;\n        // Base thinking texts that apply to all phases\n        const baseThinkingTexts = [\n            \"SoLBot is thinking\"\n        ];\n        // Phase-specific thinking texts\n        const phaseThinkingTexts = {\n            intro: [\n                \"Getting to know you better\",\n                \"Preparing your learning journey\",\n                \"Customizing my approach for you\"\n            ],\n            phase1: [\n                \"Reviewing motivation factors\",\n                \"Considering your learning goals\",\n                \"Preparing goal alignment response\"\n            ],\n            phase2: [\n                \"Analyzing learning objectives\",\n                \"Evaluating resource selection\",\n                \"Applying appropriate scaffolding\"\n            ],\n            phase4: [\n                \"Assessing goal-setting strategy\",\n                \"Considering time management approach\",\n                \"Evaluating planning effectiveness\"\n            ],\n            phase5: [\n                \"Analyzing reflection depth\",\n                \"Considering improvement strategies\",\n                \"Evaluating learning transfer\"\n            ],\n            summary: [\n                \"Synthesizing learning journey\",\n                \"Preparing comprehensive summary\",\n                \"Connecting learning milestones\"\n            ]\n        };\n        // Combine base texts with phase-specific texts\n        const phaseTexts = phaseThinkingTexts[phase] || phaseThinkingTexts.intro;\n        const thinkingTexts = [\n            ...baseThinkingTexts,\n            ...phaseTexts,\n            \"Almost ready\"\n        ];\n        // Response fragments to simulate streaming (show partial responses while waiting)\n        const responseFragments = {\n            phase1: [\n                \"Analyzing your learning interests...\",\n                \"Identifying initial learning patterns...\",\n                \"Preparing personalized guidance for your journey...\",\n                \"Evaluating potential learning paths for you...\",\n                \"Structuring initial recommendations based on your input...\"\n            ],\n            phase2: [\n                \"Analyzing your learning objectives in detail...\",\n                \"Evaluating resource requirements for your goals...\",\n                \"Assessing knowledge gaps and prerequisites...\",\n                \"Preparing a structured learning plan outline...\",\n                \"Identifying key milestones for your learning journey...\"\n            ],\n            phase3: [\n                \"Analyzing how to break down your complex goal...\",\n                \"Structuring intermediate objectives for you...\",\n                \"Mapping dependencies between learning components...\",\n                \"Evaluating optimal sequencing for your learning path...\",\n                \"Preparing adaptive scaffolding based on your needs...\"\n            ],\n            phase4: [\n                \"Formulating specific, measurable learning objectives...\",\n                \"Creating SMART goal structures for your learning...\",\n                \"Designing actionable next steps for immediate progress...\",\n                \"Establishing clear metrics to track your advancement...\",\n                \"Preparing a time-bound learning framework for you...\"\n            ],\n            default: [\n                \"Processing your request with care...\",\n                \"Analyzing the best approach to help you...\",\n                \"Preparing a thoughtful, personalized response...\",\n                \"Structuring guidance tailored to your needs...\",\n                \"Almost ready with your customized feedback...\"\n            ]\n        };\n        // Get appropriate fragments based on current phase\n        const getPhaseFragments = ()=>{\n            return responseFragments[phase] || responseFragments.default;\n        };\n        // Add typing indicator with initial message\n        setMessages((prev)=>[\n                ...prev,\n                {\n                    id: Date.now(),\n                    sender: \"bot\",\n                    content: thinkingTexts[0],\n                    isTyping: true,\n                    timestamp: new Date()\n                }\n            ]);\n        // Update the message every 2 seconds with a new thinking text\n        // or a partial response fragment after a few cycles\n        const intervalId = setInterval(()=>{\n            count = (count + 1) % thinkingTexts.length;\n            // After a few cycles, start showing response fragments to simulate streaming\n            const content = count > 2 && count % 2 === 0 ? getPhaseFragments()[Math.floor(Math.random() * getPhaseFragments().length)] : thinkingTexts[count];\n            setLoadingText(content);\n            // Update the typing indicator message\n            setMessages((prev)=>prev.map((msg)=>msg.isTyping ? {\n                        ...msg,\n                        content: content\n                    } : msg));\n        }, 2000);\n        // Store interval ID for later cleanup\n        setThinkingIntervalId(intervalId);\n        return intervalId;\n    };\n    // Add this helper function to aid with streaming simulation\n    const updateThinkingMessage = (content)=>{\n        if (!isTyping) return;\n        setMessages((prev)=>prev.map((msg)=>msg.isTyping ? {\n                    ...msg,\n                    content\n                } : msg));\n    };\n    // Helper function to determine the next phase in the sequence\n    // Phase sequence: intro -> phase1 -> phase2 -> phase3 -> phase4 -> phase5 -> phase6 -> summary\n    const getNextPhaseInSequence = (currentPhase)=>{\n        // For Phase 4, handle task navigation within the phase\n        if (currentPhase === \"phase4\") {\n            if (component === \"long_term_goals\") {\n                return \"short_term_goals\"; // Navigate to short term goals task\n            } else if (component === \"short_term_goals\") {\n                return \"contingency_strategies\"; // Navigate to contingency strategies task\n            } else if (component === \"contingency_strategies\") {\n                return \"phase5\"; // Navigate to next phase after completing all tasks\n            }\n        }\n        // Default phase sequence logic\n        const phaseSequence = [\n            \"intro\",\n            \"phase1\",\n            \"phase2\",\n            \"phase3\",\n            \"phase4\",\n            \"phase5\",\n            \"phase6\",\n            \"summary\"\n        ];\n        const currentIndex = phaseSequence.indexOf(currentPhase);\n        if (currentIndex === -1 || currentIndex === phaseSequence.length - 1) {\n            return \"summary\"; // Default to summary if not found or if it's the last phase\n        }\n        return phaseSequence[currentIndex + 1];\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_4__.Card, {\n        className: \"bg-slate-900/60 backdrop-blur-md border border-white/10 shadow-xl mb-6 max-w-full\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_4__.CardContent, {\n            className: \"p-0 max-w-full\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gradient-to-r from-indigo-900/50 to-purple-900/50 p-4 rounded-t-lg border-b border-indigo-500/30 flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative w-12 h-12\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-12 h-12 rounded-full bg-gradient-to-br from-purple-600/80 to-blue-500/50 shadow-[0_0_15px_rgba(122,86,220,0.5)] flex items-center justify-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                className: \"h-6 w-6 text-white\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                lineNumber: 1046,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 1045,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {\n                                            animate: {\n                                                scale: [\n                                                    1,\n                                                    1.2,\n                                                    1\n                                                ],\n                                                opacity: [\n                                                    0.7,\n                                                    1,\n                                                    0.7\n                                                ]\n                                            },\n                                            transition: {\n                                                duration: 2,\n                                                repeat: Number.POSITIVE_INFINITY,\n                                                ease: \"easeInOut\"\n                                            },\n                                            className: \"absolute inset-0 w-12 h-12 rounded-full bg-purple-500/30 -z-10\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 1048,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {\n                                            animate: {\n                                                scale: [\n                                                    1,\n                                                    1.4,\n                                                    1\n                                                ],\n                                                opacity: [\n                                                    0.5,\n                                                    0.8,\n                                                    0.5\n                                                ]\n                                            },\n                                            transition: {\n                                                duration: 3,\n                                                repeat: Number.POSITIVE_INFINITY,\n                                                ease: \"easeInOut\",\n                                                delay: 0.5\n                                            },\n                                            className: \"absolute inset-0 w-12 h-12 rounded-full bg-blue-500/20 -z-20\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 1060,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                    lineNumber: 1044,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-xl font-bold text-white\",\n                                            children: \"SoLBot\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 1075,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-indigo-300 text-sm\",\n                                            children: \"Your AI Learning Coach\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 1076,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                    lineNumber: 1074,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                            lineNumber: 1043,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-indigo-500/20 px-3 py-1 rounded-full border border-indigo-500/30\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                        lineNumber: 1081,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs font-medium text-indigo-300\",\n                                        children: \"Online\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                        lineNumber: 1082,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                lineNumber: 1080,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                            lineNumber: 1079,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                    lineNumber: 1042,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    id: \"chat-container\",\n                    style: {\n                        height\n                    },\n                    className: \"overflow-y-auto p-4 space-y-4\",\n                    children: messages.map((message, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex \".concat(message.sender === \"bot\" ? \"\" : \"justify-end\"),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex \".concat(message.sender === \"bot\" ? \"\" : \"flex-row-reverse\", \" max-w-[80%]\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-shrink-0 mr-3\",\n                                        children: message.sender === \"bot\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative h-10 w-10\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"h-10 w-10 rounded-full bg-gradient-to-br from-purple-600/80 to-blue-500/50 flex items-center justify-center\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"h-5 w-5 text-white\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                        lineNumber: 1096,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1095,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {\n                                                    animate: {\n                                                        scale: [\n                                                            1,\n                                                            1.2,\n                                                            1\n                                                        ],\n                                                        opacity: [\n                                                            0.7,\n                                                            1,\n                                                            0.7\n                                                        ]\n                                                    },\n                                                    transition: {\n                                                        duration: 2,\n                                                        repeat: Number.POSITIVE_INFINITY,\n                                                        ease: \"easeInOut\"\n                                                    },\n                                                    className: \"absolute inset-0 w-10 h-10 rounded-full bg-purple-500/30 -z-10\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1098,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 1094,\n                                            columnNumber: 21\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"h-10 w-10 rounded-full bg-indigo-600/30 border border-indigo-500/30 flex items-center justify-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                className: \"h-5 w-5 text-indigo-300\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                lineNumber: 1113,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 1112,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                        lineNumber: 1092,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"\".concat(message.sender === \"bot\" ? \"bg-slate-800/50 border border-indigo-500/30 text-white/90\" : \"bg-indigo-600/30 border border-indigo-500/30 text-white/90\", \" rounded-lg p-4 break-words overflow-hidden\"),\n                                        children: message.isTyping ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-col space-y-3 p-1 w-full min-w-[180px]\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm text-indigo-300 font-medium ml-1\",\n                                                    children: message.content\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1127,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex space-x-2 items-center\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-2 h-2 rounded-full bg-purple-500 animate-pulse\",\n                                                            style: {\n                                                                animationDuration: \"0.8s\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                            lineNumber: 1131,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-2 h-2 rounded-full bg-indigo-500 animate-pulse\",\n                                                            style: {\n                                                                animationDuration: \"0.8s\",\n                                                                animationDelay: \"0.2s\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                            lineNumber: 1132,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-2 h-2 rounded-full bg-blue-500 animate-pulse\",\n                                                            style: {\n                                                                animationDuration: \"0.8s\",\n                                                                animationDelay: \"0.4s\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                            lineNumber: 1133,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-2 h-2 rounded-full bg-cyan-500 animate-pulse\",\n                                                            style: {\n                                                                animationDuration: \"0.8s\",\n                                                                animationDelay: \"0.6s\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                            lineNumber: 1134,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1130,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full bg-slate-700/50 rounded-full h-1.5 mt-1 overflow-hidden\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {\n                                                        className: \"h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500\",\n                                                        initial: {\n                                                            width: \"10%\"\n                                                        },\n                                                        animate: {\n                                                            width: [\n                                                                \"10%\",\n                                                                \"30%\",\n                                                                \"60%\",\n                                                                \"90%\",\n                                                                \"95%\"\n                                                            ],\n                                                            transition: {\n                                                                duration: 10,\n                                                                ease: \"easeInOut\",\n                                                                repeat: Infinity,\n                                                                repeatType: \"reverse\"\n                                                            }\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                        lineNumber: 1139,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1138,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-indigo-300/70 italic mt-1\",\n                                                    children: \"This might take a moment for complex responses...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1154,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                            lineNumber: 1126,\n                                            columnNumber: 21\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm\",\n                                                    children: typeof message.content === 'string' ? // Only use ChatMessageParser for phases where clickable components are desired\n                                                    // Disable for phases 2, 4, and 5 as requested\n                                                    phase === \"phase2\" || phase === \"phase4\" || phase === \"phase5\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_markdown_renderer__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                        content: cleanMessageContent(message.content)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                        lineNumber: 1166,\n                                                        columnNumber: 31\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_message_parser__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                        content: cleanMessageContent(message.content),\n                                                        onOptionSelect: (selected)=>{\n                                                            // Create a temporary state for the input to pass to handleSendMessage\n                                                            setUserInput(selected);\n                                                            // Add the user message to the chat\n                                                            const newUserMessage = {\n                                                                id: Date.now(),\n                                                                sender: \"user\",\n                                                                content: selected,\n                                                                timestamp: new Date()\n                                                            };\n                                                            setMessages((prev)=>[\n                                                                    ...prev,\n                                                                    newUserMessage\n                                                                ]);\n                                                            // Process the selected option as a message\n                                                            setTimeout(()=>{\n                                                                // Call the onSendMessage callback if provided\n                                                                if (onSendMessage) {\n                                                                    onSendMessage(selected);\n                                                                }\n                                                                // Send the message to the agent\n                                                                handleSendMessage();\n                                                                // Clear the input\n                                                                setUserInput(\"\");\n                                                            }, 0);\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                        lineNumber: 1167,\n                                                        columnNumber: 31\n                                                    }, this) : message.content\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1160,\n                                                    columnNumber: 23\n                                                }, this),\n                                                message.type === \"scaffold\" && message.scaffoldStep && message.scaffoldTotalSteps && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-2 flex items-center justify-between text-xs text-indigo-300\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center gap-1\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: [\n                                                                    \"Step \",\n                                                                    message.scaffoldStep,\n                                                                    \" of \",\n                                                                    message.scaffoldTotalSteps\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                                lineNumber: 1207,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                            lineNumber: 1206,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        message.scaffoldHint && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"italic text-indigo-300/80\",\n                                                            children: [\n                                                                \"Hint: \",\n                                                                message.scaffoldHint\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                            lineNumber: 1210,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1205,\n                                                    columnNumber: 25\n                                                }, this),\n                                                message.type === \"video\" && videoComponent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-4\",\n                                                    children: videoComponent\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1219,\n                                                    columnNumber: 25\n                                                }, this),\n                                                message.type === \"quiz\" && quizComponent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-4\",\n                                                    children: quizComponent\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1223,\n                                                    columnNumber: 25\n                                                }, this),\n                                                message.type === \"feedback\" && feedbackComponent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-4\",\n                                                    children: feedbackComponent\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1227,\n                                                    columnNumber: 25\n                                                }, this),\n                                                message.type === \"summary\" && summaryComponent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-4\",\n                                                    children: summaryComponent\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1231,\n                                                    columnNumber: 25\n                                                }, this),\n                                                message.showContinue && onContinue && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                        onClick: ()=>{\n                                                            if (!onPhaseComplete) {\n                                                                // Fall back to regular continue if no onPhaseComplete\n                                                                if (onContinue) {\n                                                                    onContinue();\n                                                                }\n                                                                return;\n                                                            }\n                                                            const nextStep = getNextPhaseInSequence(phase);\n                                                            // For Phase 4, if it's a task transition within the phase\n                                                            if (phase === \"phase4\" && (nextStep === \"short_term_goals\" || nextStep === \"contingency_strategies\")) {\n                                                                // Send with score info to maintain progress tracking\n                                                                onPhaseComplete(\"\".concat(nextStep, \":score:2.5\"));\n                                                            } else {\n                                                                // Regular phase transition\n                                                                onPhaseComplete(nextStep);\n                                                            }\n                                                        },\n                                                        className: \"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 flex items-center gap-2 px-6\",\n                                                        children: [\n                                                            \"Continue\",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                                className: \"h-4 w-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                                lineNumber: 1261,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                        lineNumber: 1236,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                                    lineNumber: 1235,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                        lineNumber: 1118,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                lineNumber: 1091,\n                                columnNumber: 15\n                            }, this)\n                        }, \"\".concat(message.id, \"-\").concat(index), false, {\n                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                            lineNumber: 1090,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                    lineNumber: 1088,\n                    columnNumber: 9\n                }, this),\n                allowInput && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-t border-indigo-500/30 p-4\",\n                    children: [\n                        useScaffolding && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-2 flex items-center justify-between text-xs text-indigo-300\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"Step \",\n                                            currentScaffoldStep,\n                                            \" of \",\n                                            scaffoldingSteps\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                        lineNumber: 1279,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                    lineNumber: 1278,\n                                    columnNumber: 17\n                                }, this),\n                                charactersRemaining <= 100 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"\".concat(charactersRemaining < 0 ? 'text-red-400' : 'text-indigo-300'),\n                                    children: [\n                                        charactersRemaining,\n                                        \" characters remaining\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                    lineNumber: 1283,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                            lineNumber: 1277,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-end gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_2__.Textarea, {\n                                    id: \"chat-message-input\",\n                                    name: \"chat-message\",\n                                    value: userInput,\n                                    onChange: (e)=>setUserInput(e.target.value),\n                                    onKeyDown: handleKeyDown,\n                                    placeholder: \"Type your response...\",\n                                    className: \"min-h-[80px] flex-1 bg-slate-800/50 border border-indigo-500/30 text-white resize-none\",\n                                    disabled: isTyping\n                                }, void 0, false, {\n                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                    lineNumber: 1291,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    onClick: handleSendMessage,\n                                    className: \"bg-indigo-600 hover:bg-indigo-700 h-10 w-10 rounded-full p-0 flex items-center justify-center \".concat(isTyping ? \"opacity-50 cursor-not-allowed\" : \"\"),\n                                    disabled: isTyping || userInput.length === 0 || userInput.length > maxMessageLength,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        className: \"h-5 w-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                        lineNumber: 1308,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                    lineNumber: 1301,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                            lineNumber: 1290,\n                            columnNumber: 13\n                        }, this),\n                        userInput.length > maxMessageLength && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-2 text-xs text-red-400\",\n                            children: \"Your message exceeds the maximum allowed length. Please shorten it.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                            lineNumber: 1314,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                    lineNumber: 1275,\n                    columnNumber: 11\n                }, this),\n                alwaysShowContinue && onPhaseComplete && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-t border-indigo-500/30 p-4 flex justify-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: ()=>{\n                            if (!onPhaseComplete) return;\n                            const nextStep = getNextPhaseInSequence(phase);\n                            // For Phase 4, if it's a task transition within the phase\n                            if (phase === \"phase4\" && (nextStep === \"short_term_goals\" || nextStep === \"contingency_strategies\")) {\n                                // Send with score info to maintain progress tracking\n                                onPhaseComplete(\"\".concat(nextStep, \":score:2.5\"));\n                            } else {\n                                // Regular phase transition\n                                onPhaseComplete(nextStep);\n                            }\n                        },\n                        className: \"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 flex items-center gap-2 px-6\",\n                        children: [\n                            phase === \"phase4\" && (component === \"long_term_goals\" || component === \"short_term_goals\") ? \"Continue\" : \"Continue to Next Phase\",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowRight_Bot_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                className: \"h-4 w-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                                lineNumber: 1345,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                        lineNumber: 1324,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n                    lineNumber: 1323,\n                    columnNumber: 11\n                }, this),\n                children\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n            lineNumber: 1040,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/sirui/Desktop/mybot/components/solbot-chat.tsx\",\n        lineNumber: 1039,\n        columnNumber: 5\n    }, this);\n}\n_s(SolBotChat, \"OVLT1rxo70sUpyfs3HK1dig06k4=\");\n_c = SolBotChat;\nvar _c;\n$RefreshReg$(_c, \"SolBotChat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvc29sYm90LWNoYXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXNEO0FBQ2hCO0FBQ2lDO0FBQ3BCO0FBQ0o7QUFDUztBQUNyQjtBQUMwQjtBQUVHO0FBMENqRCxTQUFTZSxXQUFXLEtBc0JqQjtRQXRCaUIsRUFDakNDLGtCQUFrQixFQUFFLEVBQ3BCQyxhQUFhLEVBQ2JDLFVBQVUsRUFDVkMsZUFBZSxFQUNmQyxhQUFhLEVBQ2JDLGFBQWEsSUFBSSxFQUNqQkMscUJBQXFCLEtBQUssRUFDMUJDLHFCQUFxQixJQUFJLEVBQ3pCQyxTQUFTLE9BQU8sRUFDaEJDLFFBQVEsRUFDUkMsY0FBYyxFQUNkQyxhQUFhLEVBQ2JDLGlCQUFpQixFQUNqQkMsZ0JBQWdCLEVBQ2hCQyxpQkFBaUIsS0FBSyxFQUN0QkMsbUJBQW1CLENBQUMsRUFDcEJDLG1CQUFtQixHQUFHLEVBQ3RCQyxTQUFTLEVBQUUsRUFDWEMsUUFBUSxPQUFPLEVBQ2ZDLFlBQVksU0FBUyxFQUNyQkMsV0FBVyxLQUFLLEVBQ0EsR0F0QmlCOztJQXVCakMsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUd0QywrQ0FBUUEsQ0FBWWdCO0lBQ3BELE1BQU0sQ0FBQ3VCLFdBQVdDLGFBQWEsR0FBR3hDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3lDLFVBQVVDLFlBQVksR0FBRzFDLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQzJDLHFCQUFxQkMsdUJBQXVCLEdBQUc1QywrQ0FBUUEsQ0FBQztJQUMvRCxNQUFNLENBQUM2QyxxQkFBcUJDLHVCQUF1QixHQUFHOUMsK0NBQVFBLENBQUNnQztJQUMvRCxNQUFNLENBQUNlLGdCQUFnQkMsa0JBQWtCLEdBQUdoRCwrQ0FBUUEsQ0FBQ1ksZ0RBQU1BO0lBQzNELE1BQU0sQ0FBQ3FDLGFBQWFDLGVBQWUsR0FBR2xELCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ21ELG9CQUFv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S25CM0wsVUFBVW1CLE1BQU0sR0FBRzFCLGtDQUNsQiw4REFBQ21NOzRCQUFJRCxXQUFVO3NDQUE0Qjs7Ozs7Ozs7Ozs7O2dCQVFoRDNNLHNCQUFzQkosaUNBQ3JCLDhEQUFDZ047b0JBQUlELFdBQVU7OEJBQ2IsNEVBQUMxTix5REFBTUE7d0JBQ0xrUCxTQUFTOzRCQUNQLElBQUksQ0FBQ3ZPLGlCQUFpQjs0QkFFdEIsTUFBTXdPLFdBQVd6Ryx1QkFBdUJoSDs0QkFFeEMsMERBQTBEOzRCQUMxRCxJQUFJQSxVQUFVLFlBQ1R5TixDQUFBQSxhQUFhLHNCQUFzQkEsYUFBYSx3QkFBdUIsR0FBSTtnQ0FDOUUscURBQXFEO2dDQUNyRHhPLGdCQUFnQixHQUFZLE9BQVR3TyxVQUFTOzRCQUM5QixPQUFPO2dDQUNMLDJCQUEyQjtnQ0FDM0J4TyxnQkFBZ0J3Tzs0QkFDbEI7d0JBQ0Y7d0JBQ0F6QixXQUFVOzs0QkFFVGhNLFVBQVUsWUFBYUMsQ0FBQUEsY0FBYyxxQkFBcUJBLGNBQWMsa0JBQWlCLElBQ3RGLGFBQ0E7MENBQ0osOERBQUM3QixxR0FBVUE7Z0NBQUM0TixXQUFVOzs7Ozs7Ozs7Ozs7Ozs7OztnQkFLM0J6TTs7Ozs7Ozs7Ozs7O0FBSVQ7R0FweEN3QlY7S0FBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaXJ1aS9EZXNrdG9wL215Ym90L2NvbXBvbmVudHMvc29sYm90LWNoYXQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIFJlYWN0Tm9kZSB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiXG5pbXBvcnQgeyBCb3QsIFNlbmQsIFVzZXIsIEFycm93UmlnaHQsIENoZWNrQ2lyY2xlIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgeyBUZXh0YXJlYSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWFcIlxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIlxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCdcbmltcG9ydCBNYXJrZG93blJlbmRlcmVyIGZyb20gXCJAL2NvbXBvbmVudHMvbWFya2Rvd24tcmVuZGVyZXJcIlxuaW1wb3J0IHsgZ2V0TmV4dFBoYXNlIH0gZnJvbSBcIkAvbGliL3BoYXNlLWRhdGFcIlxuaW1wb3J0IENoYXRNZXNzYWdlUGFyc2VyIGZyb20gXCJAL2NvbXBvbmVudHMvY2hhdC1tZXNzYWdlLXBhcnNlclwiXG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZSB7XG4gIGlkOiBudW1iZXJcbiAgc2VuZGVyOiBcImJvdFwiIHwgXCJ1c2VyXCJcbiAgY29udGVudDogc3RyaW5nIHwgUmVhY3ROb2RlXG4gIHRpbWVzdGFtcDogRGF0ZVxuICBpc1R5cGluZz86IGJvb2xlYW5cbiAgc2hvd0NvbnRpbnVlPzogYm9vbGVhblxuICB0eXBlPzogXCJ0ZXh0XCIgfCBcInZpZGVvXCIgfCBcInF1aXpcIiB8IFwiYWN0aXZpdHlcIiB8IFwiZmVlZGJhY2tcIiB8IFwic3VtbWFyeVwiIHwgXCJzY2FmZm9sZFwiXG4gIHNjYWZmb2xkU3RlcD86IG51bWJlclxuICBzY2FmZm9sZFRvdGFsU3RlcHM/OiBudW1iZXJcbiAgc2NhZmZvbGRIaW50Pzogc3RyaW5nXG4gIGNoYXJhY3RlckxpbWl0PzogbnVtYmVyXG4gIGFnZW50VHlwZT86IHN0cmluZ1xuICBuZXh0X3BoYXNlPzogc3RyaW5nXG59XG5cbmludGVyZmFjZSBTb2xCb3RDaGF0UHJvcHMge1xuICBpbml0aWFsTWVzc2FnZXM/OiBNZXNzYWdlW11cbiAgb25TZW5kTWVzc2FnZT86IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWRcbiAgb25Db250aW51ZT86ICgpID0+IHZvaWRcbiAgb25QaGFzZUNvbXBsZXRlPzogKG5leHRQaGFzZTogc3RyaW5nKSA9PiB2b2lkXG4gIG9uU3RhZ2VDaGFuZ2U/OiAoc3RhZ2U6IHN0cmluZykgPT4gdm9pZFxuICBhbGxvd0lucHV0PzogYm9vbGVhblxuICBzaG93Q29udGludWVCdXR0b24/OiBib29sZWFuXG4gIGFsd2F5c1Nob3dDb250aW51ZT86IGJvb2xlYW5cbiAgaGVpZ2h0Pzogc3RyaW5nXG4gIGNoaWxkcmVuPzogUmVhY3ROb2RlXG4gIHZpZGVvQ29tcG9uZW50PzogUmVhY3ROb2RlXG4gIHF1aXpDb21wb25lbnQ/OiBSZWFjdE5vZGVcbiAgZmVlZGJhY2tDb21wb25lbnQ/OiBSZWFjdE5vZGVcbiAgc3VtbWFyeUNvbXBvbmVudD86IFJlYWN0Tm9kZVxuICB1c2VTY2FmZm9sZGluZz86IGJvb2xlYW5cbiAgc2NhZmZvbGRpbmdTdGVwcz86IG51bWJlclxuICBtYXhNZXNzYWdlTGVuZ3RoPzogbnVtYmVyXG4gIHVzZXJJZD86IHN0cmluZ1xuICBwaGFzZT86IHN0cmluZyAgLy8gTWFwcyBkaXJlY3RseSB0byBiYWNrZW5kIGFnZW50IHBoYXNlOiAncGhhc2UxJywgJ3BoYXNlMicsICdwaGFzZTQnLCAncGhhc2U1JywgJ3N1bW1hcnknXG4gIGNvbXBvbmVudD86IHN0cmluZ1xuICB1c2VBZ2VudD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU29sQm90Q2hhdCh7XG4gIGluaXRpYWxNZXNzYWdlcyA9IFtdLFxuICBvblNlbmRNZXNzYWdlLFxuICBvbkNvbnRpbnVlLFxuICBvblBoYXNlQ29tcGxldGUsXG4gIG9uU3RhZ2VDaGFuZ2UsXG4gIGFsbG93SW5wdXQgPSB0cnVlLFxuICBzaG93Q29udGludWVCdXR0b24gPSBmYWxzZSxcbiAgYWx3YXlzU2hvd0NvbnRpbnVlID0gdHJ1ZSxcbiAgaGVpZ2h0ID0gXCI1MDBweFwiLFxuICBjaGlsZHJlbixcbiAgdmlkZW9Db21wb25lbnQsXG4gIHF1aXpDb21wb25lbnQsXG4gIGZlZWRiYWNrQ29tcG9uZW50LFxuICBzdW1tYXJ5Q29tcG9uZW50LFxuICB1c2VTY2FmZm9sZGluZyA9IGZhbHNlLFxuICBzY2FmZm9sZGluZ1N0ZXBzID0gMSxcbiAgbWF4TWVzc2FnZUxlbmd0aCA9IDUwMCxcbiAgdXNlcklkID0gXCJcIixcbiAgcGhhc2UgPSBcImludHJvXCIsXG4gIGNvbXBvbmVudCA9IFwiZ2VuZXJhbFwiLFxuICB1c2VBZ2VudCA9IGZhbHNlLFxufTogU29sQm90Q2hhdFByb3BzKSB7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8TWVzc2FnZVtdPihpbml0aWFsTWVzc2FnZXMpXG4gIGNvbnN0IFt1c2VySW5wdXQsIHNldFVzZXJJbnB1dF0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbaXNUeXBpbmcsIHNldElzVHlwaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbY3VycmVudFNjYWZmb2xkU3RlcCwgc2V0Q3VycmVudFNjYWZmb2xkU3RlcF0gPSB1c2VTdGF0ZSgxKVxuICBjb25zdCBbY2hhcmFjdGVyc1JlbWFpbmluZywgc2V0Q2hhcmFjdGVyc1JlbWFpbmluZ10gPSB1c2VTdGF0ZShtYXhNZXNzYWdlTGVuZ3RoKVxuICBjb25zdCBbY29udmVyc2F0aW9uSWQsIHNldENvbnZlcnNhdGlvbklkXSA9IHVzZVN0YXRlKHV1aWR2NCgpKVxuICBjb25zdCBbbG9hZGluZ1RleHQsIHNldExvYWRpbmdUZXh0XSA9IHVzZVN0YXRlKFwiU29MQm90IGlzIHRoaW5raW5nXCIpXG4gIGNvbnN0IFt0aGlua2luZ0ludGVydmFsSWQsIHNldFRoaW5raW5nSW50ZXJ2YWxJZF0gPSB1c2VTdGF0ZTxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpXG4gIFxuICAvLyBQcmVkZWZpbmVkIHJlc3BvbnNlcyBmb3IgcGhhc2UxIChzdGF0aWMgY29udGVudClcbiAgY29uc3QgcHJlZGVmaW5lZFJlc3BvbnNlczogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nPj4gPSB7XG4gICAgcGhhc2UxOiB7XG4gICAgICB3ZWxjb21lOiBcIldlbGNvbWUgdG8gUGhhc2UgMSEgSGVyZSBJJ2xsIGd1aWRlIHlvdSB0aHJvdWdoIHRoZSBiYXNpY3Mgb2YgU2VsZi1SZWd1bGF0ZWQgTGVhcm5pbmcuIExldCdzIHN0YXJ0IGJ5IHVuZGVyc3RhbmRpbmcgdGhlIGtleSBwcmluY2lwbGVzLlwiLFxuICAgICAgZ2VuZXJhbDogXCJTZWxmLVJlZ3VsYXRlZCBMZWFybmluZyBpbnZvbHZlcyBwbGFubmluZyB5b3VyIGxlYXJuaW5nLCBtb25pdG9yaW5nIHlvdXIgcHJvZ3Jlc3MsIGNvbnRyb2xsaW5nIHlvdXIgc3RyYXRlZ2llcywgYW5kIHJlZmxlY3Rpbmcgb24geW91ciBvdXRjb21lcy4gVGhpcyBjeWNsaWNhbCBwcm9jZXNzIGhlbHBzIHlvdSBiZWNvbWUgYSBtb3JlIGVmZmVjdGl2ZSBsZWFybmVyLlwiLFxuICAgICAgZGVmYXVsdDogXCJJbiBQaGFzZSAxLCB3ZSdyZSBmb2N1c2luZyBvbiBidWlsZGluZyB5b3VyIHVuZGVyc3RhbmRpbmcgb2YgdGhlIFNlbGYtUmVndWxhdGVkIExlYXJuaW5nIGZyYW1ld29yay4gVGhpcyBrbm93bGVkZ2Ugd2lsbCBmb3JtIHRoZSBmb3VuZGF0aW9uIGZvciB0aGUgcmVzdCBvZiBvdXIgam91cm5leS5cIlxuICAgIH1cbiAgfVxuICBcbiAgLy8gVXBkYXRlIGNoYXJhY3RlcnMgcmVtYWluaW5nIHdoZW4gdXNlciB0eXBlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldENoYXJhY3RlcnNSZW1haW5pbmcobWF4TWVzc2FnZUxlbmd0aCAtIHVzZXJJbnB1dC5sZW5ndGgpXG4gIH0sIFt1c2VySW5wdXQsIG1heE1lc3NhZ2VMZW5ndGhdKVxuXG4gIC8vIEF1dG8tc2Nyb2xsIHRvIGJvdHRvbSBvZiBjaGF0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2hhdENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hhdC1jb250YWluZXJcIilcbiAgICBpZiAoY2hhdENvbnRhaW5lcikge1xuICAgICAgY2hhdENvbnRhaW5lci5zY3JvbGxUb3AgPSBjaGF0Q29udGFpbmVyLnNjcm9sbEhlaWdodFxuICAgIH1cbiAgfSwgW21lc3NhZ2VzXSlcblxuICAvLyBGdW5jdGlvbiB0byBwcm92aWRlIGNvbnRleHR1YWwgcmVzcG9uc2VzIGJhc2VkIG9uIHBoYXNlIGFuZCBjb21wb25lbnRcbiAgY29uc3QgZ2V0Q29udGV4dHVhbFJlc3BvbnNlID0gKHBoYXNlOiBzdHJpbmcsIGNvbXBvbmVudDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCByZXNwb25zZXM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+ID0ge1xuICAgICAgcGhhc2U0OiB7XG4gICAgICAgIGxvbmdfdGVybV9nb2FsczogXCJGb3IgbG9uZy10ZXJtIGdvYWxzLCBmb2N1cyBvbiBhbGlnbmluZyB0aGVtIHdpdGggeW91ciBicm9hZGVyIGNhcmVlciBvciBlZHVjYXRpb25hbCBhc3BpcmF0aW9ucy4gTWFrZSBzdXJlIHRoZXkncmUgY2hhbGxlbmdpbmcgeWV0IGFjaGlldmFibGUuXCIsXG4gICAgICAgIHNob3J0X3Rlcm1fZ29hbHM6IFwiU2hvcnQtdGVybSBTTUFSVCBnb2FscyBzaG91bGQgYmUgU3BlY2lmaWMsIE1lYXN1cmFibGUsIEFjaGlldmFibGUsIFJlbGV2YW50LCBhbmQgVGltZS1ib3VuZC4gQnJlYWsgZG93biBsYXJnZXIgZ29hbHMgaW50byBtYW5hZ2VhYmxlIGNodW5rcy5cIixcbiAgICAgICAgY29udGluZ2VuY3lfc3RyYXRlZ2llczogXCJXaGVuIGNyZWF0aW5nIGNvbnRpbmdlbmN5IHN0cmF0ZWdpZXMsIHRoaW5rIGFib3V0IHBvdGVudGlhbCBvYnN0YWNsZXMgYW5kIGhvdyB5b3UgbWlnaHQgYWRhcHQgeW91ciBhcHByb2FjaCBpZiB0aGluZ3MgZG9uJ3QgZ28gYXMgcGxhbm5lZC5cIlxuICAgICAgfSxcbiAgICAgIHBoYXNlNToge1xuICAgICAgICBnZW5lcmFsOiBcIldoZW4gbW9uaXRvcmluZyB5b3VyIGxlYXJuaW5nLCByZWd1bGFyIGNoZWNrLWlucyBhbmQgYWRqdXN0bWVudHMgYXJlIGtleSB0byBzdGF5aW5nIG9uIHRyYWNrLlwiXG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBSZXR1cm4gcGhhc2UrY29tcG9uZW50IHNwZWNpZmljIHJlc3BvbnNlLCBvciBwaGFzZSBnZW5lcmFsLCBvciBkZWZhdWx0XG4gICAgcmV0dXJuIHJlc3BvbnNlc1twaGFzZV0/Lltjb21wb25lbnRdIHx8IFxuICAgICAgICAgICByZXNwb25zZXNbcGhhc2VdPy5bXCJnZW5lcmFsXCJdIHx8IFxuICAgICAgICAgICBcIlRoaXMgc3RhZ2UgaW52b2x2ZXMgdGhvdWdodGZ1bCBwbGFubmluZyBhbmQgcmVmbGVjdGlvbiBvbiB5b3VyIGxlYXJuaW5nIHByb2Nlc3MuXCI7XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVTZW5kTWVzc2FnZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXVzZXJJbnB1dC50cmltKCkpIHJldHVyblxuICAgIGlmICh1c2VySW5wdXQubGVuZ3RoID4gbWF4TWVzc2FnZUxlbmd0aCkgcmV0dXJuXG5cbiAgICAvLyBBZGQgdXNlciBtZXNzYWdlXG4gICAgY29uc3QgbmV3VXNlck1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgIHNlbmRlcjogXCJ1c2VyXCIsXG4gICAgICBjb250ZW50OiB1c2VySW5wdXQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICBzY2FmZm9sZFN0ZXA6IHVzZVNjYWZmb2xkaW5nID8gY3VycmVudFNjYWZmb2xkU3RlcCA6IHVuZGVmaW5lZCxcbiAgICB9XG5cbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIG5ld1VzZXJNZXNzYWdlXSlcbiAgICBjb25zdCBtZXNzYWdlU2VudCA9IHVzZXJJbnB1dFxuICAgIHNldFVzZXJJbnB1dChcIlwiKVxuICAgIFxuICAgIC8vIFVwZGF0ZSBzY2FmZm9sZCBzdGVwIGlmIHVzaW5nIHNjYWZmb2xkaW5nXG4gICAgaWYgKHVzZVNjYWZmb2xkaW5nICYmIGN1cnJlbnRTY2FmZm9sZFN0ZXAgPCBzY2FmZm9sZGluZ1N0ZXBzKSB7XG4gICAgICBzZXRDdXJyZW50U2NhZmZvbGRTdGVwKHByZXYgPT4gcHJldiArIDEpXG4gICAgfVxuICAgIFxuICAgIC8vIEZvciBwaGFzZTEsIHVzZSBwcmVkZWZpbmVkIHJlc3BvbnNlcyBpbnN0ZWFkIG9mIGNvbm5lY3RpbmcgdG8gYW4gYWdlbnRcbiAgICBpZiAocGhhc2UgPT09ICdwaGFzZTEnKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBVc2UgdGhlIHNhbWUgdGhpbmtpbmcgYW5pbWF0aW9uIGFzIHRoZSBhZ2VudCByZXNwb25zZXNcbiAgICAgICAgY29uc3QgaW50ZXJ2YWxJZCA9IHN0YXJ0VGhpbmtpbmdBbmltYXRpb24oKVxuICAgICAgICBcbiAgICAgICAgLy8gU2ltdWxhdGUgYSBkZWxheSB0byBtYWtlIGl0IGZlZWwgbW9yZSBuYXR1cmFsXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxNTAwKSlcbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFyIHRoZSB0aGlua2luZyBhbmltYXRpb25cbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKVxuICAgICAgICBzZXRUaGlua2luZ0ludGVydmFsSWQobnVsbClcbiAgICAgICAgXG4gICAgICAgIC8vIFJlbW92ZSB0eXBpbmcgaW5kaWNhdG9yXG4gICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigobXNnKSA9PiAhbXNnLmlzVHlwaW5nKSlcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBwcmVkZWZpbmVkIHJlc3BvbnNlIGJhc2VkIG9uIGNvbXBvbmVudFxuICAgICAgICBjb25zdCByZXNwb25zZVRleHQgPSBwcmVkZWZpbmVkUmVzcG9uc2VzLnBoYXNlMVtjb21wb25lbnQgYXMga2V5b2YgdHlwZW9mIHByZWRlZmluZWRSZXNwb25zZXMucGhhc2UxXSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVkZWZpbmVkUmVzcG9uc2VzLnBoYXNlMS5kZWZhdWx0O1xuICAgICAgICBcbiAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHRoaXMgc2hvdWxkIHNob3cgYSBjb250aW51ZSBidXR0b24gKGFmdGVyIDMgaW50ZXJhY3Rpb25zIG9yIGJ5IGNvbmZpZ3VyYXRpb24pXG4gICAgICAgIGNvbnN0IHNob3dQaGFzZTFDb250aW51ZSA9IG1lc3NhZ2VzLmZpbHRlcihtID0+IG0uc2VuZGVyID09PSBcInVzZXJcIikubGVuZ3RoID49IDM7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgYm90IHJlc3BvbnNlXG4gICAgICAgIGNvbnN0IG5ld0JvdE1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgICAgc2VuZGVyOiBcImJvdFwiLFxuICAgICAgICAgIGNvbnRlbnQ6IHJlc3BvbnNlVGV4dCxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgc2hvd0NvbnRpbnVlOiBzaG93UGhhc2UxQ29udGludWUsXG4gICAgICAgICAgbmV4dF9waGFzZTogc2hvd1BoYXNlMUNvbnRpbnVlID8gXCJwaGFzZTJcIiA6IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIG5ld0JvdE1lc3NhZ2VdKVxuICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSlcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHVzaW5nIGxvY2FsIGhhbmRsZXIsIHN0aWxsIGNhbGwgaXRcbiAgICAgICAgaWYgKG9uU2VuZE1lc3NhZ2UpIHtcbiAgICAgICAgICBvblNlbmRNZXNzYWdlKG1lc3NhZ2VTZW50KVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm5cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHdpdGggcHJlZGVmaW5lZCByZXNwb25zZTonLCBlcnJvcilcbiAgICAgICAgLy8gQ29udGludWUgdG8gZmFsbGJhY2sgaGFuZGxpbmcgYmVsb3dcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKHVzZUFnZW50ICYmIHVzZXJJZCAmJiBwaGFzZSAhPT0gJ3BoYXNlMScpIHtcbiAgICAgIC8vIFVzZSBiYWNrZW5kIGFnZW50IGludGVncmF0aW9uXG4gICAgICB0cnkge1xuICAgICAgICAvLyBTdGFydCB0aGUgdGhpbmtpbmcgYW5pbWF0aW9uIGFuZCBnZXQgdGhlIGludGVydmFsIElEXG4gICAgICAgIGNvbnN0IGludGVydmFsSWQgPSBzdGFydFRoaW5raW5nQW5pbWF0aW9uKClcbiAgICAgICAgXG4gICAgICAgIC8vIE1hcCBmcm9udC1lbmQgcGFnZSBuYW1lIHRvIHRoZSBjb3JyZWN0IGFnZW50IHBoYXNlIGlmIG5lZWRlZFxuICAgICAgICBsZXQgYWdlbnRQaGFzZSA9IHBoYXNlXG4gICAgICAgIGlmIChwaGFzZSA9PT0gJ2ludHJvJykge1xuICAgICAgICAgIGFnZW50UGhhc2UgPSAnaW50cm8nIC8vIEludHJvIHBhZ2UgdXNlcyBpbnRybyBhZ2VudFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiBiYWNrZW5kIGlzIG9ubGluZSBmaXJzdFxuICAgICAgICBsZXQgaXNCYWNrZW5kQWxpdmUgPSBmYWxzZVxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFF1aWNrIGhlYWx0aCBjaGVjayB0byBzZWUgaWYgYmFja2VuZCBpcyByZXNwb25kaW5nXG4gICAgICAgICAgY29uc3QgaGVhbHRoQ2hlY2tDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgIGNvbnN0IGhlYWx0aENoZWNrVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gaGVhbHRoQ2hlY2tDb250cm9sbGVyLmFib3J0KCksIDIwMDApO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGhlYWx0aENoZWNrID0gYXdhaXQgZmV0Y2goJy9hcGkvY2hhdC9oZWFsdGgnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpZ25hbDogaGVhbHRoQ2hlY2tDb250cm9sbGVyLnNpZ25hbFxuICAgICAgICAgIH0pXG4gICAgICAgICAgXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGhlYWx0aENoZWNrVGltZW91dCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgd2UgZ2V0IGFueSByZXNwb25zZSBmcm9tIG91ciBmcm9udGVuZCBBUEksIHRoYXQncyBnb29kIGVub3VnaFxuICAgICAgICAgIC8vIEV2ZW4gaWYgaXQgcmV0dXJucyBhIDUwMyBlcnJvciwgaXQgbWVhbnMgb3VyIE5leHRKUyBzZXJ2ZXIgaXMgd29ya2luZ1xuICAgICAgICAgIGlzQmFja2VuZEFsaXZlID0gdHJ1ZTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRnJvbnRlbmQgQVBJIGhlYWx0aCBjaGVjayBzdWNjZXNzZnVsJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gT25seSBsb2cgYSB3YXJuaW5nIGlmIHJlc3BvbnNlIHdhcyBub3QgT0tcbiAgICAgICAgICBpZiAoIWhlYWx0aENoZWNrLm9rKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEJhY2tlbmQgaGVhbHRoIGNoZWNrIHJldHVybmVkIHN0YXR1czogJHtoZWFsdGhDaGVjay5zdGF0dXN9LiBXaWxsIHByb2NlZWQgYW55d2F5LmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoaGVhbHRoRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdCYWNrZW5kIGhlYWx0aCBjaGVjayBmYWlsZWQ6JywgaGVhbHRoRXJyb3IpXG4gICAgICAgICAgaXNCYWNrZW5kQWxpdmUgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiBiYWNrZW5kIHNlcnZlciBpcyBydW5uaW5nXG4gICAgICAgIGlmICghaXNCYWNrZW5kQWxpdmUpIHtcbiAgICAgICAgICAvLyBDbGVhciB0aGUgdGhpbmtpbmcgYW5pbWF0aW9uIGludGVydmFsXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcbiAgICAgICAgICBzZXRUaGlua2luZ0ludGVydmFsSWQobnVsbCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVtb3ZlIHR5cGluZyBpbmRpY2F0b3JcbiAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gcHJldi5maWx0ZXIoKG1zZykgPT4gIW1zZy5pc1R5cGluZykpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIGZhbGxiYWNrIG1lc3NhZ2VcbiAgICAgICAgICBjb25zdCBmYWxsYmFja01lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHNlbmRlcjogXCJib3RcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IGBcbkkgZW5jb3VudGVyZWQgc29tZSBuZXR3b3JrIGlzc3VlcyB3aGlsZSB0cnlpbmcgdG8gYWNjZXNzIG15IGtub3dsZWRnZSBiYXNlLiBMZXQgbWUgcHJvdmlkZSBzb21lIGdlbmVyYWwgZ3VpZGFuY2UgYmFzZWQgb24gd2hhdCBJIGFscmVhZHkga25vdzpcblxuRm9yICR7cGhhc2UgPT09IFwicGhhc2U0XCIgPyBcImxvbmctdGVybSBnb2Fsc1wiIDogcGhhc2V9LCBmb2N1cyBvbjpcblxuLSBNYWtpbmcgeW91ciBnb2FscyBzcGVjaWZpYyBhbmQgbWVhc3VyYWJsZVxuLSBDb25uZWN0aW5nIHRoZW0gdG8geW91ciBwZXJzb25hbCB2YWx1ZXMgYW5kIGFzcGlyYXRpb25zXG4tIFNldHRpbmcgcmVhbGlzdGljIHRpbWVsaW5lcyB0aGF0IGNoYWxsZW5nZSB5b3UgYXBwcm9wcmlhdGVseVxuXG5Xb3VsZCB5b3UgbGlrZSB0byBjb250aW51ZSB3aXRoIHRoZSBjb252ZXJzYXRpb24/IEknbGwgdHJ5IG15IGJlc3QgdG8gYXNzaXN0IGV2ZW4gd2l0aCBsaW1pdGVkIGNvbm5lY3Rpdml0eS5cbiAgICAgICAgICAgIGAsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgIC8vIERvbid0IHNob3cgY29udGludWUgYnV0dG9uIGFzIHdlIHdhbnQgdGhlbSB0byBpbnRlcmFjdFxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBmYWxsYmFja01lc3NhZ2VdKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggdXNlciBpbnRlcmFjdGlvbiBkZXNwaXRlIGJhY2tlbmQgaXNzdWVzXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBNYWtlIEFQSSBjYWxsIHRvIGFnZW50IHdpdGggcmV0cnkgbG9naWNcbiAgICAgICAgY29uc29sZS5sb2coYFNlbmRpbmcgbWVzc2FnZSB0byBhZ2VudDogcGhhc2U9JHthZ2VudFBoYXNlfSwgY29tcG9uZW50PSR7Y29tcG9uZW50fWApXG4gICAgICAgIFxuICAgICAgICAvLyBTZXR1cCB0aW1lb3V0IGZvciBtYWluIEFQSSBjYWxsXG4gICAgICAgIGNvbnN0IGFwaUNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgYSBtb3JlIHJlc2lsaWVudCB0aW1lb3V0IHRoYXQgZG9lc24ndCBhYm9ydCBwcmVtYXR1cmVseVxuICAgICAgICBsZXQgYXBpVGltZW91dElkOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBTZXQgYSByZWFzb25hYmxlIHRpbWVvdXQgYnV0IGRvbid0IGV4cGxpY2l0bHkgYWJvcnRcbiAgICAgICAgICAvLyBUaGlzIHByZXZlbnRzIEFib3J0RXJyb3I6IHNpZ25hbCBpcyBhYm9ydGVkIHdpdGhvdXQgcmVhc29uXG4gICAgICAgICAgYXBpVGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFQSSByZXF1ZXN0IGlzIHRha2luZyBhIGxvbmcgdGltZSwgYnV0IGNvbnRpbnVpbmcgdG8gd2FpdC4uLlwiKTtcbiAgICAgICAgICB9LCAyMDAwMCk7IC8vIDIwIHNlY29uZCB0aW1lb3V0IGZvciB3YXJuaW5nIG9ubHlcbiAgICAgICAgICBcbiAgICAgICAgICBsZXQgcmVzcG9uc2U7XG4gICAgICAgICAgbGV0IHJldHJ5Q291bnQgPSAwO1xuICAgICAgICAgIGNvbnN0IG1heFJldHJpZXMgPSAyO1xuICAgICAgICAgIFxuICAgICAgICAgIHdoaWxlIChyZXRyeUNvdW50IDw9IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY2hhdCcsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICAgICAgICBwaGFzZTogYWdlbnRQaGFzZSxcbiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVNlbnQsXG4gICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogY29udmVyc2F0aW9uSWRcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBzaWduYWw6IGFwaUNvbnRyb2xsZXIuc2lnbmFsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIFN1Y2Nlc3MsIGV4aXQgcmV0cnkgbG9vcFxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHJlc3BvbnNlIGlzIG5vdCBPSywgaW5jcmVtZW50IHJldHJ5IGNvdW50XG4gICAgICAgICAgICAgICAgcmV0cnlDb3VudCsrO1xuICAgICAgICAgICAgICAgIGlmIChyZXRyeUNvdW50IDw9IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBSZXRyeWluZyByZXF1ZXN0ICgke3JldHJ5Q291bnR9LyR7bWF4UmV0cmllc30pLi4uYCk7XG4gICAgICAgICAgICAgICAgICAvLyBXYWl0IGEgYml0IGJlZm9yZSByZXRyeWluZyAoZXhwb25lbnRpYWwgYmFja29mZilcbiAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwICogcmV0cnlDb3VudCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCBhZnRlciAke21heFJldHJpZXN9IHJldHJpZXNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIC8vIE9ubHkgcmV0cnkgb24gbmV0d29yayBlcnJvcnMsIG5vdCBvbiBhYm9ydHMgb3Igb3RoZXIgZXJyb3JzXG4gICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm5hbWUgIT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgICAgICAgICAgICBpZiAocmV0cnlDb3VudCA8PSBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTmV0d29yayBlcnJvciwgcmV0cnlpbmcgKCR7cmV0cnlDb3VudH0vJHttYXhSZXRyaWVzfSkuLi5gKTtcbiAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwICogcmV0cnlDb3VudCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgaWYgbWF4IHJldHJpZXMgcmVhY2hlZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignUmVxdWVzdCBhYm9ydGVkIGR1ZSB0byB0aW1lb3V0IG9yIHVzZXIgYWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGFib3J0IGVycm9ycyBncmFjZWZ1bGx5IC0gcHJvdmlkZSBwYXJ0aWFsIHJlc3BvbnNlIGluc3RlYWQgb2YgZmFpbGluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBJJ20gc3RpbGwgd29ya2luZyBvbiBhIGNvbXByZWhlbnNpdmUgcmVzcG9uc2UgdG8geW91ciBxdWVzdGlvbiBhYm91dCAke21lc3NhZ2VTZW50LnN1YnN0cmluZygwLCAzMCl9Li4uXG5cbkxldCBtZSBnaXZlIHlvdSBzb21lIGluaXRpYWwgdGhvdWdodHMgd2hpbGUgSSBjb250aW51ZSBwcm9jZXNzaW5nOlxuXG4ke2dldENvbnRleHR1YWxSZXNwb25zZShwaGFzZSwgY29tcG9uZW50KX1cblxuTGV0IG1lIGtub3cgaWYgeW91IGhhdmUgYW55IHNwZWNpZmljIHF1ZXN0aW9ucyBhYm91dCB0aGlzIHRvcGljIWAsXG4gICAgICAgICAgICAgICAgICAgICAgcGhhc2U6IHBoYXNlLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAgIGFnZW50X3R5cGU6IHBoYXNlLFxuICAgICAgICAgICAgICAgICAgICAgIHNjYWZmb2xkaW5nX2xldmVsOiAyLFxuICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9pZDogY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBVc2Ugb3VyIGZhbGxiYWNrIHJlc3BvbnNlIGluc3RlYWQgb2YgZmFpbGluZ1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gZmFsbGJhY2tSZXNwb25zZTtcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gRXhpdCByZXRyeSBsb29wIHdpdGggZmFsbGJhY2sgcmVzcG9uc2VcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgaW1tZWRpYXRlbHkgZm9yIG90aGVyIGVycm9yc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENsZWFyIGFueSB0aW1lb3V0XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGFwaVRpbWVvdXRJZCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2xlYXIgdGhlIHRoaW5raW5nIGFuaW1hdGlvbiBpbnRlcnZhbFxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZClcbiAgICAgICAgICBzZXRUaGlua2luZ0ludGVydmFsSWQobnVsbClcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZW1vdmUgdHlwaW5nIGluZGljYXRvclxuICAgICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigobXNnKSA9PiAhbXNnLmlzVHlwaW5nKSlcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBpZiByZXNwb25zZSBpcyB1bmRlZmluZWQgYWZ0ZXIgYWxsIHJldHJpZXNcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2V0IGEgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyIGFmdGVyIHJldHJpZXNcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGxldCBlcnJvclRleHQgPSBcIlwiO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHJlc3BvbnNlIHR5cGVzIChvdXIgZmFsbGJhY2sgcmVzcG9uc2UgdnMuIGFjdHVhbCBmZXRjaCBSZXNwb25zZSlcbiAgICAgICAgICAgIGlmICgndGV4dCcgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlcnJvclRleHQgPSBhd2FpdCAocmVzcG9uc2UgYXMgUmVzcG9uc2UpLnRleHQoKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAodGV4dEVycm9yKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JUZXh0ID0gXCJDb3VsZCBub3QgcmVhZCBlcnJvciBkZXRhaWxzXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IHJlc3BvbnNlIGZyb20gYWdlbnQgKEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9KTogJHtlcnJvclRleHR9YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGxldCByZXNwb25zZURhdGFcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gU2FmZWx5IHBhcnNlIEpTT04gcmVzcG9uc2VcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSB0aGUgcmVzcG9uc2UgZm9ybWF0IHRvIGhhbmRsZSBib3RoIHdyYXBwZWQgYW5kIHVud3JhcHBlZCByZXNwb25zZXNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JhdyBBUEkgcmVzcG9uc2U6JywgZGF0YSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSGFuZGxlIHN1Y2Nlc3NmdWwgcmVzcG9uc2VzIHdpdGggZGF0YSB3cmFwcGVyXG4gICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzID09PSB0cnVlICYmIGRhdGEuZGF0YSkge1xuICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBkYXRhLmRhdGFcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHRoZSByZXNwb25zZSBhcyBpc1xuICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBkYXRhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3JtYWxpemVkIGFnZW50IHJlc3BvbnNlOicsIHJlc3BvbnNlRGF0YSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZURhdGEgfHwgdHlwZW9mIHJlc3BvbnNlRGF0YSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCByZXNwb25zZSBmb3JtYXQ6JywgcmVzcG9uc2VEYXRhKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcmVzcG9uc2UgZm9ybWF0OiAke0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlRGF0YSl9YClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZURhdGEubWVzc2FnZSAmJiByZXNwb25zZURhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5lcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdKU09OIHBhcnNpbmcgZXJyb3I6JywgcGFyc2VFcnJvcilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgcGFyc2luZyBhZ2VudCByZXNwb25zZTogJHtwYXJzZUVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBwYXJzZUVycm9yLm1lc3NhZ2UgOiBTdHJpbmcocGFyc2VFcnJvcil9YClcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIGJvdCByZXNwb25zZVxuICAgICAgICAgIGNvbnN0IG5ld0JvdE1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHNlbmRlcjogXCJib3RcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3BvbnNlRGF0YS5tZXNzYWdlIHx8IFwiSSdtIHNvcnJ5LCBJJ20gaGF2aW5nIHRyb3VibGUgZ2VuZXJhdGluZyBhIHJlc3BvbnNlLlwiLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICBzaG93Q29udGludWU6IGFsd2F5c1Nob3dDb250aW51ZSB8fCAocmVzcG9uc2VEYXRhLm5leHRfcGhhc2UgJiYgcmVzcG9uc2VEYXRhLm5leHRfcGhhc2UgIT09IHBoYXNlKSxcbiAgICAgICAgICAgIG5leHRfcGhhc2U6IHJlc3BvbnNlRGF0YS5uZXh0X3BoYXNlIHx8IGdldE5leHRQaGFzZUluU2VxdWVuY2UocGhhc2UpXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgbmV3Qm90TWVzc2FnZV0pXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIGhhbmRsaW5nIGZvciBpbnRybyBzdGFnZSB0cmFuc2l0aW9uc1xuICAgICAgICAgIGlmIChwaGFzZSA9PT0gJ2ludHJvJyAmJiByZXNwb25zZURhdGEubmV4dF9pbnRyb19zdGFnZSAmJiBvblN0YWdlQ2hhbmdlKSB7XG4gICAgICAgICAgICBvblN0YWdlQ2hhbmdlKHJlc3BvbnNlRGF0YS5uZXh0X2ludHJvX3N0YWdlKVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb21tdW5pY2F0aW5nIHdpdGggYWdlbnQ6JywgZXJyb3IpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2xlYXIgYW55IG9uZ29pbmcgYW5pbWF0aW9uIGludGVydmFsXG4gICAgICAgICAgaWYgKHRoaW5raW5nSW50ZXJ2YWxJZCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlua2luZ0ludGVydmFsSWQpXG4gICAgICAgICAgICBzZXRUaGlua2luZ0ludGVydmFsSWQobnVsbClcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVtb3ZlIHR5cGluZyBpbmRpY2F0b3JcbiAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gcHJldi5maWx0ZXIoKG1zZykgPT4gIW1zZy5pc1R5cGluZykpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIGEgZnJpZW5kbHkgZXJyb3IgbWVzc2FnZSB3aXRoIHZpc3VhbCBzdHlsaW5nXG4gICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgICAgICBzZW5kZXI6IFwiYm90XCIsXG4gICAgICAgICAgICBjb250ZW50OiBgXG4jIyBDb25uZWN0aW9uIElzc3VlIPCflIxcblxuSSdtIGN1cnJlbnRseSBoYXZpbmcgdHJvdWJsZSBjb25uZWN0aW5nIHRvIG15IGtub3dsZWRnZSBiYXNlLiBcblxuIyMjIFdoYXQgeW91IGNhbiBkbzpcbi0gTWFrZSBzdXJlIHRoZSBiYWNrZW5kIHNlcnZpY2UgaXMgcnVubmluZ1xuLSBUcnkgcmVmcmVzaGluZyB0aGUgcGFnZVxuLSBDaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb25cblxuRm9yIGFzc2lzdGFuY2UsIHlvdSBjYW46XG4xLiBSdW4gdGhlIGJhY2tlbmQgc2VydmljZSBpZiBpdCdzIG5vdCBhbHJlYWR5IHJ1bm5pbmdcbjIuIENvbnRhY3QgdGVjaG5pY2FsIHN1cHBvcnQgaWYgdGhlIGlzc3VlIHBlcnNpc3RzXG5cbipZb3VyIHBhdGllbmNlIGlzIGFwcHJlY2lhdGVkIHdoaWxlIEkgcmVjb25uZWN0LipcbiAgICAgICAgICAgIGAsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB0eXBlOiBcInRleHRcIlxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBlcnJvck1lc3NhZ2VdKVxuICAgICAgICAgIHNldElzVHlwaW5nKGZhbHNlKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGxvY2FsIGhhbmRsZXIgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgaWYgKG9uU2VuZE1lc3NhZ2UpIHtcbiAgICAgICAgICAgIG9uU2VuZE1lc3NhZ2UobWVzc2FnZVNlbnQpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb21tdW5pY2F0aW5nIHdpdGggYWdlbnQ6JywgZXJyb3IpXG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhciBhbnkgb25nb2luZyBhbmltYXRpb24gaW50ZXJ2YWxcbiAgICAgICAgaWYgKHRoaW5raW5nSW50ZXJ2YWxJZCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpbmtpbmdJbnRlcnZhbElkKVxuICAgICAgICAgIHNldFRoaW5raW5nSW50ZXJ2YWxJZChudWxsKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgdHlwaW5nIGluZGljYXRvclxuICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gcHJldi5maWx0ZXIoKG1zZykgPT4gIW1zZy5pc1R5cGluZykpXG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgYSBmcmllbmRseSBlcnJvciBtZXNzYWdlIHdpdGggdmlzdWFsIHN0eWxpbmdcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICAgIHNlbmRlcjogXCJib3RcIixcbiAgICAgICAgICBjb250ZW50OiBgXG4jIyBDb25uZWN0aW9uIElzc3VlIPCflIxcblxuSSdtIGN1cnJlbnRseSBoYXZpbmcgdHJvdWJsZSBjb25uZWN0aW5nIHRvIG15IGtub3dsZWRnZSBiYXNlLiBcblxuIyMjIFdoYXQgeW91IGNhbiBkbzpcbi0gTWFrZSBzdXJlIHRoZSBiYWNrZW5kIHNlcnZpY2UgaXMgcnVubmluZ1xuLSBUcnkgcmVmcmVzaGluZyB0aGUgcGFnZVxuLSBDaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb25cblxuRm9yIGFzc2lzdGFuY2UsIHlvdSBjYW46XG4xLiBSdW4gdGhlIGJhY2tlbmQgc2VydmljZSBpZiBpdCdzIG5vdCBhbHJlYWR5IHJ1bm5pbmdcbjIuIENvbnRhY3QgdGVjaG5pY2FsIHN1cHBvcnQgaWYgdGhlIGlzc3VlIHBlcnNpc3RzXG5cbipZb3VyIHBhdGllbmNlIGlzIGFwcHJlY2lhdGVkIHdoaWxlIEkgcmVjb25uZWN0LipcbiAgICAgICAgICBgLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICB0eXBlOiBcInRleHRcIlxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBlcnJvck1lc3NhZ2VdKVxuICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSlcbiAgICAgICAgXG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIGxvY2FsIGhhbmRsZXIgaWYgYXZhaWxhYmxlXG4gICAgICAgIGlmIChvblNlbmRNZXNzYWdlKSB7XG4gICAgICAgICAgb25TZW5kTWVzc2FnZShtZXNzYWdlU2VudClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob25TZW5kTWVzc2FnZSkge1xuICAgICAgLy8gVXNlIGxvY2FsIGhhbmRsZXIgaWYgbm90IHVzaW5nIGFnZW50IGludGVncmF0aW9uXG4gICAgICBvblNlbmRNZXNzYWdlKG1lc3NhZ2VTZW50KVxuICAgIH1cbiAgfVxuXG4gIC8vIEZ1bmN0aW9uIHRvIGNsZWFuIG1lc3NhZ2UgY29udGVudCAtIHN0cmlwIGV2YWx1YXRpb24gc2NvcmVzIGFuZCBzdXBwb3J0IGxldmVsc1xuICBjb25zdCBjbGVhbk1lc3NhZ2VDb250ZW50ID0gKGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgaWYgKCFjb250ZW50IHx8IHR5cGVvZiBjb250ZW50ICE9PSAnc3RyaW5nJykgcmV0dXJuIGNvbnRlbnQ7XG5cbiAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIGVuaGFuY2UgZXZhbHVhdGlvbiBzZWN0aW9uXG4gICAgaWYgKGNvbnRlbnQuaW5jbHVkZXMoXCJTcGVjaWZpY2l0eTpcIikgfHwgY29udGVudC5pbmNsdWRlcyhcIktub3dsZWRnZSBBbGlnbm1lbnQ6XCIpIHx8IGNvbnRlbnQuaW5jbHVkZXMoXCJSZXNvdXJjZSBQbGFubmluZzpcIikpIHtcbiAgICAgIC8vIEZpbmQgZXZhbHVhdGlvbiBzZWN0aW9uIGFuZCByZXBsYWNlIHdpdGggZW5oYW5jZWQgdmVyc2lvblxuICAgICAgY29uc3Qgc2VjdGlvbnMgPSBjb250ZW50LnNwbGl0KC9cXG5cXG58IyMvKTtcbiAgICAgIFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gc2VjdGlvbnNbaV07XG4gICAgICAgIFxuICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSBldmFsdWF0aW9uIHNlY3Rpb24gd2l0aCBzY29yZXNcbiAgICAgICAgaWYgKChzZWN0aW9uLmluY2x1ZGVzKFwiU3BlY2lmaWNpdHk6XCIpIHx8IHNlY3Rpb24uaW5jbHVkZXMoXCJzcGVjaWZpY2l0eTpcIikpICYmIFxuICAgICAgICAgICAgKHNlY3Rpb24uaW5jbHVkZXMoXCJLbm93bGVkZ2UgQWxpZ25tZW50OlwiKSB8fCBzZWN0aW9uLmluY2x1ZGVzKFwia25vd2xlZGdlIGFsaWdubWVudDpcIikgfHwgc2VjdGlvbi5pbmNsdWRlcyhcIlJlc291cmNlIFBsYW5uaW5nOlwiKSkpIHtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBFeHRyYWN0IHNjb3JlcyAoYXNzdW1pbmcgdGhleSdyZSBpbiB0aGUgZm9ybWF0IFwiU2NvcmU6IFhcIiBvciBcIlNjb3JlOiBYIChjb21tZW50KVwiKVxuICAgICAgICAgIGNvbnN0IHNwZWNpZmljaXR5TWF0Y2ggPSBzZWN0aW9uLm1hdGNoKC9TcGVjaWZpY2l0eTpcXHMqKFxcZCspL2kpO1xuICAgICAgICAgIGNvbnN0IGtub3dsZWRnZU1hdGNoID0gc2VjdGlvbi5tYXRjaCgvS25vd2xlZGdlXFxzK0FsaWdubWVudDpcXHMqKFxcZCspL2kpO1xuICAgICAgICAgIGNvbnN0IHJlc291cmNlTWF0Y2ggPSBzZWN0aW9uLm1hdGNoKC9SZXNvdXJjZVxccytQbGFubmluZzpcXHMqKFxcZCspL2kpO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHNwZWNpZmljaXR5U2NvcmUgPSBzcGVjaWZpY2l0eU1hdGNoID8gcGFyc2VJbnQoc3BlY2lmaWNpdHlNYXRjaFsxXSkgOiAwO1xuICAgICAgICAgIGNvbnN0IGtub3dsZWRnZVNjb3JlID0ga25vd2xlZGdlTWF0Y2ggPyBwYXJzZUludChrbm93bGVkZ2VNYXRjaFsxXSkgOiAwO1xuICAgICAgICAgIGNvbnN0IHJlc291cmNlU2NvcmUgPSByZXNvdXJjZU1hdGNoID8gcGFyc2VJbnQocmVzb3VyY2VNYXRjaFsxXSkgOiAwO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGF2Z1Njb3JlID0gKChzcGVjaWZpY2l0eVNjb3JlICsga25vd2xlZGdlU2NvcmUgKyByZXNvdXJjZVNjb3JlKSAvIDMpLnRvRml4ZWQoMSk7XG4gICAgICAgICAgY29uc3QgYXZnU2NvcmVOdW0gPSBwYXJzZUZsb2F0KGF2Z1Njb3JlKTtcbiAgICAgICAgICBjb25zdCBzdXBwb3J0TGV2ZWwgPSBhdmdTY29yZU51bSA8IDEuNSA/IFwiSElHSFwiIDogYXZnU2NvcmVOdW0gPCAyLjUgPyBcIk1FRElVTVwiIDogXCJMT1dcIjtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDcmVhdGUgZW5oYW5jZWQgZXZhbHVhdGlvbiBIVE1MIHdpdGggY29sb3IgY29kaW5nIGFuZCBwcm9ncmVzcyBiYXJzXG4gICAgICAgICAgY29uc3QgZW5oYW5jZWRFdmFsdWF0aW9uID0gYFxuIyMg8J+TiiBMZWFybmluZyBQcm9ncmVzcyBFdmFsdWF0aW9uXG5cbnwgQ3JpdGVyaWEgfCBTY29yZSB8IEZlZWRiYWNrIHwgSG93IHRvIEltcHJvdmUgfFxufC0tLS0tLS0tLS18LS0tLS0tLXwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLXxcbnwgKipTcGVjaWZpY2l0eSoqIHwgXFxgJHtzcGVjaWZpY2l0eVNjb3JlfS8zXFxgIHwgJHtnZXRQcm9ncmVzc0JhcihzcGVjaWZpY2l0eVNjb3JlKX0gfCAke2dldEltcHJvdmVtZW50VGlwKFwiU3BlY2lmaWNpdHlcIiwgc3BlY2lmaWNpdHlTY29yZSl9IHxcbnwgKipLbm93bGVkZ2UgQWxpZ25tZW50KiogfCBcXGAke2tub3dsZWRnZVNjb3JlfS8zXFxgIHwgJHtnZXRQcm9ncmVzc0Jhcihrbm93bGVkZ2VTY29yZSl9IHwgJHtnZXRJbXByb3ZlbWVudFRpcChcIktub3dsZWRnZSBBbGlnbm1lbnRcIiwga25vd2xlZGdlU2NvcmUpfSB8XG58ICoqUmVzb3VyY2UgUGxhbm5pbmcqKiB8IFxcYCR7cmVzb3VyY2VTY29yZX0vM1xcYCB8ICR7Z2V0UHJvZ3Jlc3NCYXIocmVzb3VyY2VTY29yZSl9IHwgJHtnZXRJbXByb3ZlbWVudFRpcChcIlJlc291cmNlIFBsYW5uaW5nXCIsIHJlc291cmNlU2NvcmUpfSB8XG5cbioqT3ZlcmFsbCBQcm9ncmVzczoqKiAke2dldFByb2dyZXNzQmFyKHBhcnNlRmxvYXQoYXZnU2NvcmUpKX0gXFxgJHthdmdTY29yZX0vM1xcYFxuXG4ke2dldFN1cHBvcnRNZXNzYWdlKHN1cHBvcnRMZXZlbCwgcGFyc2VGbG9hdChhdmdTY29yZSkpfVxuYDtcbiAgICAgICAgICBzZWN0aW9uc1tpXSA9IGVuaGFuY2VkRXZhbHVhdGlvbjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZWNvbnN0cnVjdCB0aGUgY29udGVudCB3aXRoIGVuaGFuY2VkIGV2YWx1YXRpb25cbiAgICAgIHJldHVybiBzZWN0aW9ucy5qb2luKFwiXFxuXFxuXCIpO1xuICAgIH1cblxuICAgIC8vIElmIG5vIGV2YWx1YXRpb24gc2VjdGlvbiBmb3VuZCwganVzdCBjbGVhbiBhcyBiZWZvcmVcbiAgICAvLyBSZW1vdmUgYW55dGhpbmcgaW4gc3F1YXJlIGJyYWNrZXRzIHRoYXQgY29udGFpbnMgZXZhbHVhdGlvbiBpbmZvcm1hdGlvblxuICAgIGNvbnN0IHBhdHRlcm5zID0gW1xuICAgICAgL1xcWyg/Ok5vdGV8RXZhbHVhdGlvbik6W15cXF1dK1xcXS9nLFxuICAgICAgL1xcWy4qPyg/OnNjb3JlfFNjb3JlfGV2YWx1YXRpb258RXZhbHVhdGlvbnxzdXBwb3J0IGxldmVsfFNVUFBPUlQpLio/XFxdL2csIFxuICAgICAgL1xcW1xccyooPzpBbGlnbm1lbnR8VGltZWZyYW1lfE1lYXN1cmFiaWxpdHl8T3ZlcmFsbCBTY29yZXxBdmVyYWdlIFNjb3JlKS4qP1xcXS9nLFxuICAgICAgL1xcWy4qPyg/OkhJR0h8TUVESVVNfExPVylcXHMrc3VwcG9ydC4qP1xcXS9naVxuICAgIF07XG5cbiAgICBsZXQgY2xlYW5lZENvbnRlbnQgPSBjb250ZW50O1xuICAgIHBhdHRlcm5zLmZvckVhY2gocGF0dGVybiA9PiB7XG4gICAgICBjbGVhbmVkQ29udGVudCA9IGNsZWFuZWRDb250ZW50LnJlcGxhY2UocGF0dGVybiwgJycpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNsZWFuZWRDb250ZW50LnRyaW0oKTtcbiAgfVxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSBwcm9ncmVzcyBiYXJzIGZvciBzY29yZXNcbiAgY29uc3QgZ2V0UHJvZ3Jlc3NCYXIgPSAoc2NvcmU6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgLy8gQ3JlYXRlIGEgdmlzdWFsIHByb2dyZXNzIGJhclxuICAgIGxldCBiYXIgPSBcIlwiO1xuICAgIGNvbnN0IGZ1bGxDb2xvciA9IHNjb3JlIDwgMS4yID8gXCLwn5S0XCIgOiBzY29yZSA8IDIuMiA/IFwi8J+foFwiIDogXCLwn5+iXCI7XG4gICAgY29uc3QgZW1wdHlDb2xvciA9IFwi4pqqXCI7XG4gICAgXG4gICAgLy8gQ29udmVydCBzY29yZSB0byBmaWxsZWQgY2lyY2xlcyAobWF4IDMpXG4gICAgY29uc3QgZmlsbGVkID0gTWF0aC5yb3VuZChzY29yZSk7XG4gICAgY29uc3QgZW1wdHkgPSAzIC0gZmlsbGVkO1xuICAgIFxuICAgIGJhciA9IGZ1bGxDb2xvci5yZXBlYXQoZmlsbGVkKSArIGVtcHR5Q29sb3IucmVwZWF0KGVtcHR5KTtcbiAgICBcbiAgICByZXR1cm4gYmFyO1xuICB9XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGltcHJvdmVtZW50IHRpcHMgZm9yIGVhY2ggY3JpdGVyaW9uXG4gIGNvbnN0IGdldEltcHJvdmVtZW50VGlwID0gKGNyaXRlcmlvbjogc3RyaW5nLCBzY29yZTogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgICAvLyBQaGFzZS1zcGVjaWZpYyBpbXByb3ZlbWVudCB0aXBzXG4gICAgY29uc3QgcGhhc2VTcGVjaWZpY1RpcHM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIFJlY29yZDxudW1iZXIsIHN0cmluZz4+Pj4gPSB7XG4gICAgICBwaGFzZTE6IHtcbiAgICAgICAgZ2VuZXJhbDoge1xuICAgICAgICAgIFNwZWNpZmljaXR5OiB7XG4gICAgICAgICAgICAxOiBcIkRlZmluZSB3aGF0IHNwZWNpZmljIGFzcGVjdHMgb2YgU1JMIHlvdSB3YW50IHRvIHVuZGVyc3RhbmRcIixcbiAgICAgICAgICAgIDI6IFwiU2V0IGNsZWFyIGdvYWxzIGZvciBob3cgU1JMIHdpbGwgYmVuZWZpdCB5b3VyIGxlYXJuaW5nXCIsXG4gICAgICAgICAgICAzOiBcIllvdXIgU1JMIGxlYXJuaW5nIGdvYWxzIGFyZSB3ZWxsLWRlZmluZWRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJLbm93bGVkZ2UgQWxpZ25tZW50XCI6IHtcbiAgICAgICAgICAgIDE6IFwiQ29ubmVjdCBTUkwgY29uY2VwdHMgdG8geW91ciBjdXJyZW50IGxlYXJuaW5nIGV4cGVyaWVuY2VzXCIsXG4gICAgICAgICAgICAyOiBcIklkZW50aWZ5IHdoaWNoIFNSTCBzdHJhdGVnaWVzIG1hdGNoIHlvdXIgbGVhcm5pbmcgc3R5bGVcIixcbiAgICAgICAgICAgIDM6IFwiWW91ciBTUkwgZ29hbHMgYWxpZ24gd2VsbCB3aXRoIHlvdXIgYmFja2dyb3VuZFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIlJlc291cmNlIFBsYW5uaW5nXCI6IHtcbiAgICAgICAgICAgIDE6IFwiRmluZCBzcGVjaWZpYyBTUkwgcmVzb3VyY2VzIHJlbGV2YW50IHRvIHlvdXIgZmllbGRcIixcbiAgICAgICAgICAgIDI6IFwiQ3JlYXRlIGEgcGxhbiB0byBpbXBsZW1lbnQgU1JMIGluIHlvdXIgZGFpbHkgc3R1ZHlpbmdcIixcbiAgICAgICAgICAgIDM6IFwiWW91ciBTUkwgcmVzb3VyY2UgcGxhbm5pbmcgaXMgY29tcHJlaGVuc2l2ZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGhhc2UyOiB7XG4gICAgICAgIGdlbmVyYWw6IHtcbiAgICAgICAgICBTcGVjaWZpY2l0eToge1xuICAgICAgICAgICAgMTogXCJEZWZpbmUgY29uY3JldGUgbGVhcm5pbmcgb2JqZWN0aXZlcyBmb3IgeW91ciBwc3ljaG9sb2d5IHN0dWRpZXNcIixcbiAgICAgICAgICAgIDI6IFwiQWRkIHNwZWNpZmljIHBzeWNob2xvZ3kgc3ViLWZpZWxkcyBhbmQgdGhlb3JpZXMgdG8gZm9jdXMgb25cIixcbiAgICAgICAgICAgIDM6IFwiWW91ciBwc3ljaG9sb2d5IGxlYXJuaW5nIGdvYWxzIGFyZSB3ZWxsLWRlZmluZWRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJLbm93bGVkZ2UgQWxpZ25tZW50XCI6IHtcbiAgICAgICAgICAgIDE6IFwiQ29ubmVjdCBwc3ljaG9sb2d5IGdvYWxzIHRvIHlvdXIgY3VycmVudCBrbm93bGVkZ2UgbGV2ZWxcIixcbiAgICAgICAgICAgIDI6IFwiSWRlbnRpZnkgd2hpY2ggcHN5Y2hvbG9neSBjb25jZXB0cyB5b3UgbmVlZCB0byByZXZpZXcgZmlyc3RcIixcbiAgICAgICAgICAgIDM6IFwiWW91ciBwc3ljaG9sb2d5IGdvYWxzIGFsaWduIHdlbGwgd2l0aCB5b3VyIGJhY2tncm91bmRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJSZXNvdXJjZSBQbGFubmluZ1wiOiB7XG4gICAgICAgICAgICAxOiBcIklkZW50aWZ5IHNwZWNpZmljIHBzeWNob2xvZ3kgdGV4dGJvb2tzLCBjb3Vyc2VzIG9yIHJlc291cmNlc1wiLFxuICAgICAgICAgICAgMjogXCJTdHJ1Y3R1cmUgcHN5Y2hvbG9neSByZXNvdXJjZXMgYnkgdG9waWMgaW1wb3J0YW5jZVwiLFxuICAgICAgICAgICAgMzogXCJZb3VyIHBzeWNob2xvZ3kgcmVzb3VyY2UgcGxhbm5pbmcgaXMgY29tcHJlaGVuc2l2ZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGhhc2UzOiB7XG4gICAgICAgIGdlbmVyYWw6IHtcbiAgICAgICAgICBTcGVjaWZpY2l0eToge1xuICAgICAgICAgICAgMTogXCJCcmVhayB5b3VyIGNvbXBsZXggbGVhcm5pbmcgZ29hbCBpbnRvIHNtYWxsZXIgb2JqZWN0aXZlc1wiLFxuICAgICAgICAgICAgMjogXCJEZWZpbmUgc3BlY2lmaWMgbWlsZXN0b25lcyBmb3IgeW91ciBsZWFybmluZyBqb3VybmV5XCIsXG4gICAgICAgICAgICAzOiBcIllvdXIgbGVhcm5pbmcgYnJlYWtkb3duIGlzIGNsZWFyIGFuZCBhY3Rpb25hYmxlXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiS25vd2xlZGdlIEFsaWdubWVudFwiOiB7XG4gICAgICAgICAgICAxOiBcIklkZW50aWZ5IHByZXJlcXVpc2l0ZSBrbm93bGVkZ2UgbmVlZGVkIGZvciBlYWNoIHN1Yi1nb2FsXCIsXG4gICAgICAgICAgICAyOiBcIk1hcCBkZXBlbmRlbmNpZXMgYmV0d2VlbiBkaWZmZXJlbnQgbGVhcm5pbmcgY29tcG9uZW50c1wiLFxuICAgICAgICAgICAgMzogXCJZb3VyIGxlYXJuaW5nIGNvbXBvbmVudHMgYXJlIHdlbGwtYWxpZ25lZCB3aXRoIHlvdXIga25vd2xlZGdlXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiUmVzb3VyY2UgUGxhbm5pbmdcIjoge1xuICAgICAgICAgICAgMTogXCJBc3NpZ24gc3BlY2lmaWMgcmVzb3VyY2VzIHRvIGVhY2ggbGVhcm5pbmcgY29tcG9uZW50XCIsXG4gICAgICAgICAgICAyOiBcIkNyZWF0ZSBhIHJvYWRtYXAgc2hvd2luZyB3aGVuIHRvIHVzZSBlYWNoIHJlc291cmNlXCIsXG4gICAgICAgICAgICAzOiBcIllvdXIgcmVzb3VyY2UgYWxsb2NhdGlvbiBpcyBjb21wcmVoZW5zaXZlIGFuZCBlZmZpY2llbnRcIlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBoYXNlNDoge1xuICAgICAgICBsb25nX3Rlcm1fZ29hbHM6IHtcbiAgICAgICAgICBTcGVjaWZpY2l0eToge1xuICAgICAgICAgICAgMTogXCJEZWZpbmUgeW91ciBsb25nLXRlcm0gbGVhcm5pbmcgZ29hbHMgd2l0aCBjbGVhciBvdXRjb21lc1wiLFxuICAgICAgICAgICAgMjogXCJBZGQgc3BlY2lmaWMgdGltZWZyYW1lcyBhbmQgc3VjY2VzcyBjcml0ZXJpYSB0byB5b3VyIGdvYWxzXCIsXG4gICAgICAgICAgICAzOiBcIllvdXIgbG9uZy10ZXJtIGdvYWxzIGFyZSBjb21wcmVoZW5zaXZlIGFuZCBzcGVjaWZpY1wiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIktub3dsZWRnZSBBbGlnbm1lbnRcIjoge1xuICAgICAgICAgICAgMTogXCJDb25uZWN0IGxvbmctdGVybSBnb2FscyB0byB5b3VyIGNhcmVlciBvciBwZXJzb25hbCBhc3BpcmF0aW9uc1wiLFxuICAgICAgICAgICAgMjogXCJNYXAgaG93IHRoZXNlIGdvYWxzIGJ1aWxkIG9uIHlvdXIgZXhpc3Rpbmcga25vd2xlZGdlXCIsXG4gICAgICAgICAgICAzOiBcIllvdXIgbG9uZy10ZXJtIGdvYWxzIGFsaWduIHBlcmZlY3RseSB3aXRoIHlvdXIgdHJhamVjdG9yeVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIlJlc291cmNlIFBsYW5uaW5nXCI6IHtcbiAgICAgICAgICAgIDE6IFwiSWRlbnRpZnkgbG9uZy10ZXJtIHJlc291cmNlcyBhbmQgdG9vbHMgeW91J2xsIG5lZWRcIixcbiAgICAgICAgICAgIDI6IFwiQ3JlYXRlIGEgc3VzdGFpbmFibGUgcmVzb3VyY2UgYWNxdWlzaXRpb24gdGltZWxpbmVcIixcbiAgICAgICAgICAgIDM6IFwiWW91ciBsb25nLXRlcm0gcmVzb3VyY2UgcGxhbm5pbmcgaXMgcm9idXN0IGFuZCBjb21wbGV0ZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzaG9ydF90ZXJtX2dvYWxzOiB7XG4gICAgICAgICAgU3BlY2lmaWNpdHk6IHtcbiAgICAgICAgICAgIDE6IFwiQ3JlYXRlIFNNQVJUIGdvYWxzIHdpdGggbWVhc3VyYWJsZSBvdXRjb21lc1wiLFxuICAgICAgICAgICAgMjogXCJEZWZpbmUgd2Vla2x5IG9yIG1vbnRobHkgbGVhcm5pbmcgb2JqZWN0aXZlc1wiLFxuICAgICAgICAgICAgMzogXCJZb3VyIHNob3J0LXRlcm0gZ29hbHMgYXJlIGNsZWFyIGFuZCBhY3Rpb25hYmxlXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiS25vd2xlZGdlIEFsaWdubWVudFwiOiB7XG4gICAgICAgICAgICAxOiBcIkxpbmsgc2hvcnQtdGVybSBnb2FscyB0byBidWlsZCB0b3dhcmQgeW91ciBsb25nLXRlcm0gdmlzaW9uXCIsXG4gICAgICAgICAgICAyOiBcIklkZW50aWZ5IHF1aWNrIHdpbnMgYmFzZWQgb24geW91ciBjdXJyZW50IGtub3dsZWRnZVwiLFxuICAgICAgICAgICAgMzogXCJZb3VyIHNob3J0LXRlcm0gZ29hbHMgZWZmZWN0aXZlbHkgbGV2ZXJhZ2UgeW91ciBiYWNrZ3JvdW5kXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiUmVzb3VyY2UgUGxhbm5pbmdcIjoge1xuICAgICAgICAgICAgMTogXCJMaXN0IHNwZWNpZmljIHJlc291cmNlcyBuZWVkZWQgZm9yIGltbWVkaWF0ZSBsZWFybmluZ1wiLFxuICAgICAgICAgICAgMjogXCJTY2hlZHVsZSBzcGVjaWZpYyB0aW1lcyB0byB1c2UgZWFjaCByZXNvdXJjZVwiLFxuICAgICAgICAgICAgMzogXCJZb3VyIHNob3J0LXRlcm0gcmVzb3VyY2UgcGxhbm5pbmcgaXMgZGV0YWlsZWQgYW5kIHByYWN0aWNhbFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb250aW5nZW5jeV9zdHJhdGVnaWVzOiB7XG4gICAgICAgICAgU3BlY2lmaWNpdHk6IHtcbiAgICAgICAgICAgIDE6IFwiSWRlbnRpZnkgc3BlY2lmaWMgb2JzdGFjbGVzIHRoYXQgbWlnaHQgb2NjdXJcIixcbiAgICAgICAgICAgIDI6IFwiQ3JlYXRlIGRldGFpbGVkIGlmLXRoZW4gY29udGluZ2VuY3kgcGxhbnNcIixcbiAgICAgICAgICAgIDM6IFwiWW91ciBjb250aW5nZW5jeSBwbGFubmluZyBpcyB0aG9yb3VnaCBhbmQgc3BlY2lmaWNcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJLbm93bGVkZ2UgQWxpZ25tZW50XCI6IHtcbiAgICAgICAgICAgIDE6IFwiQW5hbHl6ZSBwYXN0IGxlYXJuaW5nIGNoYWxsZW5nZXMgdG8gcHJlcGFyZSBiZXR0ZXJcIixcbiAgICAgICAgICAgIDI6IFwiQWRhcHQgc3RyYXRlZ2llcyBiYXNlZCBvbiB5b3VyIGxlYXJuaW5nIHN0cmVuZ3Rocy93ZWFrbmVzc2VzXCIsXG4gICAgICAgICAgICAzOiBcIllvdXIgY29udGluZ2VuY3kgcGxhbnMgYXJlIHBlcmZlY3RseSBhbGlnbmVkIHdpdGggeW91ciBuZWVkc1wiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIlJlc291cmNlIFBsYW5uaW5nXCI6IHtcbiAgICAgICAgICAgIDE6IFwiSWRlbnRpZnkgYmFja3VwIHJlc291cmNlcyBmb3IgZWFjaCBtYWpvciBsZWFybmluZyBnb2FsXCIsXG4gICAgICAgICAgICAyOiBcIkNyZWF0ZSBhIGZsZXhpYmxlIHNjaGVkdWxlIHRoYXQgYWNjb21tb2RhdGVzIHNldGJhY2tzXCIsXG4gICAgICAgICAgICAzOiBcIllvdXIgYmFja3VwIHJlc291cmNlIHBsYW5uaW5nIGlzIGNvbXByZWhlbnNpdmVcIlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBoYXNlNToge1xuICAgICAgICBnZW5lcmFsOiB7XG4gICAgICAgICAgU3BlY2lmaWNpdHk6IHtcbiAgICAgICAgICAgIDE6IFwiRGVmaW5lIHNwZWNpZmljIG1vbml0b3JpbmcgaW50ZXJ2YWxzIGFuZCByZXZpZXcgcG9pbnRzXCIsXG4gICAgICAgICAgICAyOiBcIkNyZWF0ZSBtZWFzdXJhYmxlIHByb2dyZXNzIGluZGljYXRvcnMgZm9yIGVhY2ggZ29hbFwiLFxuICAgICAgICAgICAgMzogXCJZb3VyIG1vbml0b3JpbmcgYXBwcm9hY2ggaXMgZGV0YWlsZWQgYW5kIHN5c3RlbWF0aWNcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJLbm93bGVkZ2UgQWxpZ25tZW50XCI6IHtcbiAgICAgICAgICAgIDE6IFwiQ29ubmVjdCBtb25pdG9yaW5nIHN0cmF0ZWdpZXMgdG8geW91ciBsZWFybmluZyBzdHlsZVwiLFxuICAgICAgICAgICAgMjogXCJEZXNpZ24gc2VsZi1hc3Nlc3NtZW50cyB0aGF0IHRhcmdldCB5b3VyIHdlYWsgYXJlYXNcIixcbiAgICAgICAgICAgIDM6IFwiWW91ciBtb25pdG9yaW5nIGFwcHJvYWNoIGFsaWducyBwZXJmZWN0bHkgd2l0aCB5b3VyIG5lZWRzXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiUmVzb3VyY2UgUGxhbm5pbmdcIjoge1xuICAgICAgICAgICAgMTogXCJJZGVudGlmeSB0b29scyB0byB0cmFjayBwcm9ncmVzcyAoam91cm5hbHMsIGFwcHMsIGV0Yy4pXCIsXG4gICAgICAgICAgICAyOiBcIlNjaGVkdWxlIHJlZ3VsYXIgcmVmbGVjdGlvbiBhbmQgYWRqdXN0bWVudCB0aW1lc1wiLFxuICAgICAgICAgICAgMzogXCJZb3VyIG1vbml0b3JpbmcgcmVzb3VyY2UgcGxhbm5pbmcgaXMgY29tcHJlaGVuc2l2ZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEdldCBwaGFzZS1zcGVjaWZpYyB0aXAgaWYgYXZhaWxhYmxlXG4gICAgaWYgKHBoYXNlICYmIGNvbXBvbmVudCAmJiBcbiAgICAgICAgcGhhc2VTcGVjaWZpY1RpcHNbcGhhc2VdICYmIFxuICAgICAgICBwaGFzZVNwZWNpZmljVGlwc1twaGFzZV1bY29tcG9uZW50XSAmJiBcbiAgICAgICAgcGhhc2VTcGVjaWZpY1RpcHNbcGhhc2VdW2NvbXBvbmVudF1bY3JpdGVyaW9uXSAmJiBcbiAgICAgICAgcGhhc2VTcGVjaWZpY1RpcHNbcGhhc2VdW2NvbXBvbmVudF1bY3JpdGVyaW9uXVtzY29yZV0pIHtcbiAgICAgIHJldHVybiBwaGFzZVNwZWNpZmljVGlwc1twaGFzZV1bY29tcG9uZW50XVtjcml0ZXJpb25dW3Njb3JlXTtcbiAgICB9XG4gICAgXG4gICAgLy8gRmFsbCBiYWNrIHRvIGdlbmVyYWwgdGlwcyBpZiBwaGFzZS1zcGVjaWZpYyBvbmVzIGFyZW4ndCBhdmFpbGFibGVcbiAgICBpZiAoY3JpdGVyaW9uID09PSBcIlNwZWNpZmljaXR5XCIpIHtcbiAgICAgIGlmIChzY29yZSA8PSAxKSByZXR1cm4gXCJEZWZpbmUgY29uY3JldGUgbGVhcm5pbmcgb2JqZWN0aXZlcyB3aXRoIG1lYXN1cmFibGUgb3V0Y29tZXNcIjtcbiAgICAgIGlmIChzY29yZSA8PSAyKSByZXR1cm4gXCJBZGQgdGltZWZyYW1lcyBhbmQgc3BlY2lmaWMgdG9waWNzIHRvIHlvdXIgZ29hbHNcIjtcbiAgICAgIHJldHVybiBcIllvdXIgZ29hbHMgYXJlIHdlbGwtZGVmaW5lZCBhbmQgc3BlY2lmaWNcIjtcbiAgICB9XG4gICAgXG4gICAgaWYgKGNyaXRlcmlvbiA9PT0gXCJLbm93bGVkZ2UgQWxpZ25tZW50XCIpIHtcbiAgICAgIGlmIChzY29yZSA8PSAxKSByZXR1cm4gXCJDb25uZWN0IGdvYWxzIHRvIHlvdXIgY3VycmVudCBrbm93bGVkZ2UgbGV2ZWwgYW5kIGJhY2tncm91bmRcIjtcbiAgICAgIGlmIChzY29yZSA8PSAyKSByZXR1cm4gXCJJZGVudGlmeSBrbm93bGVkZ2UgZ2FwcyBhbmQgcHJlcmVxdWlzaXRlcyBtb3JlIGNsZWFybHlcIjtcbiAgICAgIHJldHVybiBcIllvdXIgZ29hbHMgYWxpZ24gd2VsbCB3aXRoIHlvdXIga25vd2xlZGdlIGJhY2tncm91bmRcIjtcbiAgICB9XG4gICAgXG4gICAgaWYgKGNyaXRlcmlvbiA9PT0gXCJSZXNvdXJjZSBQbGFubmluZ1wiKSB7XG4gICAgICBpZiAoc2NvcmUgPD0gMSkgcmV0dXJuIFwiSWRlbnRpZnkgc3BlY2lmaWMgbWF0ZXJpYWxzLCB0b29scyBhbmQgbWVudG9ycyB5b3UnbGwgbmVlZFwiO1xuICAgICAgaWYgKHNjb3JlIDw9IDIpIHJldHVybiBcIkNyZWF0ZSBhIHN0cnVjdHVyZWQgcmVzb3VyY2Ugcm9hZG1hcCB3aXRoIGFsdGVybmF0aXZlc1wiO1xuICAgICAgcmV0dXJuIFwiWW91ciByZXNvdXJjZSBwbGFubmluZyBpcyBjb21wcmVoZW5zaXZlXCI7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgbW90aXZhdGlvbmFsIG1lc3NhZ2VzIGJhc2VkIG9uIHN1cHBvcnQgbGV2ZWxcbiAgY29uc3QgZ2V0U3VwcG9ydE1lc3NhZ2UgPSAoc3VwcG9ydExldmVsOiBzdHJpbmcsIHNjb3JlOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIGlmIChzdXBwb3J0TGV2ZWwgPT09IFwiSElHSFwiKSB7XG4gICAgICByZXR1cm4gYD4g8J+SqiAqKk9wcG9ydHVuaXR5IGZvciBHcm93dGgqKjogWW91J3JlIGF0IHRoZSBiZWdpbm5pbmcgb2YgeW91ciBsZWFybmluZyBqb3VybmV5ISBXaXRoIG1vcmUgc3BlY2lmaWMgZ29hbHMgYW5kIHJlc291cmNlIHBsYW5uaW5nLCB5b3UnbGwgc2VlIHJhcGlkIGltcHJvdmVtZW50LiBXaGF0IHNwZWNpZmljIGFzcGVjdCB3b3VsZCB5b3UgbGlrZSB0byBjbGFyaWZ5IGZpcnN0P2A7XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0TGV2ZWwgPT09IFwiTUVESVVNXCIpIHtcbiAgICAgIHJldHVybiBgPiDwn4yxICoqQnVpbGRpbmcgTW9tZW50dW0qKjogWW91J3JlIG1ha2luZyBnb29kIHByb2dyZXNzISBXaXRoIHNvbWUgcmVmaW5lbWVudCBvZiB5b3VyIGxlYXJuaW5nIG9iamVjdGl2ZXMgYW5kIHJlc291cmNlcywgeW91J2xsIGJlIHdlbGwgb24geW91ciB3YXkgdG8gbWFzdGVyeS4gV2hhdCBzcGVjaWZpYyBlbGVtZW50IHdvdWxkIHlvdSBsaWtlIHRvIHN0cmVuZ3RoZW4gbmV4dD9gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYD4g8J+MnyAqKlN0cm9uZyBGb3VuZGF0aW9uKio6IEV4Y2VsbGVudCB3b3JrIHN0cnVjdHVyaW5nIHlvdXIgbGVhcm5pbmcgYXBwcm9hY2ghIFlvdSBoYXZlIHdlbGwtZGVmaW5lZCBvYmplY3RpdmVzIGFuZCByZXNvdXJjZXMuIExldCdzIGZvY3VzIG9uIG9wdGltaXppbmcgeW91ciBsZWFybmluZyBzdHJhdGVneSBmb3IgZXZlbiBiZXR0ZXIgcmVzdWx0cyFgO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIGhhbmRsZVNlbmRNZXNzYWdlKClcbiAgICB9XG4gIH1cblxuICBjb25zdCBhZGRCb3RNZXNzYWdlID0gKFxuICAgIGNvbnRlbnQ6IHN0cmluZyB8IFJlYWN0Tm9kZSwgXG4gICAgdHlwZTogXCJ0ZXh0XCIgfCBcInZpZGVvXCIgfCBcInF1aXpcIiB8IFwiYWN0aXZpdHlcIiB8IFwiZmVlZGJhY2tcIiB8IFwic3VtbWFyeVwiIHwgXCJzY2FmZm9sZFwiID0gXCJ0ZXh0XCIsXG4gICAgc2hvd0NvbnRpbnVlID0gZmFsc2UsXG4gICAgc2NhZmZvbGRPcHRpb25zPzoge1xuICAgICAgc3RlcD86IG51bWJlcixcbiAgICAgIHRvdGFsU3RlcHM/OiBudW1iZXIsXG4gICAgICBoaW50Pzogc3RyaW5nLFxuICAgICAgY2hhcmFjdGVyTGltaXQ/OiBudW1iZXJcbiAgICB9XG4gICkgPT4ge1xuICAgIGNvbnN0IG5ld01lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgIHNlbmRlcjogXCJib3RcIixcbiAgICAgIGNvbnRlbnQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB0eXBlLFxuICAgICAgc2hvd0NvbnRpbnVlOiBhbHdheXNTaG93Q29udGludWUgfHwgc2hvd0NvbnRpbnVlLFxuICAgICAgc2NhZmZvbGRTdGVwOiBzY2FmZm9sZE9wdGlvbnM/LnN0ZXAsXG4gICAgICBzY2FmZm9sZFRvdGFsU3RlcHM6IHNjYWZmb2xkT3B0aW9ucz8udG90YWxTdGVwcyxcbiAgICAgIHNjYWZmb2xkSGludDogc2NhZmZvbGRPcHRpb25zPy5oaW50LFxuICAgICAgY2hhcmFjdGVyTGltaXQ6IHNjYWZmb2xkT3B0aW9ucz8uY2hhcmFjdGVyTGltaXQsXG4gICAgICBuZXh0X3BoYXNlOiBnZXROZXh0UGhhc2VJblNlcXVlbmNlKHBoYXNlKVxuICAgIH1cbiAgICBcbiAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdNZXNzYWdlXSlcbiAgfVxuXG4gIGNvbnN0IHNpbXVsYXRlQm90VHlwaW5nID0gKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgc2V0SXNUeXBpbmcodHJ1ZSlcblxuICAgIC8vIEFkZCB0eXBpbmcgaW5kaWNhdG9yXG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFtcbiAgICAgIC4uLnByZXYsXG4gICAgICB7XG4gICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICBzZW5kZXI6IFwiYm90XCIsXG4gICAgICAgIGNvbnRlbnQ6IFwidHlwaW5nLi4uXCIsXG4gICAgICAgIGlzVHlwaW5nOiB0cnVlLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgIF0pXG5cbiAgICAvLyBTaW11bGF0ZSB0eXBpbmcgZGVsYXlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIFJlbW92ZSB0eXBpbmcgaW5kaWNhdG9yXG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gcHJldi5maWx0ZXIoKG1zZykgPT4gIW1zZy5pc1R5cGluZykpXG5cbiAgICAgIC8vIEV4ZWN1dGUgY2FsbGJhY2tcbiAgICAgIGNhbGxiYWNrKClcblxuICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpXG4gICAgfSwgMTUwMClcbiAgfVxuXG4gIGNvbnN0IHN0YXJ0VGhpbmtpbmdBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgc2V0SXNUeXBpbmcodHJ1ZSlcbiAgICBsZXQgY291bnQgPSAwXG4gICAgXG4gICAgLy8gQmFzZSB0aGlua2luZyB0ZXh0cyB0aGF0IGFwcGx5IHRvIGFsbCBwaGFzZXNcbiAgICBjb25zdCBiYXNlVGhpbmtpbmdUZXh0cyA9IFtcbiAgICAgIFwiU29MQm90IGlzIHRoaW5raW5nXCJcbiAgICBdXG4gICAgXG4gICAgLy8gUGhhc2Utc3BlY2lmaWMgdGhpbmtpbmcgdGV4dHNcbiAgICBjb25zdCBwaGFzZVRoaW5raW5nVGV4dHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPiA9IHtcbiAgICAgIGludHJvOiBbXG4gICAgICAgIFwiR2V0dGluZyB0byBrbm93IHlvdSBiZXR0ZXJcIixcbiAgICAgICAgXCJQcmVwYXJpbmcgeW91ciBsZWFybmluZyBqb3VybmV5XCIsXG4gICAgICAgIFwiQ3VzdG9taXppbmcgbXkgYXBwcm9hY2ggZm9yIHlvdVwiXG4gICAgICBdLFxuICAgICAgcGhhc2UxOiBbXG4gICAgICAgIFwiUmV2aWV3aW5nIG1vdGl2YXRpb24gZmFjdG9yc1wiLFxuICAgICAgICBcIkNvbnNpZGVyaW5nIHlvdXIgbGVhcm5pbmcgZ29hbHNcIixcbiAgICAgICAgXCJQcmVwYXJpbmcgZ29hbCBhbGlnbm1lbnQgcmVzcG9uc2VcIlxuICAgICAgXSxcbiAgICAgIHBoYXNlMjogW1xuICAgICAgICBcIkFuYWx5emluZyBsZWFybmluZyBvYmplY3RpdmVzXCIsXG4gICAgICAgIFwiRXZhbHVhdGluZyByZXNvdXJjZSBzZWxlY3Rpb25cIixcbiAgICAgICAgXCJBcHBseWluZyBhcHByb3ByaWF0ZSBzY2FmZm9sZGluZ1wiXG4gICAgICBdLFxuICAgICAgcGhhc2U0OiBbXG4gICAgICAgIFwiQXNzZXNzaW5nIGdvYWwtc2V0dGluZyBzdHJhdGVneVwiLFxuICAgICAgICBcIkNvbnNpZGVyaW5nIHRpbWUgbWFuYWdlbWVudCBhcHByb2FjaFwiLFxuICAgICAgICBcIkV2YWx1YXRpbmcgcGxhbm5pbmcgZWZmZWN0aXZlbmVzc1wiXG4gICAgICBdLFxuICAgICAgcGhhc2U1OiBbXG4gICAgICAgIFwiQW5hbHl6aW5nIHJlZmxlY3Rpb24gZGVwdGhcIixcbiAgICAgICAgXCJDb25zaWRlcmluZyBpbXByb3ZlbWVudCBzdHJhdGVnaWVzXCIsXG4gICAgICAgIFwiRXZhbHVhdGluZyBsZWFybmluZyB0cmFuc2ZlclwiXG4gICAgICBdLFxuICAgICAgc3VtbWFyeTogW1xuICAgICAgICBcIlN5bnRoZXNpemluZyBsZWFybmluZyBqb3VybmV5XCIsXG4gICAgICAgIFwiUHJlcGFyaW5nIGNvbXByZWhlbnNpdmUgc3VtbWFyeVwiLFxuICAgICAgICBcIkNvbm5lY3RpbmcgbGVhcm5pbmcgbWlsZXN0b25lc1wiXG4gICAgICBdXG4gICAgfVxuICAgIFxuICAgIC8vIENvbWJpbmUgYmFzZSB0ZXh0cyB3aXRoIHBoYXNlLXNwZWNpZmljIHRleHRzXG4gICAgY29uc3QgcGhhc2VUZXh0cyA9IHBoYXNlVGhpbmtpbmdUZXh0c1twaGFzZV0gfHwgcGhhc2VUaGlua2luZ1RleHRzLmludHJvXG4gICAgY29uc3QgdGhpbmtpbmdUZXh0cyA9IFsuLi5iYXNlVGhpbmtpbmdUZXh0cywgLi4ucGhhc2VUZXh0cywgXCJBbG1vc3QgcmVhZHlcIl1cbiAgICBcbiAgICAvLyBSZXNwb25zZSBmcmFnbWVudHMgdG8gc2ltdWxhdGUgc3RyZWFtaW5nIChzaG93IHBhcnRpYWwgcmVzcG9uc2VzIHdoaWxlIHdhaXRpbmcpXG4gICAgY29uc3QgcmVzcG9uc2VGcmFnbWVudHMgPSB7XG4gICAgICBwaGFzZTE6IFtcbiAgICAgICAgXCJBbmFseXppbmcgeW91ciBsZWFybmluZyBpbnRlcmVzdHMuLi5cIixcbiAgICAgICAgXCJJZGVudGlmeWluZyBpbml0aWFsIGxlYXJuaW5nIHBhdHRlcm5zLi4uXCIsXG4gICAgICAgIFwiUHJlcGFyaW5nIHBlcnNvbmFsaXplZCBndWlkYW5jZSBmb3IgeW91ciBqb3VybmV5Li4uXCIsXG4gICAgICAgIFwiRXZhbHVhdGluZyBwb3RlbnRpYWwgbGVhcm5pbmcgcGF0aHMgZm9yIHlvdS4uLlwiLFxuICAgICAgICBcIlN0cnVjdHVyaW5nIGluaXRpYWwgcmVjb21tZW5kYXRpb25zIGJhc2VkIG9uIHlvdXIgaW5wdXQuLi5cIlxuICAgICAgXSxcbiAgICAgIHBoYXNlMjogW1xuICAgICAgICBcIkFuYWx5emluZyB5b3VyIGxlYXJuaW5nIG9iamVjdGl2ZXMgaW4gZGV0YWlsLi4uXCIsXG4gICAgICAgIFwiRXZhbHVhdGluZyByZXNvdXJjZSByZXF1aXJlbWVudHMgZm9yIHlvdXIgZ29hbHMuLi5cIixcbiAgICAgICAgXCJBc3Nlc3Npbmcga25vd2xlZGdlIGdhcHMgYW5kIHByZXJlcXVpc2l0ZXMuLi5cIixcbiAgICAgICAgXCJQcmVwYXJpbmcgYSBzdHJ1Y3R1cmVkIGxlYXJuaW5nIHBsYW4gb3V0bGluZS4uLlwiLFxuICAgICAgICBcIklkZW50aWZ5aW5nIGtleSBtaWxlc3RvbmVzIGZvciB5b3VyIGxlYXJuaW5nIGpvdXJuZXkuLi5cIlxuICAgICAgXSxcbiAgICAgIHBoYXNlMzogW1xuICAgICAgICBcIkFuYWx5emluZyBob3cgdG8gYnJlYWsgZG93biB5b3VyIGNvbXBsZXggZ29hbC4uLlwiLFxuICAgICAgICBcIlN0cnVjdHVyaW5nIGludGVybWVkaWF0ZSBvYmplY3RpdmVzIGZvciB5b3UuLi5cIixcbiAgICAgICAgXCJNYXBwaW5nIGRlcGVuZGVuY2llcyBiZXR3ZWVuIGxlYXJuaW5nIGNvbXBvbmVudHMuLi5cIixcbiAgICAgICAgXCJFdmFsdWF0aW5nIG9wdGltYWwgc2VxdWVuY2luZyBmb3IgeW91ciBsZWFybmluZyBwYXRoLi4uXCIsXG4gICAgICAgIFwiUHJlcGFyaW5nIGFkYXB0aXZlIHNjYWZmb2xkaW5nIGJhc2VkIG9uIHlvdXIgbmVlZHMuLi5cIlxuICAgICAgXSxcbiAgICAgIHBoYXNlNDogW1xuICAgICAgICBcIkZvcm11bGF0aW5nIHNwZWNpZmljLCBtZWFzdXJhYmxlIGxlYXJuaW5nIG9iamVjdGl2ZXMuLi5cIixcbiAgICAgICAgXCJDcmVhdGluZyBTTUFSVCBnb2FsIHN0cnVjdHVyZXMgZm9yIHlvdXIgbGVhcm5pbmcuLi5cIixcbiAgICAgICAgXCJEZXNpZ25pbmcgYWN0aW9uYWJsZSBuZXh0IHN0ZXBzIGZvciBpbW1lZGlhdGUgcHJvZ3Jlc3MuLi5cIixcbiAgICAgICAgXCJFc3RhYmxpc2hpbmcgY2xlYXIgbWV0cmljcyB0byB0cmFjayB5b3VyIGFkdmFuY2VtZW50Li4uXCIsXG4gICAgICAgIFwiUHJlcGFyaW5nIGEgdGltZS1ib3VuZCBsZWFybmluZyBmcmFtZXdvcmsgZm9yIHlvdS4uLlwiXG4gICAgICBdLFxuICAgICAgZGVmYXVsdDogW1xuICAgICAgICBcIlByb2Nlc3NpbmcgeW91ciByZXF1ZXN0IHdpdGggY2FyZS4uLlwiLFxuICAgICAgICBcIkFuYWx5emluZyB0aGUgYmVzdCBhcHByb2FjaCB0byBoZWxwIHlvdS4uLlwiLFxuICAgICAgICBcIlByZXBhcmluZyBhIHRob3VnaHRmdWwsIHBlcnNvbmFsaXplZCByZXNwb25zZS4uLlwiLFxuICAgICAgICBcIlN0cnVjdHVyaW5nIGd1aWRhbmNlIHRhaWxvcmVkIHRvIHlvdXIgbmVlZHMuLi5cIixcbiAgICAgICAgXCJBbG1vc3QgcmVhZHkgd2l0aCB5b3VyIGN1c3RvbWl6ZWQgZmVlZGJhY2suLi5cIlxuICAgICAgXVxuICAgIH1cbiAgICBcbiAgICAvLyBHZXQgYXBwcm9wcmlhdGUgZnJhZ21lbnRzIGJhc2VkIG9uIGN1cnJlbnQgcGhhc2VcbiAgICBjb25zdCBnZXRQaGFzZUZyYWdtZW50cyA9ICgpID0+IHtcbiAgICAgIHJldHVybiByZXNwb25zZUZyYWdtZW50c1twaGFzZSBhcyBrZXlvZiB0eXBlb2YgcmVzcG9uc2VGcmFnbWVudHNdIHx8IHJlc3BvbnNlRnJhZ21lbnRzLmRlZmF1bHQ7XG4gICAgfVxuICAgIFxuICAgIC8vIEFkZCB0eXBpbmcgaW5kaWNhdG9yIHdpdGggaW5pdGlhbCBtZXNzYWdlXG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFtcbiAgICAgIC4uLnByZXYsXG4gICAgICB7XG4gICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICBzZW5kZXI6IFwiYm90XCIsXG4gICAgICAgIGNvbnRlbnQ6IHRoaW5raW5nVGV4dHNbMF0sXG4gICAgICAgIGlzVHlwaW5nOiB0cnVlLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgIF0pXG4gICAgXG4gICAgLy8gVXBkYXRlIHRoZSBtZXNzYWdlIGV2ZXJ5IDIgc2Vjb25kcyB3aXRoIGEgbmV3IHRoaW5raW5nIHRleHRcbiAgICAvLyBvciBhIHBhcnRpYWwgcmVzcG9uc2UgZnJhZ21lbnQgYWZ0ZXIgYSBmZXcgY3ljbGVzXG4gICAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGNvdW50ID0gKGNvdW50ICsgMSkgJSB0aGlua2luZ1RleHRzLmxlbmd0aFxuICAgICAgXG4gICAgICAvLyBBZnRlciBhIGZldyBjeWNsZXMsIHN0YXJ0IHNob3dpbmcgcmVzcG9uc2UgZnJhZ21lbnRzIHRvIHNpbXVsYXRlIHN0cmVhbWluZ1xuICAgICAgY29uc3QgY29udGVudCA9IGNvdW50ID4gMiAmJiBjb3VudCAlIDIgPT09IDAgXG4gICAgICAgID8gZ2V0UGhhc2VGcmFnbWVudHMoKVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBnZXRQaGFzZUZyYWdtZW50cygpLmxlbmd0aCldXG4gICAgICAgIDogdGhpbmtpbmdUZXh0c1tjb3VudF1cbiAgICAgIFxuICAgICAgc2V0TG9hZGluZ1RleHQoY29udGVudClcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHRoZSB0eXBpbmcgaW5kaWNhdG9yIG1lc3NhZ2VcbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBcbiAgICAgICAgcHJldi5tYXAobXNnID0+IFxuICAgICAgICAgIG1zZy5pc1R5cGluZyBcbiAgICAgICAgICAgID8geyAuLi5tc2csIGNvbnRlbnQ6IGNvbnRlbnQgfSBcbiAgICAgICAgICAgIDogbXNnXG4gICAgICAgIClcbiAgICAgIClcbiAgICB9LCAyMDAwKVxuICAgIFxuICAgIC8vIFN0b3JlIGludGVydmFsIElEIGZvciBsYXRlciBjbGVhbnVwXG4gICAgc2V0VGhpbmtpbmdJbnRlcnZhbElkKGludGVydmFsSWQpXG4gICAgXG4gICAgcmV0dXJuIGludGVydmFsSWRcbiAgfVxuXG4gIC8vIEFkZCB0aGlzIGhlbHBlciBmdW5jdGlvbiB0byBhaWQgd2l0aCBzdHJlYW1pbmcgc2ltdWxhdGlvblxuICBjb25zdCB1cGRhdGVUaGlua2luZ01lc3NhZ2UgPSAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFpc1R5cGluZykgcmV0dXJuXG4gICAgXG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFxuICAgICAgcHJldi5tYXAobXNnID0+IFxuICAgICAgICBtc2cuaXNUeXBpbmcgXG4gICAgICAgICAgPyB7IC4uLm1zZywgY29udGVudCB9IFxuICAgICAgICAgIDogbXNnXG4gICAgICApXG4gICAgKVxuICB9XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVybWluZSB0aGUgbmV4dCBwaGFzZSBpbiB0aGUgc2VxdWVuY2VcbiAgLy8gUGhhc2Ugc2VxdWVuY2U6IGludHJvIC0+IHBoYXNlMSAtPiBwaGFzZTIgLT4gcGhhc2UzIC0+IHBoYXNlNCAtPiBwaGFzZTUgLT4gcGhhc2U2IC0+IHN1bW1hcnlcbiAgY29uc3QgZ2V0TmV4dFBoYXNlSW5TZXF1ZW5jZSA9IChjdXJyZW50UGhhc2U6IHN0cmluZykgPT4ge1xuICAgIC8vIEZvciBQaGFzZSA0LCBoYW5kbGUgdGFzayBuYXZpZ2F0aW9uIHdpdGhpbiB0aGUgcGhhc2VcbiAgICBpZiAoY3VycmVudFBoYXNlID09PSBcInBoYXNlNFwiKSB7XG4gICAgICBpZiAoY29tcG9uZW50ID09PSBcImxvbmdfdGVybV9nb2Fsc1wiKSB7XG4gICAgICAgIHJldHVybiBcInNob3J0X3Rlcm1fZ29hbHNcIjsgLy8gTmF2aWdhdGUgdG8gc2hvcnQgdGVybSBnb2FscyB0YXNrXG4gICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudCA9PT0gXCJzaG9ydF90ZXJtX2dvYWxzXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiY29udGluZ2VuY3lfc3RyYXRlZ2llc1wiOyAvLyBOYXZpZ2F0ZSB0byBjb250aW5nZW5jeSBzdHJhdGVnaWVzIHRhc2tcbiAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50ID09PSBcImNvbnRpbmdlbmN5X3N0cmF0ZWdpZXNcIikge1xuICAgICAgICByZXR1cm4gXCJwaGFzZTVcIjsgLy8gTmF2aWdhdGUgdG8gbmV4dCBwaGFzZSBhZnRlciBjb21wbGV0aW5nIGFsbCB0YXNrc1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBEZWZhdWx0IHBoYXNlIHNlcXVlbmNlIGxvZ2ljXG4gICAgY29uc3QgcGhhc2VTZXF1ZW5jZSA9IFtcImludHJvXCIsIFwicGhhc2UxXCIsIFwicGhhc2UyXCIsIFwicGhhc2UzXCIsIFwicGhhc2U0XCIsIFwicGhhc2U1XCIsIFwicGhhc2U2XCIsIFwic3VtbWFyeVwiXTtcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBwaGFzZVNlcXVlbmNlLmluZGV4T2YoY3VycmVudFBoYXNlKTtcbiAgICBcbiAgICBpZiAoY3VycmVudEluZGV4ID09PSAtMSB8fCBjdXJyZW50SW5kZXggPT09IHBoYXNlU2VxdWVuY2UubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIFwic3VtbWFyeVwiOyAvLyBEZWZhdWx0IHRvIHN1bW1hcnkgaWYgbm90IGZvdW5kIG9yIGlmIGl0J3MgdGhlIGxhc3QgcGhhc2VcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHBoYXNlU2VxdWVuY2VbY3VycmVudEluZGV4ICsgMV07XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8Q2FyZCBjbGFzc05hbWU9XCJiZy1zbGF0ZS05MDAvNjAgYmFja2Ryb3AtYmx1ci1tZCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIHNoYWRvdy14bCBtYi02IG1heC13LWZ1bGxcIj5cbiAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwLTAgbWF4LXctZnVsbFwiPlxuICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1pbmRpZ28tOTAwLzUwIHRvLXB1cnBsZS05MDAvNTAgcC00IHJvdW5kZWQtdC1sZyBib3JkZXItYiBib3JkZXItaW5kaWdvLTUwMC8zMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctMTIgaC0xMlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTIgaC0xMiByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wdXJwbGUtNjAwLzgwIHRvLWJsdWUtNTAwLzUwIHNoYWRvdy1bMF8wXzE1cHhfcmdiYSgxMjIsODYsMjIwLDAuNSldIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPEJvdCBjbGFzc05hbWU9XCJoLTYgdy02IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICBhbmltYXRlPXt7XG4gICAgICAgICAgICAgICAgICBzY2FsZTogWzEsIDEuMiwgMV0sXG4gICAgICAgICAgICAgICAgICBvcGFjaXR5OiBbMC43LCAxLCAwLjddLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17e1xuICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIsXG4gICAgICAgICAgICAgICAgICByZXBlYXQ6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgICAgICAgIGVhc2U6IFwiZWFzZUluT3V0XCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHctMTIgaC0xMiByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTUwMC8zMCAtei0xMFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgYW5pbWF0ZT17e1xuICAgICAgICAgICAgICAgICAgc2NhbGU6IFsxLCAxLjQsIDFdLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogWzAuNSwgMC44LCAwLjVdLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17e1xuICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDMsXG4gICAgICAgICAgICAgICAgICByZXBlYXQ6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgICAgICAgIGVhc2U6IFwiZWFzZUluT3V0XCIsXG4gICAgICAgICAgICAgICAgICBkZWxheTogMC41LFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCB3LTEyIGgtMTIgcm91bmRlZC1mdWxsIGJnLWJsdWUtNTAwLzIwIC16LTIwXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtd2hpdGVcIj5Tb0xCb3Q8L2gyPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWluZGlnby0zMDAgdGV4dC1zbVwiPllvdXIgQUkgTGVhcm5pbmcgQ29hY2g8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWluZGlnby01MDAvMjAgcHgtMyBweS0xIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLWluZGlnby01MDAvMzBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIHJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwMCBhbmltYXRlLXB1bHNlXCI+PC9kaXY+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1pbmRpZ28tMzAwXCI+T25saW5lPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBDaGF0IENvbnRhaW5lciAqL31cbiAgICAgICAgPGRpdiBpZD1cImNoYXQtY29udGFpbmVyXCIgc3R5bGU9e3sgaGVpZ2h0IH19IGNsYXNzTmFtZT1cIm92ZXJmbG93LXktYXV0byBwLTQgc3BhY2UteS00XCI+XG4gICAgICAgICAge21lc3NhZ2VzLm1hcCgobWVzc2FnZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxkaXYga2V5PXtgJHttZXNzYWdlLmlkfS0ke2luZGV4fWB9IGNsYXNzTmFtZT17YGZsZXggJHttZXNzYWdlLnNlbmRlciA9PT0gXCJib3RcIiA/IFwiXCIgOiBcImp1c3RpZnktZW5kXCJ9YH0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCAke21lc3NhZ2Uuc2VuZGVyID09PSBcImJvdFwiID8gXCJcIiA6IFwiZmxleC1yb3ctcmV2ZXJzZVwifSBtYXgtdy1bODAlXWB9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCBtci0zXCI+XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zZW5kZXIgPT09IFwiYm90XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgaC0xMCB3LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEwIHctMTAgcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTYwMC84MCB0by1ibHVlLTUwMC81MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJvdCBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBbMSwgMS4yLCAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogWzAuNywgMSwgMC43XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQ6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzZTogXCJlYXNlSW5PdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHctMTAgaC0xMCByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTUwMC8zMCAtei0xMFwiXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTAgdy0xMCByb3VuZGVkLWZ1bGwgYmctaW5kaWdvLTYwMC8zMCBib3JkZXIgYm9yZGVyLWluZGlnby01MDAvMzAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8VXNlciBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtaW5kaWdvLTMwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VuZGVyID09PSBcImJvdFwiXG4gICAgICAgICAgICAgICAgICAgICAgPyBcImJnLXNsYXRlLTgwMC81MCBib3JkZXIgYm9yZGVyLWluZGlnby01MDAvMzAgdGV4dC13aGl0ZS85MFwiXG4gICAgICAgICAgICAgICAgICAgICAgOiBcImJnLWluZGlnby02MDAvMzAgYm9yZGVyIGJvcmRlci1pbmRpZ28tNTAwLzMwIHRleHQtd2hpdGUvOTBcIlxuICAgICAgICAgICAgICAgICAgfSByb3VuZGVkLWxnIHAtNCBicmVhay13b3JkcyBvdmVyZmxvdy1oaWRkZW5gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmlzVHlwaW5nID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc3BhY2UteS0zIHAtMSB3LWZ1bGwgbWluLXctWzE4MHB4XVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWluZGlnby0zMDAgZm9udC1tZWRpdW0gbWwtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UuY29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIHJvdW5kZWQtZnVsbCBiZy1wdXJwbGUtNTAwIGFuaW1hdGUtcHVsc2VcIiBzdHlsZT17eyBhbmltYXRpb25EdXJhdGlvbjogXCIwLjhzXCIgfX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgcm91bmRlZC1mdWxsIGJnLWluZGlnby01MDAgYW5pbWF0ZS1wdWxzZVwiIHN0eWxlPXt7IGFuaW1hdGlvbkR1cmF0aW9uOiBcIjAuOHNcIiwgYW5pbWF0aW9uRGVsYXk6IFwiMC4yc1wiIH19PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIHJvdW5kZWQtZnVsbCBiZy1ibHVlLTUwMCBhbmltYXRlLXB1bHNlXCIgc3R5bGU9e3sgYW5pbWF0aW9uRHVyYXRpb246IFwiMC44c1wiLCBhbmltYXRpb25EZWxheTogXCIwLjRzXCIgfX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgcm91bmRlZC1mdWxsIGJnLWN5YW4tNTAwIGFuaW1hdGUtcHVsc2VcIiBzdHlsZT17eyBhbmltYXRpb25EdXJhdGlvbjogXCIwLjhzXCIsIGFuaW1hdGlvbkRlbGF5OiBcIjAuNnNcIiB9fT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB7LyogUHJvZ3Jlc3MgYmFyIGFuaW1hdGlvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBiZy1zbGF0ZS03MDAvNTAgcm91bmRlZC1mdWxsIGgtMS41IG10LTEgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC1mdWxsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1pbmRpZ28tNTAwIHZpYS1wdXJwbGUtNTAwIHRvLXBpbmstNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyB3aWR0aDogXCIxMCVcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBbXCIxMCVcIiwgXCIzMCVcIiwgXCI2MCVcIiwgXCI5MCVcIiwgXCI5NSVcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNlOiBcImVhc2VJbk91dFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXRUeXBlOiBcInJldmVyc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtaW5kaWdvLTMwMC83MCBpdGFsaWMgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBtaWdodCB0YWtlIGEgbW9tZW50IGZvciBjb21wbGV4IHJlc3BvbnNlcy4uLlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gJ3N0cmluZycgXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgdXNlIENoYXRNZXNzYWdlUGFyc2VyIGZvciBwaGFzZXMgd2hlcmUgY2xpY2thYmxlIGNvbXBvbmVudHMgYXJlIGRlc2lyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIGZvciBwaGFzZXMgMiwgNCwgYW5kIDUgYXMgcmVxdWVzdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhhc2UgPT09IFwicGhhc2UyXCIgfHwgcGhhc2UgPT09IFwicGhhc2U0XCIgfHwgcGhhc2UgPT09IFwicGhhc2U1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IDxNYXJrZG93blJlbmRlcmVyIGNvbnRlbnQ9e2NsZWFuTWVzc2FnZUNvbnRlbnQobWVzc2FnZS5jb250ZW50KX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDxDaGF0TWVzc2FnZVBhcnNlciBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudD17Y2xlYW5NZXNzYWdlQ29udGVudChtZXNzYWdlLmNvbnRlbnQpfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcHRpb25TZWxlY3Q9eyhzZWxlY3RlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHRlbXBvcmFyeSBzdGF0ZSBmb3IgdGhlIGlucHV0IHRvIHBhc3MgdG8gaGFuZGxlU2VuZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRVc2VySW5wdXQoc2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgdXNlciBtZXNzYWdlIHRvIHRoZSBjaGF0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VXNlck1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlcjogXCJ1c2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBzZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgbmV3VXNlck1lc3NhZ2VdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIHRoZSBzZWxlY3RlZCBvcHRpb24gYXMgYSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBvblNlbmRNZXNzYWdlIGNhbGxiYWNrIGlmIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25TZW5kTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbmRNZXNzYWdlKHNlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB0aGUgbWVzc2FnZSB0byB0aGUgYWdlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVNlbmRNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VXNlcklucHV0KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogbWVzc2FnZS5jb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgey8qIFNjYWZmb2xkaW5nIHN0ZXAgaW5kaWNhdG9yICovfVxuICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnR5cGUgPT09IFwic2NhZmZvbGRcIiAmJiBtZXNzYWdlLnNjYWZmb2xkU3RlcCAmJiBtZXNzYWdlLnNjYWZmb2xkVG90YWxTdGVwcyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQteHMgdGV4dC1pbmRpZ28tMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5TdGVwIHttZXNzYWdlLnNjYWZmb2xkU3RlcH0gb2Yge21lc3NhZ2Uuc2NhZmZvbGRUb3RhbFN0ZXBzfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnNjYWZmb2xkSGludCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpdGFsaWMgdGV4dC1pbmRpZ28tMzAwLzgwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIaW50OiB7bWVzc2FnZS5zY2FmZm9sZEhpbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBTcGVjaWFsIGNvbnRlbnQgYmFzZWQgb24gbWVzc2FnZSB0eXBlICovfVxuICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnR5cGUgPT09IFwidmlkZW9cIiAmJiB2aWRlb0NvbXBvbmVudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj57dmlkZW9Db21wb25lbnR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS50eXBlID09PSBcInF1aXpcIiAmJiBxdWl6Q29tcG9uZW50ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPntxdWl6Q29tcG9uZW50fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UudHlwZSA9PT0gXCJmZWVkYmFja1wiICYmIGZlZWRiYWNrQ29tcG9uZW50ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPntmZWVkYmFja0NvbXBvbmVudH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnR5cGUgPT09IFwic3VtbWFyeVwiICYmIHN1bW1hcnlDb21wb25lbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+e3N1bW1hcnlDb21wb25lbnR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zaG93Q29udGludWUgJiYgb25Db250aW51ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb25QaGFzZUNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGwgYmFjayB0byByZWd1bGFyIGNvbnRpbnVlIGlmIG5vIG9uUGhhc2VDb21wbGV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25Db250aW51ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29udGludWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRTdGVwID0gZ2V0TmV4dFBoYXNlSW5TZXF1ZW5jZShwaGFzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBQaGFzZSA0LCBpZiBpdCdzIGEgdGFzayB0cmFuc2l0aW9uIHdpdGhpbiB0aGUgcGhhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaGFzZSA9PT0gXCJwaGFzZTRcIiAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobmV4dFN0ZXAgPT09IFwic2hvcnRfdGVybV9nb2Fsc1wiIHx8IG5leHRTdGVwID09PSBcImNvbnRpbmdlbmN5X3N0cmF0ZWdpZXNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB3aXRoIHNjb3JlIGluZm8gdG8gbWFpbnRhaW4gcHJvZ3Jlc3MgdHJhY2tpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25QaGFzZUNvbXBsZXRlKGAke25leHRTdGVwfTpzY29yZToyLjVgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlZ3VsYXIgcGhhc2UgdHJhbnNpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblBoYXNlQ29tcGxldGUobmV4dFN0ZXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWluZGlnby02MDAgdG8tcHVycGxlLTYwMCBob3Zlcjpmcm9tLWluZGlnby03MDAgaG92ZXI6dG8tcHVycGxlLTcwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC02XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFycm93UmlnaHQgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogSW5wdXQgQXJlYSAqL31cbiAgICAgICAge2FsbG93SW5wdXQgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWluZGlnby01MDAvMzAgcC00XCI+XG4gICAgICAgICAgICB7dXNlU2NhZmZvbGRpbmcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQteHMgdGV4dC1pbmRpZ28tMzAwXCI+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPlN0ZXAge2N1cnJlbnRTY2FmZm9sZFN0ZXB9IG9mIHtzY2FmZm9sZGluZ1N0ZXBzfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7LyogQ2hhcmFjdGVyIGxpbWl0IGNvdW50ZXIgLSBvbmx5IHNob3dzIHdoZW4gYXBwcm9hY2hpbmcgbGltaXQgKi99XG4gICAgICAgICAgICAgICAge2NoYXJhY3RlcnNSZW1haW5pbmcgPD0gMTAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjaGFyYWN0ZXJzUmVtYWluaW5nIDwgMCA/ICd0ZXh0LXJlZC00MDAnIDogJ3RleHQtaW5kaWdvLTMwMCd9YH0+XG4gICAgICAgICAgICAgICAgICAgIHtjaGFyYWN0ZXJzUmVtYWluaW5nfSBjaGFyYWN0ZXJzIHJlbWFpbmluZ1xuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtZW5kIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgIGlkPVwiY2hhdC1tZXNzYWdlLWlucHV0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwiY2hhdC1tZXNzYWdlXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dXNlcklucHV0fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VXNlcklucHV0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIHlvdXIgcmVzcG9uc2UuLi5cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1pbi1oLVs4MHB4XSBmbGV4LTEgYmctc2xhdGUtODAwLzUwIGJvcmRlciBib3JkZXItaW5kaWdvLTUwMC8zMCB0ZXh0LXdoaXRlIHJlc2l6ZS1ub25lXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNUeXBpbmd9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZW5kTWVzc2FnZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BiZy1pbmRpZ28tNjAwIGhvdmVyOmJnLWluZGlnby03MDAgaC0xMCB3LTEwIHJvdW5kZWQtZnVsbCBwLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgJHtcbiAgICAgICAgICAgICAgICAgIGlzVHlwaW5nID8gXCJvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZFwiIDogXCJcIlxuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1R5cGluZyB8fCB1c2VySW5wdXQubGVuZ3RoID09PSAwIHx8IHVzZXJJbnB1dC5sZW5ndGggPiBtYXhNZXNzYWdlTGVuZ3RofVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFNlbmQgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBDaGFyYWN0ZXIgbGltaXQgd2FybmluZyAqL31cbiAgICAgICAgICAgIHt1c2VySW5wdXQubGVuZ3RoID4gbWF4TWVzc2FnZUxlbmd0aCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXhzIHRleHQtcmVkLTQwMFwiPlxuICAgICAgICAgICAgICAgIFlvdXIgbWVzc2FnZSBleGNlZWRzIHRoZSBtYXhpbXVtIGFsbG93ZWQgbGVuZ3RoLiBQbGVhc2Ugc2hvcnRlbiBpdC5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBBbHdheXMgdmlzaWJsZSBDb250aW51ZSBidXR0b24gKi99XG4gICAgICAgIHthbHdheXNTaG93Q29udGludWUgJiYgb25QaGFzZUNvbXBsZXRlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1pbmRpZ28tNTAwLzMwIHAtNCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIW9uUGhhc2VDb21wbGV0ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRTdGVwID0gZ2V0TmV4dFBoYXNlSW5TZXF1ZW5jZShwaGFzZSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRm9yIFBoYXNlIDQsIGlmIGl0J3MgYSB0YXNrIHRyYW5zaXRpb24gd2l0aGluIHRoZSBwaGFzZVxuICAgICAgICAgICAgICAgIGlmIChwaGFzZSA9PT0gXCJwaGFzZTRcIiAmJiBcbiAgICAgICAgICAgICAgICAgICAgKG5leHRTdGVwID09PSBcInNob3J0X3Rlcm1fZ29hbHNcIiB8fCBuZXh0U3RlcCA9PT0gXCJjb250aW5nZW5jeV9zdHJhdGVnaWVzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBTZW5kIHdpdGggc2NvcmUgaW5mbyB0byBtYWludGFpbiBwcm9ncmVzcyB0cmFja2luZ1xuICAgICAgICAgICAgICAgICAgb25QaGFzZUNvbXBsZXRlKGAke25leHRTdGVwfTpzY29yZToyLjVgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gUmVndWxhciBwaGFzZSB0cmFuc2l0aW9uXG4gICAgICAgICAgICAgICAgICBvblBoYXNlQ29tcGxldGUobmV4dFN0ZXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWluZGlnby02MDAgdG8tcHVycGxlLTYwMCBob3Zlcjpmcm9tLWluZGlnby03MDAgaG92ZXI6dG8tcHVycGxlLTcwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC02XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3BoYXNlID09PSBcInBoYXNlNFwiICYmIChjb21wb25lbnQgPT09IFwibG9uZ190ZXJtX2dvYWxzXCIgfHwgY29tcG9uZW50ID09PSBcInNob3J0X3Rlcm1fZ29hbHNcIikgXG4gICAgICAgICAgICAgICAgPyBcIkNvbnRpbnVlXCIgXG4gICAgICAgICAgICAgICAgOiBcIkNvbnRpbnVlIHRvIE5leHQgUGhhc2VcIn1cbiAgICAgICAgICAgICAgPEFycm93UmlnaHQgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L0NhcmRDb250ZW50PlxuICAgIDwvQ2FyZD5cbiAgKVxufSAiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJtb3Rpb24iLCJCb3QiLCJTZW5kIiwiVXNlciIsIkFycm93UmlnaHQiLCJUZXh0YXJlYSIsIkJ1dHRvbiIsIkNhcmQiLCJDYXJkQ29udGVudCIsInY0IiwidXVpZHY0IiwiTWFya2Rvd25SZW5kZXJlciIsIkNoYXRNZXNzYWdlUGFyc2VyIiwiU29sQm90Q2hhdCIsImluaXRpYWxNZXNzYWdlcyIsIm9uU2VuZE1lc3NhZ2UiLCJvbkNvbnRpbnVlIiwib25QaGFzZUNvbXBsZXRlIiwib25TdGFnZUNoYW5nZSIsImFsbG93SW5wdXQiLCJzaG93Q29udGludWVCdXR0b24iLCJhbHdheXNTaG93Q29udGludWUiLCJoZWlnaHQiLCJjaGlsZHJlbiIsInZpZGVvQ29tcG9uZW50IiwicXVpekNvbXBvbmVudCIsImZlZWRiYWNrQ29tcG9uZW50Iiwic3VtbWFyeUNvbXBvbmVudCIsInVzZVNjYWZmb2xkaW5nIiwic2NhZmZvbGRpbmdTdGVwcyIsIm1heE1lc3NhZ2VMZW5ndGgiLCJ1c2VySWQiLCJwaGFzZSIsImNvbXBvbmVudCIsInVzZUFnZW50IiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsInVzZXJJbnB1dCIsInNldFVzZXJJbnB1dCIsImlzVHlwaW5nIiwic2V0SXNUeXBpbmciLCJjdXJyZW50U2NhZmZvbGRTdGVwIiwic2V0Q3VycmVudFNjYWZmb2xkU3RlcCIsImNoYXJhY3RlcnNSZW1haW5pbmciLCJzZXRDaGFyYWN0ZXJzUmVtYWluaW5nIiwiY29udmVyc2F0aW9uSWQiLCJzZXRDb252ZXJzYXRpb25JZCIsImxvYWRpbmdUZXh0Iiwic2V0TG9hZGluZ1RleHQiLCJ0aGlua2luZ0ludGVydmFsSWQiLCJzZXRUaGlua2luZ0ludGVydmFsSWQiLCJwcmVkZWZpbmVkUmVzcG9uc2VzIiwicGhhc2UxIiwid2VsY29tZSIsImdlbmVyYWwiLCJkZWZhdWx0IiwibGVuZ3RoIiwiY2hhdENvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJnZXRDb250ZXh0dWFsUmVzcG9uc2UiLCJyZXNwb25zZXMiLCJwaGFzZTQiLCJsb25nX3Rlcm1fZ29hbHMiLCJzaG9ydF90ZXJtX2dvYWxzIiwiY29udGluZ2VuY3lfc3RyYXRlZ2llcyIsInBoYXNlNSIsImhhbmRsZVNlbmRNZXNzYWdlIiwidHJpbSIsIm5ld1VzZXJNZXNzYWdlIiwiaWQiLCJEYXRlIiwibm93Iiwic2VuZGVyIiwiY29udGVudCIsInRpbWVzdGFtcCIsInNjYWZmb2xkU3RlcCIsInVuZGVmaW5lZCIsInByZXYiLCJtZXNzYWdlU2VudCIsImludGVydmFsSWQiLCJzdGFydFRoaW5raW5nQW5pbWF0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiY2xlYXJJbnRlcnZhbCIsImZpbHRlciIsIm1zZyIsInJlc3BvbnNlVGV4dCIsInNob3dQaGFzZTFDb250aW51ZSIsIm0iLCJuZXdCb3RNZXNzYWdlIiwidHlwZSIsInNob3dDb250aW51ZSIsIm5leHRfcGhhc2UiLCJlcnJvciIsImNvbnNvbGUiLCJhZ2VudFBoYXNlIiwiaXNCYWNrZW5kQWxpdmUiLCJoZWFsdGhDaGVja0NvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJoZWFsdGhDaGVja1RpbWVvdXQiLCJhYm9ydCIsImhlYWx0aENoZWNrIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwic2lnbmFsIiwiY2xlYXJUaW1lb3V0IiwibG9nIiwib2siLCJ3YXJuIiwic3RhdHVzIiwiaGVhbHRoRXJyb3IiLCJmYWxsYmFja01lc3NhZ2UiLCJhcGlDb250cm9sbGVyIiwiYXBpVGltZW91dElkIiwicmVzcG9uc2UiLCJyZXRyeUNvdW50IiwibWF4UmV0cmllcyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibWVzc2FnZSIsIkVycm9yIiwibmFtZSIsImZhbGxiYWNrUmVzcG9uc2UiLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJzdWJzdHJpbmciLCJhZ2VudF90eXBlIiwic2NhZmZvbGRpbmdfbGV2ZWwiLCJ0b0lTT1N0cmluZyIsImNvbnZlcnNhdGlvbl9pZCIsInVzZXJfaWQiLCJlcnJvclRleHQiLCJ0ZXh0IiwidGV4dEVycm9yIiwicmVzcG9uc2VEYXRhIiwicGFyc2VFcnJvciIsIlN0cmluZyIsImdldE5leHRQaGFzZUluU2VxdWVuY2UiLCJuZXh0X2ludHJvX3N0YWdlIiwiZXJyb3JNZXNzYWdlIiwiY2xlYW5NZXNzYWdlQ29udGVudCIsImluY2x1ZGVzIiwic2VjdGlvbnMiLCJzcGxpdCIsImkiLCJzZWN0aW9uIiwic3BlY2lmaWNpdHlNYXRjaCIsIm1hdGNoIiwia25vd2xlZGdlTWF0Y2giLCJyZXNvdXJjZU1hdGNoIiwic3BlY2lmaWNpdHlTY29yZSIsInBhcnNlSW50Iiwia25vd2xlZGdlU2NvcmUiLCJyZXNvdXJjZVNjb3JlIiwiYXZnU2NvcmUiLCJ0b0ZpeGVkIiwiYXZnU2NvcmVOdW0iLCJwYXJzZUZsb2F0Iiwic3VwcG9ydExldmVsIiwiZW5oYW5jZWRFdmFsdWF0aW9uIiwiZ2V0UHJvZ3Jlc3NCYXIiLCJnZXRJbXByb3ZlbWVudFRpcCIsImdldFN1cHBvcnRNZXNzYWdlIiwiam9pbiIsInBhdHRlcm5zIiwiY2xlYW5lZENvbnRlbnQiLCJmb3JFYWNoIiwicGF0dGVybiIsInJlcGxhY2UiLCJzY29yZSIsImJhciIsImZ1bGxDb2xvciIsImVtcHR5Q29sb3IiLCJmaWxsZWQiLCJNYXRoIiwicm91bmQiLCJlbXB0eSIsInJlcGVhdCIsImNyaXRlcmlvbiIsInBoYXNlU3BlY2lmaWNUaXBzIiwiU3BlY2lmaWNpdHkiLCJwaGFzZTIiLCJwaGFzZTMiLCJoYW5kbGVLZXlEb3duIiwiZSIsImtleSIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJhZGRCb3RNZXNzYWdlIiwic2NhZmZvbGRPcHRpb25zIiwibmV3TWVzc2FnZSIsInN0ZXAiLCJzY2FmZm9sZFRvdGFsU3RlcHMiLCJ0b3RhbFN0ZXBzIiwic2NhZmZvbGRIaW50IiwiaGludCIsImNoYXJhY3RlckxpbWl0Iiwic2ltdWxhdGVCb3RUeXBpbmciLCJjYWxsYmFjayIsImNvdW50IiwiYmFzZVRoaW5raW5nVGV4dHMiLCJwaGFzZVRoaW5raW5nVGV4dHMiLCJpbnRybyIsInN1bW1hcnkiLCJwaGFzZVRleHRzIiwidGhpbmtpbmdUZXh0cyIsInJlc3BvbnNlRnJhZ21lbnRzIiwiZ2V0UGhhc2VGcmFnbWVudHMiLCJzZXRJbnRlcnZhbCIsImZsb29yIiwicmFuZG9tIiwibWFwIiwidXBkYXRlVGhpbmtpbmdNZXNzYWdlIiwiY3VycmVudFBoYXNlIiwicGhhc2VTZXF1ZW5jZSIsImN1cnJlbnRJbmRleCIsImluZGV4T2YiLCJjbGFzc05hbWUiLCJkaXYiLCJhbmltYXRlIiwic2NhbGUiLCJvcGFjaXR5IiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJlYXNlIiwiZGVsYXkiLCJoMiIsInAiLCJzcGFuIiwic3R5bGUiLCJpbmRleCIsImFuaW1hdGlvbkR1cmF0aW9uIiwiYW5pbWF0aW9uRGVsYXkiLCJpbml0aWFsIiwid2lkdGgiLCJJbmZpbml0eSIsInJlcGVhdFR5cGUiLCJvbk9wdGlvblNlbGVjdCIsInNlbGVjdGVkIiwib25DbGljayIsIm5leHRTdGVwIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsIm9uS2V5RG93biIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/solbot-chat.tsx\n"));

/***/ })

});